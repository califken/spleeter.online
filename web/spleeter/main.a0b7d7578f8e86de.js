(self.webpackChunkngspleeter=self.webpackChunkngspleeter||[]).push([[179],{2011:(st,be,k)=>{"use strict";k.d(be,{Dh:()=>ge,GT:()=>ie,cc:()=>Ie,hO:()=>Se,on:()=>B,pX:()=>te,xv:()=>pe});var v=k(4650),q=k(9260),N=k(7750);st=k.hmd(st);const se=["ngOnDestroy"],te=(Re,we,Pe,Te={})=>new Proxy(Re,{get:(me,ve)=>Pe.runOutsideAngular(()=>{var Be;if(Re[ve])return!(null===(Be=Te?.spy)||void 0===Be)&&Be.get&&Te.spy.get(ve,Re[ve]),Re[ve];if(se.indexOf(ve)>-1)return()=>{};const Me=we.toPromise().then(Ke=>{const ee=Ke&&Ke[ve];return"function"==typeof ee?ee.bind(Ke):ee&&ee.then?ee.then(lt=>Pe.run(()=>lt)):Pe.run(()=>ee)});return new Proxy(()=>{},{get:(Ke,ee)=>Me[ee],apply:(Ke,ee,lt)=>Me.then(ze=>{var It;const qe=ze&&ze(...lt);return!(null===(It=Te?.spy)||void 0===It)&&It.apply&&Te.spy.apply(ve,lt,qe),qe})})})}),ie=(Re,we)=>{we.forEach(Pe=>{Object.getOwnPropertyNames(Pe.prototype||Pe).forEach(Te=>{Object.defineProperty(Re.prototype,Te,Object.getOwnPropertyDescriptor(Pe.prototype||Pe,Te))})})};class fe{constructor(we){return we}}const ge=new v.OlP("angularfire2.app.options"),pe=new v.OlP("angularfire2.app.name");function B(Re,we,Pe){const me="object"==typeof Pe&&Pe||{};me.name=me.name||"string"==typeof Pe&&Pe||"[DEFAULT]";const Be=q.Z.apps.filter(Me=>Me&&Me.name===me.name)[0]||we.runOutsideAngular(()=>q.Z.initializeApp(Re,me));try{JSON.stringify(Re)!==JSON.stringify(Be.options)&&F("error",`${Be.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Be)}const F=(Re,...we)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Re](...we)},K={provide:fe,useFactory:B,deps:[ge,v.R0b,[new v.FiY,pe]]};let Se=(()=>{class Re{constructor(Pe){q.Z.registerVersion("angularfire",N.q4.full,"core"),q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),q.Z.registerVersion("angular",v.q4F.full,Pe.toString())}static initializeApp(Pe,Te){return{ngModule:Re,providers:[{provide:ge,useValue:Pe},{provide:pe,useValue:Te}]}}}return Re.\u0275fac=function(Pe){return new(Pe||Re)(v.LFG(v.Lbi))},Re.\u0275mod=v.oAB({type:Re}),Re.\u0275inj=v.cJS({providers:[K]}),Re})();function Ie(Re,we,Pe,Te,me){const[,ve,Be]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===Re)||[];if(ve)return function ct(Re,we){try{return Re.toString()===we.toString()}catch{return Re===we}}(me,Be)||(ae("error",`${we} was already initialized on the ${Pe} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:me,was:Be})),ve;{const Me=Te();return globalThis.\u0275AngularfireInstanceCache.push([Re,Me,me]),Me}}const He=!!st.hot,ae=(Re,...we)=>{(0,v.X6Q)()&&typeof console<"u"&&console[Re](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7750:(st,be,k)=>{"use strict";k.d(be,{q4:()=>Kl,iC:()=>on,HU:()=>Zu,vb:()=>xr,JM:()=>zu});var v=k(4650),q=k(259),N=k(5861),se=k(6881),te=k(2090),ie=k(4859),fe=k(1877);const ge=(_,I)=>I.some(b=>_ instanceof b);let pe,B;const Se=new WeakMap,Ie=new WeakMap,ct=new WeakMap,He=new WeakMap,ae=new WeakMap;let Pe={get(_,I,b){if(_ instanceof IDBTransaction){if("done"===I)return Ie.get(_);if("objectStoreNames"===I)return _.objectStoreNames||ct.get(_);if("store"===I)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return Be(_[I])},set:(_,I,b)=>(_[I]=b,!0),has:(_,I)=>_ instanceof IDBTransaction&&("done"===I||"store"===I)||I in _};function ve(_){return"function"==typeof _?function me(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...I){return _.apply(Me(this),I),Be(Se.get(this))}:function(...I){return Be(_.apply(Me(this),I))}:function(I,...b){const P=_.call(Me(this),I,...b);return ct.set(P,I.sort?I.sort():[I]),Be(P)}}(_):(_ instanceof IDBTransaction&&function we(_){if(Ie.has(_))return;const I=new Promise((b,P)=>{const H=()=>{_.removeEventListener("complete",z),_.removeEventListener("error",oe),_.removeEventListener("abort",oe)},z=()=>{b(),H()},oe=()=>{P(_.error||new DOMException("AbortError","AbortError")),H()};_.addEventListener("complete",z),_.addEventListener("error",oe),_.addEventListener("abort",oe)});Ie.set(_,I)}(_),ge(_,function F(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,Pe):_)}function Be(_){if(_ instanceof IDBRequest)return function Re(_){const I=new Promise((b,P)=>{const H=()=>{_.removeEventListener("success",z),_.removeEventListener("error",oe)},z=()=>{b(Be(_.result)),H()},oe=()=>{P(_.error),H()};_.addEventListener("success",z),_.addEventListener("error",oe)});return I.then(b=>{b instanceof IDBCursor&&Se.set(b,_)}).catch(()=>{}),ae.set(I,_),I}(_);if(He.has(_))return He.get(_);const I=ve(_);return I!==_&&(He.set(_,I),ae.set(I,_)),I}const Me=_=>ae.get(_),lt=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],It=new Map;function qe(_,I){if(!(_ instanceof IDBDatabase)||I in _||"string"!=typeof I)return;if(It.get(I))return It.get(I);const b=I.replace(/FromIndex$/,""),P=I!==b,H=ze.includes(b);if(!(b in(P?IDBIndex:IDBObjectStore).prototype)||!H&&!lt.includes(b))return;const z=function(){var oe=(0,N.Z)(function*(Ue,...xe){const je=this.transaction(Ue,H?"readwrite":"readonly");let rt=je.store;return P&&(rt=rt.index(xe.shift())),(yield Promise.all([rt[b](...xe),H&&je.done]))[0]});return function(xe){return oe.apply(this,arguments)}}();return It.set(I,z),z}!function Te(_){Pe=_(Pe)}(_=>({..._,get:(I,b,P)=>qe(I,b)||_.get(I,b,P),has:(I,b)=>!!qe(I,b)||_.has(I,b)}));const Mi="@firebase/installations",pr="0.6.4",Ni=1e4,ci=`w:${pr}`,re="FIS_v2",le="https://firebaseinstallations.googleapis.com/v1",de=36e5,Qe=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(_){return _ instanceof te.ZR&&_.code.includes("request-failed")}function Zt({projectId:_}){return`${le}/projects/${_}/installations`}function Xe(_){return{token:_.token,requestStatus:2,expiresIn:qn(_.expiresIn),creationTime:Date.now()}}function bt(_,I){return nn.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(_,I){const P=(yield I.json()).error;return Qe.create("request-failed",{requestName:_,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function Wt({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function Cn(_){return cn.apply(this,arguments)}function cn(){return(cn=(0,N.Z)(function*(_){const I=yield _();return I.status>=500&&I.status<600?_():I})).apply(this,arguments)}function qn(_){return Number(_.replace("s","000"))}function it(){return(it=(0,N.Z)(function*({appConfig:_,heartbeatServiceProvider:I},{fid:b}){const P=Zt(_),H=Wt(_),z=I.getImmediate({optional:!0});if(z){const je=yield z.getHeartbeatsHeader();je&&H.append("x-firebase-client",je)}const Ue={method:"POST",headers:H,body:JSON.stringify({fid:b,authVersion:re,appId:_.appId,sdkVersion:ci})},xe=yield Cn(()=>fetch(P,Ue));if(xe.ok){const je=yield xe.json();return{fid:je.fid||b,registrationStatus:2,refreshToken:je.refreshToken,authToken:Xe(je.authToken)}}throw yield bt("Create Installation",xe)})).apply(this,arguments)}function mr(_){return new Promise(I=>{setTimeout(I,_)})}const Vn=/^[cdef][\w-]{21}$/,ir="";function Jr(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const b=function kt(_){return function hl(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return Vn.test(b)?b:ir}catch{return ir}}function Lt(_){return`${_.appName}!${_.appId}`}const Ze=new Map;function ft(_,I){const b=Lt(_);bn(b,I),function Qn(_,I){const b=function sr(){return!rn&&"BroadcastChannel"in self&&(rn=new BroadcastChannel("[Firebase] FID Change"),rn.onmessage=_=>{bn(_.data.key,_.data.fid)}),rn}();b&&b.postMessage({key:_,fid:I}),function Ut(){0===Ze.size&&rn&&(rn.close(),rn=null)}()}(b,I)}function bn(_,I){const b=Ze.get(_);if(b)for(const P of b)P(I)}let rn=null;const di="firebase-installations-database",Tt=1,Xr="firebase-installations-store";let Ft=null;function Sr(){return Ft||(Ft=function Ke(_,I,{blocked:b,upgrade:P,blocking:H,terminated:z}={}){const oe=indexedDB.open(_,I),Ue=Be(oe);return P&&oe.addEventListener("upgradeneeded",xe=>{P(Be(oe.result),xe.oldVersion,xe.newVersion,Be(oe.transaction))}),b&&oe.addEventListener("blocked",()=>b()),Ue.then(xe=>{z&&xe.addEventListener("close",()=>z()),H&&xe.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ue}(di,Tt,{upgrade:(_,I)=>{0===I&&_.createObjectStore(Xr)}})),Ft}function dn(_,I){return vn.apply(this,arguments)}function vn(){return(vn=(0,N.Z)(function*(_,I){const b=Lt(_),H=(yield Sr()).transaction(Xr,"readwrite"),z=H.objectStore(Xr),oe=yield z.get(b);return yield z.put(I,b),yield H.done,(!oe||oe.fid!==I.fid)&&ft(_,I.fid),I})).apply(this,arguments)}function Ur(_){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*(_){const I=Lt(_),P=(yield Sr()).transaction(Xr,"readwrite");yield P.objectStore(Xr).delete(I),yield P.done})).apply(this,arguments)}function Vr(_,I){return or.apply(this,arguments)}function or(){return(or=(0,N.Z)(function*(_,I){const b=Lt(_),H=(yield Sr()).transaction(Xr,"readwrite"),z=H.objectStore(Xr),oe=yield z.get(b),Ue=I(oe);return void 0===Ue?yield z.delete(b):yield z.put(Ue,b),yield H.done,Ue&&(!oe||oe.fid!==Ue.fid)&&ft(_,Ue.fid),Ue})).apply(this,arguments)}function V(_){return L.apply(this,arguments)}function L(){return L=(0,N.Z)(function*(_){let I;const b=yield Vr(_.appConfig,P=>{const H=function j(_){return en(_||{fid:Jr(),registrationStatus:0})}(P),z=function he(_,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Qe.create("app-offline"))};const b={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},P=function Y(_,I){return ke.apply(this,arguments)}(_,b);return{installationEntry:b,registrationPromise:P}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ut(_)}:{installationEntry:I}}(_,H);return I=z.registrationPromise,z.installationEntry});return b.fid===ir?{installationEntry:yield I}:{installationEntry:b,registrationPromise:I}}),L.apply(this,arguments)}function ke(){return ke=(0,N.Z)(function*(_,I){try{const b=yield function Un(_,I){return it.apply(this,arguments)}(_,I);return dn(_.appConfig,b)}catch(b){throw Je(b)&&409===b.customData.serverCode?yield Ur(_.appConfig):yield dn(_.appConfig,{fid:I.fid,registrationStatus:0}),b}}),ke.apply(this,arguments)}function ut(_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,N.Z)(function*(_){let I=yield gn(_.appConfig);for(;1===I.registrationStatus;)yield mr(100),I=yield gn(_.appConfig);if(0===I.registrationStatus){const{installationEntry:b,registrationPromise:P}=yield V(_);return P||b}return I})).apply(this,arguments)}function gn(_){return Vr(_,I=>{if(!I)throw Qe.create("installation-not-found");return en(I)})}function en(_){return function Bt(_){return 1===_.registrationStatus&&_.registrationTime+Ni<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function Jn(){return(Jn=(0,N.Z)(function*({appConfig:_,heartbeatServiceProvider:I},b){const P=function Hr(_,{fid:I}){return`${Zt(_)}/${I}/authTokens:generate`}(_,b),H=function un(_,{refreshToken:I}){const b=Wt(_);return b.append("Authorization",function gr(_){return`${re} ${_}`}(I)),b}(_,b),z=I.getImmediate({optional:!0});if(z){const je=yield z.getHeartbeatsHeader();je&&H.append("x-firebase-client",je)}const Ue={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:ci,appId:_.appId}})},xe=yield Cn(()=>fetch(P,Ue));if(xe.ok)return Xe(yield xe.json());throw yield bt("Generate Auth Token",xe)})).apply(this,arguments)}function ei(_){return mo.apply(this,arguments)}function mo(){return mo=(0,N.Z)(function*(_,I=!1){let b;const P=yield Vr(_.appConfig,z=>{if(!Et(z))throw Qe.create("not-registered");const oe=z.authToken;if(!I&&function nt(_){return 2===_.requestStatus&&!function xt(_){const I=Date.now();return I<_.creationTime||_.creationTime+_.expiresIn<I+de}(_)}(oe))return z;if(1===oe.requestStatus)return b=function ue(_,I){return J.apply(this,arguments)}(_,I),z;{if(!navigator.onLine)throw Qe.create("app-offline");const Ue=function Mt(_){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:I})}(z);return b=function et(_,I){return ot.apply(this,arguments)}(_,Ue),Ue}});return b?yield b:P.authToken}),mo.apply(this,arguments)}function J(){return(J=(0,N.Z)(function*(_,I){let b=yield Ae(_.appConfig);for(;1===b.authToken.requestStatus;)yield mr(100),b=yield Ae(_.appConfig);const P=b.authToken;return 0===P.requestStatus?ei(_,I):P})).apply(this,arguments)}function Ae(_){return Vr(_,I=>{if(!Et(I))throw Qe.create("not-registered");return function Hn(_){return 1===_.requestStatus&&_.requestTime+Ni<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ot(){return ot=(0,N.Z)(function*(_,I){try{const b=yield function Ct(_,I){return Jn.apply(this,arguments)}(_,I),P=Object.assign(Object.assign({},I),{authToken:b});return yield dn(_.appConfig,P),b}catch(b){if(!Je(b)||401!==b.customData.serverCode&&404!==b.customData.serverCode){const P=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield dn(_.appConfig,P)}else yield Ur(_.appConfig);throw b}}),ot.apply(this,arguments)}function Et(_){return void 0!==_&&2===_.registrationStatus}function ua(){return(ua=(0,N.Z)(function*(_){const I=_,{installationEntry:b,registrationPromise:P}=yield V(I);return P?P.catch(console.error):ei(I).catch(console.error),b.fid})).apply(this,arguments)}function Yi(){return Yi=(0,N.Z)(function*(_,I=!1){const b=_;return yield function Ar(_){return Ve.apply(this,arguments)}(b),(yield ei(b,I)).token}),Yi.apply(this,arguments)}function Ve(){return(Ve=(0,N.Z)(function*(_){const{registrationPromise:I}=yield V(_);I&&(yield I)})).apply(this,arguments)}function fi(_){return Qe.create("missing-app-config-values",{valueName:_})}const vt="installations",qi=_=>{const I=_.getProvider("app").getImmediate(),b=function yo(_){if(!_||!_.options)throw fi("App Configuration");if(!_.name)throw fi("App Name");const I=["projectId","apiKey","appId"];for(const b of I)if(!_.options[b])throw fi(b);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(I);return{app:I,appConfig:b,heartbeatServiceProvider:(0,se._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},hi=_=>{const I=_.getProvider("app").getImmediate(),b=(0,se._getProvider)(I,vt).getImmediate();return{getId:()=>function En(_){return ua.apply(this,arguments)}(b),getToken:H=>function Yc(_){return Yi.apply(this,arguments)}(b,H)}};(function Qi(){(0,se._registerComponent)(new ie.wA(vt,qi,"PUBLIC")),(0,se._registerComponent)(new ie.wA("installations-internal",hi,"PRIVATE"))})(),(0,se.registerVersion)(Mi,pr),(0,se.registerVersion)(Mi,pr,"esm2017");const mn="@firebase/remote-config",jn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gi{constructor(I,b,P,H){this.client=I,this.storage=b,this.storageCache=P,this.logger=H}isCachedDataFresh(I,b){if(!b)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-b,H=P<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${H}.`),H}fetch(I){var b=this;return(0,N.Z)(function*(){const[P,H]=yield Promise.all([b.storage.getLastSuccessfulFetchTimestampMillis(),b.storage.getLastSuccessfulFetchResponse()]);if(H&&b.isCachedDataFresh(I.cacheMaxAgeMillis,P))return H;I.eTag=H&&H.eTag;const z=yield b.client.fetch(I),oe=[b.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&oe.push(b.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(oe),z})()}}function Ef(_=navigator){return _.languages&&_.languages[0]||_.language}class ml{constructor(I,b,P,H,z,oe){this.firebaseInstallations=I,this.sdkVersion=b,this.namespace=P,this.projectId=H,this.apiKey=z,this.appId=oe}fetch(I){var b=this;return(0,N.Z)(function*(){const[P,H]=yield Promise.all([b.firebaseInstallations.getId(),b.firebaseInstallations.getToken()]),oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${b.projectId}/namespaces/${b.namespace}:fetch?key=${b.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},xe={sdk_version:b.sdkVersion,app_instance_id:P,app_instance_id_token:H,app_id:b.appId,language_code:Ef()},je={method:"POST",headers:Ue,body:JSON.stringify(xe)},rt=fetch(oe,je),pt=new Promise((Gn,Ci)=>{I.signal.addEventListener(()=>{const za=new Error("The operation was aborted.");za.name="AbortError",Ci(za)})});let Wn;try{yield Promise.race([rt,pt]),Wn=yield rt}catch(Gn){let Ci="fetch-client-network";throw"AbortError"===Gn?.name&&(Ci="fetch-timeout"),jn.create(Ci,{originalErrorMessage:Gn?.message})}let Pn=Wn.status;const $i=Wn.headers.get("ETag")||void 0;let Dr,Es;if(200===Wn.status){let Gn;try{Gn=yield Wn.json()}catch(Ci){throw jn.create("fetch-client-parse",{originalErrorMessage:Ci?.message})}Dr=Gn.entries,Es=Gn.state}if("INSTANCE_STATE_UNSPECIFIED"===Es?Pn=500:"NO_CHANGE"===Es?Pn=304:("NO_TEMPLATE"===Es||"EMPTY_CONFIG"===Es)&&(Dr={}),304!==Pn&&200!==Pn)throw jn.create("fetch-status",{httpStatus:Pn});return{status:Pn,eTag:$i,config:Dr}})()}}class wf{constructor(I,b){this.client=I,this.storage=b}fetch(I){var b=this;return(0,N.Z)(function*(){const P=(yield b.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return b.attemptFetch(I,P)})()}attemptFetch(I,{throttleEndTimeMillis:b,backoffCount:P}){var H=this;return(0,N.Z)(function*(){yield function If(_,I){return new Promise((b,P)=>{const H=Math.max(I-Date.now(),0),z=setTimeout(b,H);_.addEventListener(()=>{clearTimeout(z),P(jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,b);try{const z=yield H.client.fetch(I);return yield H.storage.deleteThrottleMetadata(),z}catch(z){if(!function yu(_){if(!(_ instanceof te.ZR&&_.customData))return!1;const I=Number(_.customData.httpStatus);return 429===I||500===I||503===I||504===I}(z))throw z;const oe={throttleEndTimeMillis:Date.now()+(0,te.$s)(P),backoffCount:P+1};return yield H.storage.setThrottleMetadata(oe),H.attemptFetch(I,oe)}})()}}class pp{constructor(I,b,P,H,z){this.app=I,this._client=b,this._storageCache=P,this._storage=H,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ha(_,I){const b=_.target.error||void 0;return jn.create(I,{originalErrorMessage:b&&b?.message})}const Mr="app_namespace_store";class gp{constructor(I,b,P,H=function Vs(){return new Promise((_,I)=>{try{const b=indexedDB.open("firebase_remote_config",1);b.onerror=P=>{I(ha(P,"storage-open"))},b.onsuccess=P=>{_(P.target.result)},b.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Mr,{keyPath:"compositeKey"})}}catch(b){I(jn.create("storage-open",{originalErrorMessage:b?.message}))}})}()){this.appId=I,this.appName=b,this.namespace=P,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var b=this;return(0,N.Z)(function*(){const P=yield b.openDbPromise;return new Promise((H,z)=>{const Ue=P.transaction([Mr],"readonly").objectStore(Mr),xe=b.createCompositeKey(I);try{const je=Ue.get(xe);je.onerror=rt=>{z(ha(rt,"storage-get"))},je.onsuccess=rt=>{const pt=rt.target.result;H(pt?pt.value:void 0)}}catch(je){z(jn.create("storage-get",{originalErrorMessage:je?.message}))}})})()}set(I,b){var P=this;return(0,N.Z)(function*(){const H=yield P.openDbPromise;return new Promise((z,oe)=>{const xe=H.transaction([Mr],"readwrite").objectStore(Mr),je=P.createCompositeKey(I);try{const rt=xe.put({compositeKey:je,value:b});rt.onerror=pt=>{oe(ha(pt,"storage-set"))},rt.onsuccess=()=>{z()}}catch(rt){oe(jn.create("storage-set",{originalErrorMessage:rt?.message}))}})})()}delete(I){var b=this;return(0,N.Z)(function*(){const P=yield b.openDbPromise;return new Promise((H,z)=>{const Ue=P.transaction([Mr],"readwrite").objectStore(Mr),xe=b.createCompositeKey(I);try{const je=Ue.delete(xe);je.onerror=rt=>{z(ha(rt,"storage-delete"))},je.onsuccess=()=>{H()}}catch(je){z(jn.create("storage-delete",{originalErrorMessage:je?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Jc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const b=I.storage.getLastFetchStatus(),P=I.storage.getLastSuccessfulFetchTimestampMillis(),H=I.storage.getActiveConfig(),z=yield b;z&&(I.lastFetchStatus=z);const oe=yield P;oe&&(I.lastSuccessfulFetchTimestampMillis=oe);const Ue=yield H;Ue&&(I.activeConfig=Ue)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function _l(){return pa.apply(this,arguments)}function pa(){return(pa=(0,N.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}!function ki(){(0,se._registerComponent)(new ie.wA("remote-config",function _(I,{instanceIdentifier:b}){const P=I.getProvider("app").getImmediate(),H=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jn.create("registration-window");if(!(0,te.hl)())throw jn.create("indexed-db-unavailable");const{projectId:z,apiKey:oe,appId:Ue}=P.options;if(!z)throw jn.create("registration-project-id");if(!oe)throw jn.create("registration-api-key");if(!Ue)throw jn.create("registration-app-id");const xe=new gp(Ue,P.name,b=b||"firebase"),je=new Jc(xe),rt=new fe.Yd(mn);rt.logLevel=fe.in.ERROR;const pt=new ml(H,se.SDK_VERSION,b,z,oe,Ue),Wn=new wf(pt,xe),Pn=new gi(Wn,xe,je,rt),$i=new pp(P,Pn,je,xe,rt);return function vr(_){const I=(0,te.m9)(_);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}($i),$i},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(mn,"0.4.4"),(0,se.registerVersion)(mn,"0.4.4","esm2017")}();const Xc=(_,I)=>I.some(b=>_ instanceof b);let yl,xi;const ga=new WeakMap,Li=new WeakMap,ar=new WeakMap,Xn=new WeakMap,Do=new WeakMap;let mi={get(_,I,b){if(_ instanceof IDBTransaction){if("done"===I)return Li.get(_);if("objectStoreNames"===I)return _.objectStoreNames||ar.get(_);if("store"===I)return b.objectStoreNames[1]?void 0:b.objectStore(b.objectStoreNames[0])}return er(_[I])},set:(_,I,b)=>(_[I]=b,!0),has:(_,I)=>_ instanceof IDBTransaction&&("done"===I||"store"===I)||I in _};function wu(_){return"function"==typeof _?function Iu(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wo(){return xi||(xi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...I){return _.apply(Tn(this),I),er(ga.get(this))}:function(...I){return er(_.apply(Tn(this),I))}:function(I,...b){const P=_.call(Tn(this),I,...b);return ar.set(P,I.sort?I.sort():[I]),er(P)}}(_):(_ instanceof IDBTransaction&&function Hs(_){if(Li.has(_))return;const I=new Promise((b,P)=>{const H=()=>{_.removeEventListener("complete",z),_.removeEventListener("error",oe),_.removeEventListener("abort",oe)},z=()=>{b(),H()},oe=()=>{P(_.error||new DOMException("AbortError","AbortError")),H()};_.addEventListener("complete",z),_.addEventListener("error",oe),_.addEventListener("abort",oe)});Li.set(_,I)}(_),Xc(_,function ed(){return yl||(yl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,mi):_)}function er(_){if(_ instanceof IDBRequest)return function kn(_){const I=new Promise((b,P)=>{const H=()=>{_.removeEventListener("success",z),_.removeEventListener("error",oe)},z=()=>{b(er(_.result)),H()},oe=()=>{P(_.error),H()};_.addEventListener("success",z),_.addEventListener("error",oe)});return I.then(b=>{b instanceof IDBCursor&&ga.set(b,_)}).catch(()=>{}),Do.set(I,_),I}(_);if(Xn.has(_))return Xn.get(_);const I=wu(_);return I!==_&&(Xn.set(_,I),Do.set(I,_)),I}const Tn=_=>Do.get(_);function ma(_,I,{blocked:b,upgrade:P,blocking:H,terminated:z}={}){const oe=indexedDB.open(_,I),Ue=er(oe);return P&&oe.addEventListener("upgradeneeded",xe=>{P(er(oe.result),xe.oldVersion,xe.newVersion,er(oe.transaction))}),b&&oe.addEventListener("blocked",()=>b()),Ue.then(xe=>{z&&xe.addEventListener("close",()=>z()),H&&xe.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ue}function _i(_,{blocked:I}={}){const b=indexedDB.deleteDatabase(_);return I&&b.addEventListener("blocked",()=>I()),er(b).then(()=>{})}const vl=["get","getKey","getAll","getAllKeys","count"],Fi=["put","add","delete","clear"],js=new Map;function Co(_,I){if(!(_ instanceof IDBDatabase)||I in _||"string"!=typeof I)return;if(js.get(I))return js.get(I);const b=I.replace(/FromIndex$/,""),P=I!==b,H=Fi.includes(b);if(!(b in(P?IDBIndex:IDBObjectStore).prototype)||!H&&!vl.includes(b))return;const z=function(){var oe=(0,N.Z)(function*(Ue,...xe){const je=this.transaction(Ue,H?"readwrite":"readonly");let rt=je.store;return P&&(rt=rt.index(xe.shift())),(yield Promise.all([rt[b](...xe),H&&je.done]))[0]});return function(xe){return oe.apply(this,arguments)}}();return js.set(I,z),z}!function xn(_){mi=_(mi)}(_=>({..._,get:(I,b,P)=>Co(I,b)||_.get(I,b,P),has:(I,b)=>!!Co(I,b)||_.has(I,b)}));const ht="/firebase-messaging-sw.js",bo="/firebase-cloud-messaging-push-scope",Du="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cu="https://fcmregistrations.googleapis.com/v1",_a="google.c.a.c_id",bu="google.c.a.c_l",ya="google.c.a.ts",Df="google.c.a.e";var ce=(()=>{return(_=ce||(ce={})).PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked",ce;var _})();function _t(_){const I=new Uint8Array(_);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function To(_){const b=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(b),H=new Uint8Array(P.length);for(let z=0;z<P.length;++z)H[z]=P.charCodeAt(z);return H}const So="fcm_token_details_db",Sn=5,es="fcm_token_object_Store";function lr(){return lr=(0,N.Z)(function*(_){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(So))return null;let I=null;return(yield ma(So,Sn,{upgrade:(P=(0,N.Z)(function*(H,z,oe,Ue){var xe;if(z<2||!H.objectStoreNames.contains(es))return;const je=Ue.objectStore(es),rt=yield je.index("fcmSenderId").get(_);if(yield je.clear(),rt)if(2===z){const pt=rt;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;I={token:pt.fcmToken,createTime:null!==(xe=pt.createTime)&&void 0!==xe?xe:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:_t(pt.vapidKey)}}}else if(3===z){const pt=rt;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:_t(pt.auth),p256dh:_t(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:_t(pt.vapidKey)}}}else if(4===z){const pt=rt;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:_t(pt.auth),p256dh:_t(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:_t(pt.vapidKey)}}}}),function(z,oe,Ue,xe){return P.apply(this,arguments)})})).close(),yield _i(So),yield _i("fcm_vapid_details_db"),yield _i("undefined"),function Su(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:I}=_;return"number"==typeof _.createTime&&_.createTime>0&&"string"==typeof _.token&&_.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var P}),lr.apply(this,arguments)}const Ea="firebase-messaging-database",Cf=1,yi="firebase-messaging-store";let Ao=null;function wn(){return Ao||(Ao=ma(Ea,Cf,{upgrade:(_,I)=>{0===I&&_.createObjectStore(yi)}})),Ao}function Nr(_){return ri.apply(this,arguments)}function ri(){return ri=(0,N.Z)(function*(_){const I=Ia(_),P=yield(yield wn()).transaction(yi).objectStore(yi).get(I);if(P)return P;{const H=yield function va(_){return lr.apply(this,arguments)}(_.appConfig.senderId);if(H)return yield ts(_,H),H}}),ri.apply(this,arguments)}function ts(_,I){return Or.apply(this,arguments)}function Or(){return(Or=(0,N.Z)(function*(_,I){const b=Ia(_),H=(yield wn()).transaction(yi,"readwrite");return yield H.objectStore(yi).put(I,b),yield H.done,I})).apply(this,arguments)}function Ro(){return(Ro=(0,N.Z)(function*(_){const I=Ia(_),P=(yield wn()).transaction(yi,"readwrite");yield P.objectStore(yi).delete(I),yield P.done})).apply(this,arguments)}function Ia({appConfig:_}){return _.appId}const Dn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $s(_,I){return El.apply(this,arguments)}function El(){return(El=(0,N.Z)(function*(_,I){const b=yield Il(_),P=Pu(I),H={method:"POST",headers:b,body:JSON.stringify(P)};let z;try{z=yield(yield fetch(Po(_.appConfig),H)).json()}catch(oe){throw Dn.create("token-subscribe-failed",{errorInfo:oe?.toString()})}if(z.error)throw Dn.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Dn.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function Ru(){return(Ru=(0,N.Z)(function*(_,I){const b=yield Il(_),P=Pu(I.subscriptionOptions),H={method:"PATCH",headers:b,body:JSON.stringify(P)};let z;try{z=yield(yield fetch(`${Po(_.appConfig)}/${I.token}`,H)).json()}catch(oe){throw Dn.create("token-update-failed",{errorInfo:oe?.toString()})}if(z.error)throw Dn.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Dn.create("token-update-no-token");return z.token})).apply(this,arguments)}function Da(_,I){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,N.Z)(function*(_,I){const P={method:"DELETE",headers:yield Il(_)};try{const z=yield(yield fetch(`${Po(_.appConfig)}/${I}`,P)).json();if(z.error)throw Dn.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(H){throw Dn.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Po({projectId:_}){return`${Cu}/projects/${_}/registrations`}function Il(_){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,N.Z)(function*({appConfig:_,installations:I}){const b=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_.apiKey,"x-goog-firebase-installations-auth":`FIS ${b}`})})).apply(this,arguments)}function Pu({p256dh:_,auth:I,endpoint:b,vapidKey:P}){const H={web:{endpoint:b,auth:I,p256dh:_}};return P!==Du&&(H.web.applicationPubKey=P),H}const ba=6048e5;function Ta(){return Ta=(0,N.Z)(function*(_){const I=yield function rd(_,I){return Mu.apply(this,arguments)}(_.swRegistration,_.vapidKey),b={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:I.endpoint,auth:_t(I.getKey("auth")),p256dh:_t(I.getKey("p256dh"))},P=yield Nr(_.firebaseDependencies);if(P){if(function Tf(_,I){return I.vapidKey===_.vapidKey&&I.endpoint===_.endpoint&&I.auth===_.auth&&I.p256dh===_.p256dh}(P.subscriptionOptions,b))return Date.now()>=P.createTime+ba?function tn(_,I){return Sa.apply(this,arguments)}(_,{token:P.token,createTime:Date.now(),subscriptionOptions:b}):P.token;try{yield Da(_.firebaseDependencies,P.token)}catch(H){console.warn(H)}return nd(_.firebaseDependencies,b)}return nd(_.firebaseDependencies,b)}),Ta.apply(this,arguments)}function vi(){return vi=(0,N.Z)(function*(_){const I=yield Nr(_.firebaseDependencies);I&&(yield Da(_.firebaseDependencies,I.token),yield function Au(_){return Ro.apply(this,arguments)}(_.firebaseDependencies));const b=yield _.swRegistration.pushManager.getSubscription();return!b||b.unsubscribe()}),vi.apply(this,arguments)}function Sa(){return Sa=(0,N.Z)(function*(_,I){try{const b=yield function wa(_,I){return Ru.apply(this,arguments)}(_.firebaseDependencies,I),P=Object.assign(Object.assign({},I),{token:b,createTime:Date.now()});return yield ts(_.firebaseDependencies,P),b}catch(b){throw yield function $n(_){return vi.apply(this,arguments)}(_),b}}),Sa.apply(this,arguments)}function nd(_,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,N.Z)(function*(_,I){const P={token:yield $s(_,I),createTime:Date.now(),subscriptionOptions:I};return yield ts(_,P),P.token})).apply(this,arguments)}function Mu(){return(Mu=(0,N.Z)(function*(_,I){return(yield _.pushManager.getSubscription())||_.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:To(I)})})).apply(this,arguments)}function Aa(_){const I={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function wl(_,I){if(!I.notification)return;_.notification={};const b=I.notification.title;b&&(_.notification.title=b);const P=I.notification.body;P&&(_.notification.body=P);const H=I.notification.image;H&&(_.notification.image=H);const z=I.notification.icon;z&&(_.notification.icon=z)}(I,_),function Dl(_,I){I.data&&(_.data=I.data)}(I,_),function Nu(_,I){var b,P,H,z,oe;if(!(I.fcmOptions||null!==(b=I.notification)&&void 0!==b&&b.click_action))return;_.fcmOptions={};const Ue=null!==(H=null===(P=I.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==H?H:null===(z=I.notification)||void 0===z?void 0:z.click_action;Ue&&(_.fcmOptions.link=Ue);const xe=null===(oe=I.fcmOptions)||void 0===oe?void 0:oe.analytics_label;xe&&(_.fcmOptions.analyticsLabel=xe)}(I,_),I}function Ws(_,I){const b=[];for(let P=0;P<_.length;P++)b.push(_.charAt(P)),P<I.length&&b.push(I.charAt(P));return b.join("")}function Ei(_){return Dn.create("missing-app-config-values",{valueName:_})}Ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Sf{constructor(I,b,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Gs(_){if(!_||!_.options)throw Ei("App Configuration Object");if(!_.name)throw Ei("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:b}=_;for(const P of I)if(!b[P])throw Ei(P);return{appName:_.name,projectId:b.projectId,apiKey:b.apiKey,appId:b.appId,senderId:b.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:H,installations:b,analyticsProvider:P}}_delete(){return Promise.resolve()}}function id(_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,N.Z)(function*(_){try{_.swRegistration=yield navigator.serviceWorker.register(ht,{scope:bo}),_.swRegistration.update().catch(()=>{})}catch(I){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function No(){return(No=(0,N.Z)(function*(_,I){if(!I&&!_.swRegistration&&(yield id(_)),I||!_.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");_.swRegistration=I}})).apply(this,arguments)}function is(){return(is=(0,N.Z)(function*(_,I){I?_.vapidKey=I:_.vapidKey||(_.vapidKey=Du)})).apply(this,arguments)}function zs(){return zs=(0,N.Z)(function*(_,I){if(!navigator)throw Dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dn.create("permission-blocked");return yield function rs(_,I){return is.apply(this,arguments)}(_,I?.vapidKey),yield function mp(_,I){return No.apply(this,arguments)}(_,I?.serviceWorkerRegistration),function td(_){return Ta.apply(this,arguments)}(_)}),zs.apply(this,arguments)}function ss(){return(ss=(0,N.Z)(function*(_,I,b){const P=function os(_){switch(_){case ce.NOTIFICATION_CLICKED:return"notification_open";case ce.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield _.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:b[_a],message_name:b[bu],message_time:b[ya],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function as(){return as=(0,N.Z)(function*(_,I){const b=I.data;if(!b.isFirebaseMessaging)return;_.onMessageHandler&&b.messageType===ce.PUSH_RECEIVED&&("function"==typeof _.onMessageHandler?_.onMessageHandler(Aa(b)):_.onMessageHandler.next(Aa(b)));const P=b.data;(function Cl(_){return"object"==typeof _&&!!_&&_a in _})(P)&&"1"===P[Df]&&(yield function bl(_,I,b){return ss.apply(this,arguments)}(_,b.messageType,P))}),as.apply(this,arguments)}const Bi="@firebase/messaging",ls=_=>{const I=new Sf(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",b=>function Ma(_,I){return as.apply(this,arguments)}(I,b)),I},Na=_=>{const I=_.getProvider("messaging").getImmediate();return{getToken:P=>function Pa(_,I){return zs.apply(this,arguments)}(I,P)}};function sd(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,N.Z)(function*(){try{yield(0,te.eu)()}catch{return!1}return typeof window<"u"&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oo(){(0,se._registerComponent)(new ie.wA("messaging",ls,"PUBLIC")),(0,se._registerComponent)(new ie.wA("messaging-internal",Na,"PRIVATE")),(0,se.registerVersion)(Bi,"0.12.4"),(0,se.registerVersion)(Bi,"0.12.4","esm2017")}();const $t="analytics",Lu="firebase_id",ka="origin",Sl=6e4,xa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",La="https://www.googletagmanager.com/gtag/js",An=new fe.Yd("@firebase/analytics"),_n=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Al(_){if(!_.startsWith(La)){const I=_n.create("invalid-gtag-resource",{gtagURL:_});return An.warn(I.message),""}return _}function ko(_){return Promise.all(_.map(I=>I.catch(b=>b)))}function ds(){return(ds=(0,N.Z)(function*(_,I,b,P,H,z){const oe=P[H];try{if(oe)yield I[oe];else{const xe=(yield ko(b)).find(je=>je.measurementId===H);xe&&(yield I[xe.appId])}}catch(Ue){An.error(Ue)}_("config",H,z)})).apply(this,arguments)}function Lo(){return(Lo=(0,N.Z)(function*(_,I,b,P,H){try{let z=[];if(H&&H.send_to){let oe=H.send_to;Array.isArray(oe)||(oe=[oe]);const Ue=yield ko(b);for(const xe of oe){const je=Ue.find(pt=>pt.measurementId===xe),rt=je&&I[je.appId];if(!rt){z=[];break}z.push(rt)}}0===z.length&&(z=Object.values(I)),yield Promise.all(z),_("event",P,H||{})}catch(z){An.error(z)}})).apply(this,arguments)}const Fo=30,Qs=new class fs{constructor(I={},b=1e3){this.throttleMetadata=I,this.intervalMillis=b}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,b){this.throttleMetadata[I]=b}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Af(_){return new Headers({Accept:"application/json","x-goog-api-key":_})}function Rt(){return(Rt=(0,N.Z)(function*(_){var I;const{appId:b,apiKey:P}=_,H={method:"GET",headers:Af(P)},z=xa.replace("{app-id}",b),oe=yield fetch(z,H);if(200!==oe.status&&304!==oe.status){let Ue="";try{const xe=yield oe.json();null!==(I=xe.error)&&void 0!==I&&I.message&&(Ue=xe.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:oe.status,responseMessage:Ue})}return oe.json()})).apply(this,arguments)}function Bo(){return(Bo=(0,N.Z)(function*(_,I=Qs,b){const{appId:P,apiKey:H,measurementId:z}=_.options;if(!P)throw _n.create("no-app-id");if(!H){if(z)return{measurementId:z,appId:P};throw _n.create("no-api-key")}const oe=I.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new yp;return setTimeout((0,N.Z)(function*(){Ue.abort()}),void 0!==b?b:Sl),Ml({appId:P,apiKey:H,measurementId:z},oe,Ue,I)})).apply(this,arguments)}function Ml(_,I,b){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,N.Z)(function*(_,{throttleEndTimeMillis:I,backoffCount:b},P,H=Qs){var z;const{appId:oe,measurementId:Ue}=_;try{yield function _p(_,I){return new Promise((b,P)=>{const H=Math.max(I-Date.now(),0),z=setTimeout(b,H);_.addEventListener(()=>{clearTimeout(z),P(_n.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(P,I)}catch(xe){if(Ue)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${xe?.message}]`),{appId:oe,measurementId:Ue};throw xe}try{const xe=yield function Fu(_){return Rt.apply(this,arguments)}(_);return H.deleteThrottleMetadata(oe),xe}catch(xe){const je=xe;if(!function ld(_){if(!(_ instanceof te.ZR&&_.customData))return!1;const I=Number(_.customData.httpStatus);return 429===I||500===I||503===I||504===I}(je)){if(H.deleteThrottleMetadata(oe),Ue)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${je?.message}]`),{appId:oe,measurementId:Ue};throw xe}const rt=503===Number(null===(z=je?.customData)||void 0===z?void 0:z.httpStatus)?(0,te.$s)(b,H.intervalMillis,Fo):(0,te.$s)(b,H.intervalMillis),pt={throttleEndTimeMillis:Date.now()+rt,backoffCount:b+1};return H.setThrottleMetadata(oe,pt),An.debug(`Calling attemptFetch again in ${rt} millis`),Ml(_,pt,P,H)}}),Nl.apply(this,arguments)}class yp{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let hs,dd;function ud(){return(ud=(0,N.Z)(function*(_,I,b,P,H){if(H&&H.global)_("event",b,P);else{const z=yield I;_("event",b,Object.assign(Object.assign({},P),{send_to:z}))}})).apply(this,arguments)}function Js(){return(Js=(0,N.Z)(function*(){if(!(0,te.hl)())return An.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(_){return An.warn(_n.create("indexeddb-unavailable",{errorInfo:_?.toString()}).message),!1}return!0})).apply(this,arguments)}function Gr(){return Gr=(0,N.Z)(function*(_,I,b,P,H,z,oe){var Ue;const xe=function Rf(_){return Bo.apply(this,arguments)}(_);xe.then(Pn=>{b[Pn.measurementId]=Pn.appId,_.options.measurementId&&Pn.measurementId!==_.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${_.options.measurementId}) does not match the measurement ID fetched from the server (${Pn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pn=>An.error(Pn)),I.push(xe);const je=function ur(){return Js.apply(this,arguments)}().then(Pn=>{if(Pn)return P.getId()}),[rt,pt]=yield Promise.all([xe,je]);(function qs(_){const I=window.document.getElementsByTagName("script");for(const b of Object.values(I))if(b.src&&b.src.includes(La)&&b.src.includes(_))return b;return null})(z)||function wi(_,I){const b=function xo(_,I){let b;return window.trustedTypes&&(b=window.trustedTypes.createPolicy(_,I)),b}("firebase-js-sdk-policy",{createScriptURL:Al}),P=document.createElement("script"),H=`${La}?l=${_}&id=${I}`;P.src=b?b?.createScriptURL(H):H,P.async=!0,document.head.appendChild(P)}(z,rt.measurementId),dd&&(H("consent","default",dd),function kl(_){dd=_}(void 0)),H("js",new Date);const Wn=null!==(Ue=oe?.config)&&void 0!==Ue?Ue:{};return Wn[ka]="firebase",Wn.update=!0,null!=pt&&(Wn[Lu]=pt),H("config",rt.measurementId,Wn),hs&&(H("set",hs),function Va(_){hs=_}(void 0)),rt.measurementId}),Gr.apply(this,arguments)}class zr{constructor(I){this.app=I}_delete(){return delete Ir[this.app.options.appId],Promise.resolve()}}let Ir={},xl=[];const Bu={};let Vo,zt,kr="dataLayer",cr="gtag",Di=!1;function Ll(_,I,b){!function wr(){const _=[];if((0,te.ru)()&&_.push("This is a browser extension environment."),(0,te.zI)()||_.push("Cookies are not available."),_.length>0){const I=_.map((P,H)=>`(${H+1}) ${P}`).join(" "),b=_n.create("invalid-analytics-context",{errorInfo:I});An.warn(b.message)}}();const P=_.options.appId;if(!P)throw _n.create("no-app-id");if(!_.options.apiKey){if(!_.options.measurementId)throw _n.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ir[P])throw _n.create("already-exists",{id:P});if(!Di){!function od(_){let I=[];Array.isArray(window[_])?I=window[_]:window[_]=I}(kr);const{wrappedGtag:z,gtagCore:oe}=function Ui(_,I,b,P,H){let z=function(...oe){window[P].push(arguments)};return window[H]&&"function"==typeof window[H]&&(z=window[H]),window[H]=function Ys(_,I,b,P){function z(){return z=(0,N.Z)(function*(oe,...Ue){try{if("event"===oe){const[xe,je]=Ue;yield function Pl(_,I,b,P,H){return Lo.apply(this,arguments)}(_,I,b,xe,je)}else if("config"===oe){const[xe,je]=Ue;yield function Rl(_,I,b,P,H,z){return ds.apply(this,arguments)}(_,I,b,P,xe,je)}else if("consent"===oe){const[xe]=Ue;_("consent","update",xe)}else if("get"===oe){const[xe,je,rt]=Ue;_("get",xe,je,rt)}else if("set"===oe){const[xe]=Ue;_("set",xe)}else _(oe,...Ue)}catch(xe){An.error(xe)}}),z.apply(this,arguments)}return function H(oe){return z.apply(this,arguments)}}(z,_,I,b),{gtagCore:z,wrappedGtag:window[H]}}(Ir,xl,Bu,kr,cr);zt=z,Vo=oe,Di=!0}return Ir[P]=function si(_,I,b,P,H,z,oe){return Gr.apply(this,arguments)}(_,xl,Bu,I,Vo,kr,b),new zr(_)}function Ha(){return gs.apply(this,arguments)}function gs(){return(gs=(0,N.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const Hl="@firebase/analytics";!function sn(){(0,se._registerComponent)(new ie.wA($t,(I,{options:b})=>Ll(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),b),"PUBLIC")),(0,se._registerComponent)(new ie.wA("analytics-internal",function _(I){try{const b=I.getProvider($t).getImmediate();return{logEvent:(P,H,z)=>function Ul(_,I,b,P){_=(0,te.m9)(_),function vp(_,I,b,P,H){return ud.apply(this,arguments)}(zt,Ir[_.app.options.appId],I,b,P).catch(H=>An.error(H))}(b,P,H,z)}}catch(b){throw _n.create("interop-component-reg-failed",{reason:b})}},"PRIVATE")),(0,se.registerVersion)(Hl,"0.10.0"),(0,se.registerVersion)(Hl,"0.10.0","esm2017")}();var jo=k(4408),_s=k(7565);const $l=new class $o extends _s.v{}(class jl extends jo.o{constructor(I,b){super(I,b),this.scheduler=I,this.work=b}schedule(I,b=0){return b>0?super.schedule(I,b):(this.delay=b,this.state=I,this.scheduler.flush(this),this)}execute(I,b){return b>0||this.closed?super.execute(I,b):this._execute(I,b)}requestAsyncId(I,b,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(I,b,P):(I.flush(this),0)}});var Gl=k(4986),Uu=k(576),Vu=k(4482),$a=k(5403),ys=k(4671),zl=k(9468),Ep=k(5363);const Kl=new v.GfV("7.6.1"),Hu="__angularfire_symbol__analyticsIsSupportedValue",ju="__angularfire_symbol__analyticsIsSupported",pd="__angularfire_symbol__remoteConfigIsSupportedValue",$u="__angularfire_symbol__remoteConfigIsSupported",Ga="__angularfire_symbol__messagingIsSupportedValue",Zl="__angularfire_symbol__messagingIsSupported";function zu(_,I,b){if(I){if(1===I.length)return I[0];const z=I.filter(oe=>oe.app===b);if(1===z.length)return z[0]}return b.container.getProvider(_).getImmediate({optional:!0})}globalThis[ju]||(globalThis[ju]=Ha().then(_=>globalThis[Hu]=_).catch(()=>globalThis[Hu]=!1)),globalThis[Zl]||(globalThis[Zl]=sd().then(_=>globalThis[Ga]=_).catch(()=>globalThis[Ga]=!1)),globalThis[$u]||(globalThis[$u]=_l().then(_=>globalThis[pd]=_).catch(()=>globalThis[pd]=!1));const xr=(_,I)=>{const b=I?[I]:(0,q.C6)(),P=[];return b.forEach(H=>{H.container.getProvider(_).instances.forEach(oe=>{P.includes(oe)||P.push(oe)})}),P};function Hi(){}class Go{constructor(I,b=$l){this.zone=I,this.delegate=b}now(){return this.delegate.now()}schedule(I,b,P){const H=this.zone;return this.delegate.schedule(function(oe){H.runGuarded(()=>{I.apply(this,[oe])})},b,P)}}class Ku{constructor(I){this.zone=I,this.task=null}call(I,b){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hi,{},Hi,Hi)),b.pipe(function Wa(_,I,b){const P=(0,Uu.m)(_)||I||b?{next:_,error:I,complete:b}:_;return P?(0,Vu.e)((H,z)=>{var oe;null===(oe=P.subscribe)||void 0===oe||oe.call(P);let Ue=!0;H.subscribe((0,$a.x)(z,xe=>{var je;null===(je=P.next)||void 0===je||je.call(P,xe),z.next(xe)},()=>{var xe;Ue=!1,null===(xe=P.complete)||void 0===xe||xe.call(P),z.complete()},xe=>{var je;Ue=!1,null===(je=P.error)||void 0===je||je.call(P,xe),z.error(xe)},()=>{var xe,je;Ue&&(null===(xe=P.unsubscribe)||void 0===xe||xe.call(P)),null===(je=P.finalize)||void 0===je||je.call(P)}))}):ys.y}({next:P,complete:P,error:P})).subscribe(I).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zu=(()=>{class _{constructor(b){this.ngZone=b,this.outsideAngular=b.runOutsideAngular(()=>new Go(Zone.current)),this.insideAngular=b.run(()=>new Go(Zone.current,Gl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _.\u0275fac=function(b){return new(b||_)(v.LFG(v.R0b))},_.\u0275prov=v.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function ai(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function on(_){return ai(),function ji(_){return function(b){return(b=b.lift(new Ku(_.ngZone))).pipe((0,zl.R)(_.outsideAngular),(0,Ep.Q)(_.insideAngular))}}(ai())(_)}},2090:(st,be,k)=>{"use strict";k.d(be,{$s:()=>Ur,BH:()=>ve,DV:()=>qn,Dv:()=>bn,GJ:()=>Cn,L:()=>pe,LL:()=>Ee,Pz:()=>me,Sg:()=>Be,UG:()=>ee,UI:()=>Un,US:()=>ie,Wj:()=>sr,Wl:()=>Xe,Yr:()=>Ni,ZB:()=>K,ZR:()=>De,aH:()=>Te,b$:()=>It,cI:()=>Zt,dS:()=>di,eu:()=>le,g5:()=>N,gK:()=>Qn,gQ:()=>kt,h$:()=>ge,hl:()=>re,hu:()=>q,jU:()=>lt,lb:()=>Ut,m9:()=>or,ne:()=>Lt,p$:()=>F,pd:()=>Jr,r3:()=>cn,ru:()=>ze,tV:()=>B,uI:()=>Ke,ug:()=>Tt,vZ:()=>it,w1:()=>Mi,w9:()=>un,xO:()=>Vn,xb:()=>gr,z$:()=>Me,zI:()=>de,zd:()=>ir});const v={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},q=function(V,L){if(!V)throw N(L)},N=function(V){return new Error("Firebase Database ("+v.SDK_VERSION+") INTERNAL ASSERT FAILED: "+V)},se=function(V){const L=[];let j=0;for(let he=0;he<V.length;he++){let Y=V.charCodeAt(he);Y<128?L[j++]=Y:Y<2048?(L[j++]=Y>>6|192,L[j++]=63&Y|128):55296==(64512&Y)&&he+1<V.length&&56320==(64512&V.charCodeAt(he+1))?(Y=65536+((1023&Y)<<10)+(1023&V.charCodeAt(++he)),L[j++]=Y>>18|240,L[j++]=Y>>12&63|128,L[j++]=Y>>6&63|128,L[j++]=63&Y|128):(L[j++]=Y>>12|224,L[j++]=Y>>6&63|128,L[j++]=63&Y|128)}return L},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,L){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,he=[];for(let Y=0;Y<V.length;Y+=3){const ke=V[Y],ut=Y+1<V.length,Pt=ut?V[Y+1]:0,gn=Y+2<V.length,en=gn?V[Y+2]:0;let Jn=(15&Pt)<<2|en>>6,Hr=63&en;gn||(Hr=64,ut||(Jn=64)),he.push(j[ke>>2],j[(3&ke)<<4|Pt>>4],j[Jn],j[Hr])}return he.join("")},encodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(V):this.encodeByteArray(se(V),L)},decodeString(V,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(V):function(V){const L=[];let j=0,he=0;for(;j<V.length;){const Y=V[j++];if(Y<128)L[he++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const ke=V[j++];L[he++]=String.fromCharCode((31&Y)<<6|63&ke)}else if(Y>239&&Y<365){const gn=((7&Y)<<18|(63&V[j++])<<12|(63&V[j++])<<6|63&V[j++])-65536;L[he++]=String.fromCharCode(55296+(gn>>10)),L[he++]=String.fromCharCode(56320+(1023&gn))}else{const ke=V[j++],ut=V[j++];L[he++]=String.fromCharCode((15&Y)<<12|(63&ke)<<6|63&ut)}}return L.join("")}(this.decodeStringToByteArray(V,L))},decodeStringToByteArray(V,L){this.init_();const j=L?this.charToByteMapWebSafe_:this.charToByteMap_,he=[];for(let Y=0;Y<V.length;){const ke=j[V.charAt(Y++)],Pt=Y<V.length?j[V.charAt(Y)]:0;++Y;const en=Y<V.length?j[V.charAt(Y)]:64;++Y;const Ct=Y<V.length?j[V.charAt(Y)]:64;if(++Y,null==ke||null==Pt||null==en||null==Ct)throw new fe;he.push(ke<<2|Pt>>4),64!==en&&(he.push(Pt<<4&240|en>>2),64!==Ct&&he.push(en<<6&192|Ct))}return he},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(V){const L=se(V);return ie.encodeByteArray(L,!0)},pe=function(V){return ge(V).replace(/\./g,"")},B=function(V){try{return ie.decodeString(V,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function F(V){return K(void 0,V)}function K(V,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return L}for(const j in L)!L.hasOwnProperty(j)||!Se(j)||(V[j]=K(V[j],L[j]));return V}function Se(V){return"__proto__"!==V}const Re=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=V&&B(V[1]);return L&&JSON.parse(L)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Te=()=>{var V;return null===(V=Re())||void 0===V?void 0:V.config},me=V=>{var L;return null===(L=Re())||void 0===L?void 0:L[`_${V}`]};class ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,j)=>{this.resolve=L,this.reject=j})}wrapCallback(L){return(j,he)=>{j?this.reject(j):this.resolve(he),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(j):L(j,he))}}}function Be(V,L){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const he=L||"demo-project",Y=V.iat||0,ke=V.sub||V.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ut=Object.assign({iss:`https://securetoken.google.com/${he}`,aud:he,iat:Y,exp:Y+3600,auth_time:Y,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},V);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(ut)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function ee(){var V;const L=null===(V=Re())||void 0===V?void 0:V.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lt(){return"object"==typeof self&&self.self===self}function ze(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function It(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Mi(){const V=Me();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function Ni(){return!0===v.NODE_CLIENT||!0===v.NODE_ADMIN}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((V,L)=>{try{let j=!0;const he="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(he);Y.onsuccess=()=>{Y.result.close(),j||self.indexedDB.deleteDatabase(he),V(!0)},Y.onupgradeneeded=()=>{j=!1},Y.onerror=()=>{var ke;L((null===(ke=Y.error)||void 0===ke?void 0:ke.message)||"")}}catch(j){L(j)}})}function de(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class De extends Error{constructor(L,j,he){super(j),this.code=L,this.customData=he,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(L,j,he){this.service=L,this.serviceName=j,this.errors=he}create(L,...j){const he=j[0]||{},Y=`${this.service}/${L}`,ke=this.errors[L],ut=ke?function Qe(V,L){return V.replace(Je,(j,he)=>{const Y=L[he];return null!=Y?String(Y):`<${he}?>`})}(ke,he):"Error";return new De(Y,`${this.serviceName}: ${ut} (${Y}).`,he)}}const Je=/\{\$([^}]+)}/g;function Zt(V){return JSON.parse(V)}function Xe(V){return JSON.stringify(V)}const bt=function(V){let L={},j={},he={},Y="";try{const ke=V.split(".");L=Zt(B(ke[0])||""),j=Zt(B(ke[1])||""),Y=ke[2],he=j.d||{},delete j.d}catch{}return{header:L,claims:j,data:he,signature:Y}},un=function(V){const j=bt(V).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},Cn=function(V){const L=bt(V).claims;return"object"==typeof L&&!0===L.admin};function cn(V,L){return Object.prototype.hasOwnProperty.call(V,L)}function qn(V,L){if(Object.prototype.hasOwnProperty.call(V,L))return V[L]}function gr(V){for(const L in V)if(Object.prototype.hasOwnProperty.call(V,L))return!1;return!0}function Un(V,L,j){const he={};for(const Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(he[Y]=L.call(j,V[Y],Y,V));return he}function it(V,L){if(V===L)return!0;const j=Object.keys(V),he=Object.keys(L);for(const Y of j){if(!he.includes(Y))return!1;const ke=V[Y],ut=L[Y];if(mr(ke)&&mr(ut)){if(!it(ke,ut))return!1}else if(ke!==ut)return!1}for(const Y of he)if(!j.includes(Y))return!1;return!0}function mr(V){return null!==V&&"object"==typeof V}function Vn(V){const L=[];for(const[j,he]of Object.entries(V))Array.isArray(he)?he.forEach(Y=>{L.push(encodeURIComponent(j)+"="+encodeURIComponent(Y))}):L.push(encodeURIComponent(j)+"="+encodeURIComponent(he));return L.length?"&"+L.join("&"):""}function ir(V){const L={};return V.replace(/^\?/,"").split("&").forEach(he=>{if(he){const[Y,ke]=he.split("=");L[decodeURIComponent(Y)]=decodeURIComponent(ke)}}),L}function Jr(V){const L=V.indexOf("?");if(!L)return"";const j=V.indexOf("#",L);return V.substring(L,j>0?j:void 0)}class kt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,j){j||(j=0);const he=this.W_;if("string"==typeof L)for(let Ct=0;Ct<16;Ct++)he[Ct]=L.charCodeAt(j)<<24|L.charCodeAt(j+1)<<16|L.charCodeAt(j+2)<<8|L.charCodeAt(j+3),j+=4;else for(let Ct=0;Ct<16;Ct++)he[Ct]=L[j]<<24|L[j+1]<<16|L[j+2]<<8|L[j+3],j+=4;for(let Ct=16;Ct<80;Ct++){const Jn=he[Ct-3]^he[Ct-8]^he[Ct-14]^he[Ct-16];he[Ct]=4294967295&(Jn<<1|Jn>>>31)}let en,Bt,Y=this.chain_[0],ke=this.chain_[1],ut=this.chain_[2],Pt=this.chain_[3],gn=this.chain_[4];for(let Ct=0;Ct<80;Ct++){Ct<40?Ct<20?(en=Pt^ke&(ut^Pt),Bt=1518500249):(en=ke^ut^Pt,Bt=1859775393):Ct<60?(en=ke&ut|Pt&(ke|ut),Bt=2400959708):(en=ke^ut^Pt,Bt=3395469782);const Jn=(Y<<5|Y>>>27)+en+gn+Bt+he[Ct]&4294967295;gn=Pt,Pt=ut,ut=4294967295&(ke<<30|ke>>>2),ke=Y,Y=Jn}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+ke&4294967295,this.chain_[2]=this.chain_[2]+ut&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+gn&4294967295}update(L,j){if(null==L)return;void 0===j&&(j=L.length);const he=j-this.blockSize;let Y=0;const ke=this.buf_;let ut=this.inbuf_;for(;Y<j;){if(0===ut)for(;Y<=he;)this.compress_(L,Y),Y+=this.blockSize;if("string"==typeof L){for(;Y<j;)if(ke[ut]=L.charCodeAt(Y),++ut,++Y,ut===this.blockSize){this.compress_(ke),ut=0;break}}else for(;Y<j;)if(ke[ut]=L[Y],++ut,++Y,ut===this.blockSize){this.compress_(ke),ut=0;break}}this.inbuf_=ut,this.total_+=j}digest(){const L=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&j,j/=256;this.compress_(this.buf_);let he=0;for(let Y=0;Y<5;Y++)for(let ke=24;ke>=0;ke-=8)L[he]=this.chain_[Y]>>ke&255,++he;return L}}function Lt(V,L){const j=new Ze(V,L);return j.subscribe.bind(j)}class Ze{constructor(L,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{L(this)}).catch(he=>{this.error(he)})}next(L){this.forEachObserver(j=>{j.next(L)})}error(L){this.forEachObserver(j=>{j.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,j,he){let Y;if(void 0===L&&void 0===j&&void 0===he)throw new Error("Missing Observer.");Y=function Tr(V,L){if("object"!=typeof V||null===V)return!1;for(const j of L)if(j in V&&"function"==typeof V[j])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:j,complete:he},void 0===Y.next&&(Y.next=_r),void 0===Y.error&&(Y.error=_r),void 0===Y.complete&&(Y.complete=_r);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),ke}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,L)}sendOne(L,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{j(this.observers[L])}catch(he){typeof console<"u"&&console.error&&console.error(he)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _r(){}const bn=function(V,L,j,he){let Y;if(he<L?Y="at least "+L:he>j&&(Y=0===j?"none":"no more than "+j),Y)throw new Error(V+" failed: Was called with "+he+(1===he?" argument.":" arguments.")+" Expects "+Y+".")};function Qn(V,L){return`${V} failed: ${L} argument `}function sr(V,L,j,he){if((!he||j)&&"function"!=typeof j)throw new Error(Qn(V,L)+"must be a valid function.")}function Ut(V,L,j,he){if((!he||j)&&("object"!=typeof j||null===j))throw new Error(Qn(V,L)+"must be a valid context object.")}const di=function(V){const L=[];let j=0;for(let he=0;he<V.length;he++){let Y=V.charCodeAt(he);if(Y>=55296&&Y<=56319){const ke=Y-55296;he++,q(he<V.length,"Surrogate pair missing trail surrogate."),Y=65536+(ke<<10)+(V.charCodeAt(he)-56320)}Y<128?L[j++]=Y:Y<2048?(L[j++]=Y>>6|192,L[j++]=63&Y|128):Y<65536?(L[j++]=Y>>12|224,L[j++]=Y>>6&63|128,L[j++]=63&Y|128):(L[j++]=Y>>18|240,L[j++]=Y>>12&63|128,L[j++]=Y>>6&63|128,L[j++]=63&Y|128)}return L},Tt=function(V){let L=0;for(let j=0;j<V.length;j++){const he=V.charCodeAt(j);he<128?L++:he<2048?L+=2:he>=55296&&he<=56319?(L+=4,j++):L+=3}return L},Ft=1e3,Sr=2,dn=144e5,vn=.5;function Ur(V,L=Ft,j=Sr){const he=L*Math.pow(j,V),Y=Math.round(vn*he*(Math.random()-.5)*2);return Math.min(dn,he+Y)}function or(V){return V&&V._delegate?V._delegate:V}},3810:(st,be,k)=>{"use strict";var v=k(4650);let q=null;function N(){return q}class te{}const ie=new v.OlP("DocumentToken");function Yi(i,r){r=encodeURIComponent(r);for(const n of i.split(";")){const o=n.indexOf("="),[u,h]=-1==o?[n,""]:[n.slice(0,o),n.slice(o+1)];if(u.trim()===r)return decodeURIComponent(h)}return null}let fi=(()=>{class i{constructor(n,o){this._viewContainer=n,this._context=new vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vo("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vo("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return i.\u0275fac=function(n){return new(n||i)(v.Y36(v.s_b),v.Y36(v.Rgc))},i.\u0275dir=v.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),i})();class vt{constructor(){this.$implicit=null,this.ngIf=null}}function vo(i,r){if(r&&!r.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,v.AaK)(r)}'.`)}let Mr=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({}),i})();class wo{}class Nu extends te{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Cl extends Nu{static makeCurrent(){!function se(i){q||(q=i)}(new Cl)}onAndCancel(r,n,o){return r.addEventListener(n,o,!1),()=>{r.removeEventListener(n,o,!1)}}dispatchEvent(r,n){r.dispatchEvent(n)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,n){return(n=n||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,n){return"window"===n?window:"document"===n?r:"body"===n?r.body:null}getBaseHref(r){const n=function Gs(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}();return null==n?null:function Sf(i){Ei=Ei||document.createElement("a"),Ei.setAttribute("href",i);const r=Ei.pathname;return"/"===r.charAt(0)?r:`/${r}`}(n)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Yi(document.cookie,r)}}let Ei,Ws=null;const id=new v.OlP("TRANSITION_ID"),mp=[{provide:v.ip1,useFactory:function Ra(i,r,n){return()=>{n.get(v.CZH).donePromise.then(()=>{const o=N(),u=r.querySelectorAll(`style[ng-transition="${i}"]`);for(let h=0;h<u.length;h++)o.remove(u[h])})}},deps:[id,ie,v.zs3],multi:!0}];let rs=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const is=new v.OlP("EventManagerPlugins");let Pa=(()=>{class i{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(u=>{u.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,u){return this._findPluginFor(o).addEventListener(n,o,u)}addGlobalEventListener(n,o,u){return this._findPluginFor(o).addGlobalEventListener(n,o,u)}getZone(){return this._zone}_findPluginFor(n){const o=this._eventNameToPlugin.get(n);if(o)return o;const u=this._plugins;for(let h=0;h<u.length;h++){const y=u[h];if(y.supports(n))return this._eventNameToPlugin.set(n,y),y}throw new Error(`No event manager plugin found for event ${n}`)}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(is),v.LFG(v.R0b))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();class zs{constructor(r){this._doc=r}addGlobalEventListener(r,n,o){const u=N().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${n}`);return this.addEventListener(u,n,o)}}let bl=(()=>{class i{constructor(){this.usageCount=new Map}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)0===this.changeUsageCount(o,-1)&&this.onStyleRemoved(o)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,o){const u=this.usageCount;let h=u.get(n)??0;return h+=o,h>0?u.set(n,h):u.delete(n),h}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})(),ss=(()=>{class i extends bl{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.forEach(h=>h.remove()),o.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,o){const u=this.doc.createElement("style");u.textContent=o,n.appendChild(u);const h=this.styleRef.get(o);h?h.push(u):this.styleRef.set(o,[u])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(ie))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const os={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ma=/%COMP%/g,Oo=new v.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ku(i,r){return r.flat(100).map(n=>n.replace(Ma,i))}function us(i){return r=>{if("__ngUnwrap__"===r)return i;!1===i(r)&&(r.preventDefault(),r.returnValue=!1)}}let $r=(()=>{class i{constructor(n,o,u,h){this.eventManager=n,this.sharedStylesHost=o,this.appId=u,this.removeStylesOnCompDestory=h,this.rendererByCompId=new Map,this.defaultRenderer=new Ii(n)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;const u=this.getOrCreateRenderer(n,o);return u instanceof Lu?u.applyToHost(n):u instanceof $t&&u.applyStyles(),u}getOrCreateRenderer(n,o){const u=this.rendererByCompId;let h=u.get(o.id);if(!h){const y=this.eventManager,D=this.sharedStylesHost,S=this.removeStylesOnCompDestory;switch(o.encapsulation){case v.ifc.Emulated:h=new Lu(y,D,o,this.appId,S);break;case v.ifc.ShadowDom:return new xu(y,D,n,o);default:h=new $t(y,D,o,S)}h.onDestroy=()=>u.delete(o.id),u.set(o.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(Pa),v.LFG(ss),v.LFG(v.AFp),v.LFG(Oo))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();class Ii{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,n){return n?document.createElementNS(os[n]||n,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,n){(Zs(r)?r.content:r).appendChild(n)}insertBefore(r,n,o){r&&(Zs(r)?r.content:r).insertBefore(n,o)}removeChild(r,n){r&&r.removeChild(n)}selectRootElement(r,n){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return n||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,n,o,u){if(u){n=u+":"+n;const h=os[u];h?r.setAttributeNS(h,n,o):r.setAttribute(n,o)}else r.setAttribute(n,o)}removeAttribute(r,n,o){if(o){const u=os[o];u?r.removeAttributeNS(u,n):r.removeAttribute(`${o}:${n}`)}else r.removeAttribute(n)}addClass(r,n){r.classList.add(n)}removeClass(r,n){r.classList.remove(n)}setStyle(r,n,o,u){u&(v.JOm.DashCase|v.JOm.Important)?r.style.setProperty(n,o,u&v.JOm.Important?"important":""):r.style[n]=o}removeStyle(r,n,o){o&v.JOm.DashCase?r.style.removeProperty(n):r.style[n]=""}setProperty(r,n,o){r[n]=o}setValue(r,n){r.nodeValue=n}listen(r,n,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,n,us(o)):this.eventManager.addEventListener(r,n,us(o))}}function Zs(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class xu extends Ii{constructor(r,n,o,u){super(r),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=ku(u.id,u.styles);for(const y of h){const D=document.createElement("style");D.textContent=y,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,n){return super.appendChild(this.nodeOrShadowRoot(r),n)}insertBefore(r,n,o){return super.insertBefore(this.nodeOrShadowRoot(r),n,o)}removeChild(r,n){return super.removeChild(this.nodeOrShadowRoot(r),n)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $t extends Ii{constructor(r,n,o,u,h=o.id){super(r),this.sharedStylesHost=n,this.removeStylesOnCompDestory=u,this.rendererUsageCount=0,this.styles=ku(h,o.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Lu extends $t{constructor(r,n,o,u,h){const y=u+"-"+o.id;super(r,n,o,h,y),this.contentAttr=function sd(i){return"_ngcontent-%COMP%".replace(Ma,i)}(y),this.hostAttr=function Oa(i){return"_nghost-%COMP%".replace(Ma,i)}(y)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,n){const o=super.createElement(r,n);return super.setAttribute(o,this.contentAttr,""),o}}let ka=(()=>{class i extends zs{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,u){return n.addEventListener(o,u,!1),()=>this.removeEventListener(n,o,u)}removeEventListener(n,o,u){return n.removeEventListener(o,u)}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(ie))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const Sl=["alt","control","meta","shift"],xa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},La={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let An=(()=>{class i extends zs{constructor(n){super(n)}supports(n){return null!=i.parseEventName(n)}addEventListener(n,o,u){const h=i.parseEventName(o),y=i.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(n,h.domEventName,y))}static parseEventName(n){const o=n.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const h=i._normalizeKey(o.pop());let y="",D=o.indexOf("code");if(D>-1&&(o.splice(D,1),y="code."),Sl.forEach(M=>{const G=o.indexOf(M);G>-1&&(o.splice(G,1),y+=M+".")}),y+=h,0!=o.length||0===h.length)return null;const S={};return S.domEventName=u,S.fullKey=y,S}static matchEventFullKeyCode(n,o){let u=xa[n.key]||n.key,h="";return o.indexOf("code.")>-1&&(u=n.code,h="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Sl.forEach(y=>{y!==u&&(0,La[y])(n)&&(h+=y+".")}),h+=u,h===o)}static eventCallback(n,o,u){return h=>{i.matchEventFullKeyCode(h,n)&&u.runGuarded(()=>o(h))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(ie))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const Pl=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:"browser"},{provide:v.g9A,useValue:function wi(){Cl.makeCurrent()},multi:!0},{provide:ie,useFactory:function Rl(){return(0,v.RDi)(document),document},deps:[]}]),Lo=new v.OlP(""),Ys=[{provide:v.rWj,useClass:class No{addToWindow(r){v.dqk.getAngularTestability=(o,u=!0)=>{const h=r.findTestabilityInTree(o,u);if(null==h)throw new Error("Could not find testability for element.");return h},v.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(o=>{const u=v.dqk.getAllAngularTestabilities();let h=u.length,y=!1;const D=function(S){y=y||S,h--,0==h&&o(y)};u.forEach(function(S){S.whenStable(D)})})}findTestabilityInTree(r,n,o){return null==n?null:r.getTestability(n)??(o?N().isShadowRoot(n)?this.findTestabilityInTree(r,n.host,!0):this.findTestabilityInTree(r,n.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],Ui=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function od(){return new v.qLn},deps:[]},{provide:is,useClass:ka,multi:!0,deps:[ie,v.R0b,v.Lbi]},{provide:is,useClass:An,multi:!0,deps:[ie]},{provide:$r,useClass:$r,deps:[Pa,ss,v.AFp,Oo]},{provide:v.FYo,useExisting:$r},{provide:bl,useExisting:ss},{provide:ss,useClass:ss,deps:[ie]},{provide:Pa,useClass:Pa,deps:[is,v.R0b]},{provide:wo,useClass:rs,deps:[]},[]];let qs=(()=>{class i{constructor(n){}static withServerTransition(n){return{ngModule:i,providers:[{provide:v.AFp,useValue:n.appId},{provide:id,useExisting:v.AFp},mp]}}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(Lo,12))},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[...Ui,...Ys],imports:[Mr,v.hGG]}),i})();typeof window<"u"&&window;var Js=k(7669),si=k(8996);function Gr(...i){const r=(0,Js.yG)(i);return(0,si.D)(i,r)}var zr=k(8306),Ir=k(5577),xl=k(576),kr=k(4482),cr=k(5403);function Vo(i,r){return(0,kr.e)((n,o)=>{let u=0;n.subscribe((0,cr.x)(o,h=>i.call(r,h,u++)&&o.next(h)))})}var zt=k(4004);class Di{}class Xs{}class wr{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(n=>{const o=n.indexOf(":");if(o>0){const u=n.slice(0,o),h=u.toLowerCase(),y=n.slice(o+1).trim();this.maybeSetNormalizedName(u,h),this.headers.has(h)?this.headers.get(h).push(y):this.headers.set(h,[y])}})}:()=>{this.headers=new Map,Object.entries(r).forEach(([n,o])=>{let u;if(u="string"==typeof o?[o]:"number"==typeof o?[o.toString()]:o.map(h=>h.toString()),u.length>0){const h=n.toLowerCase();this.headers.set(h,u),this.maybeSetNormalizedName(n,h)}})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const n=this.headers.get(r.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,n){return this.clone({name:r,value:n,op:"a"})}set(r,n){return this.clone({name:r,value:n,op:"s"})}delete(r,n){return this.clone({name:r,value:n,op:"d"})}maybeSetNormalizedName(r,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,r)}init(){this.lazyInit&&(this.lazyInit instanceof wr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(n=>{this.headers.set(n,r.headers.get(n)),this.normalizedNames.set(n,r.normalizedNames.get(n))})}clone(r){const n=new wr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof wr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([r]),n}applyUpdate(r){const n=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,n);const u=("a"===r.op?this.headers.get(n):void 0)||[];u.push(...o),this.headers.set(n,u);break;case"d":const h=r.value;if(h){let y=this.headers.get(n);if(!y)return;y=y.filter(D=>-1===h.indexOf(D)),0===y.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,y)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>r(this.normalizedNames.get(n),this.headers.get(n)))}}class Fl{encodeKey(r){return Vi(r)}encodeValue(r){return Vi(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const Ha=/%(\d[a-f0-9])/gi,gs={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vi(i){return encodeURIComponent(i).replace(Ha,(r,n)=>gs[n]??r)}function ja(i){return`${i}`}class oi{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Fl,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Bl(i,r){const n=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(u=>{const h=u.indexOf("="),[y,D]=-1==h?[r.decodeKey(u),""]:[r.decodeKey(u.slice(0,h)),r.decodeValue(u.slice(h+1))],S=n.get(y)||[];S.push(D),n.set(y,S)}),n}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(n=>{const o=r.fromObject[n],u=Array.isArray(o)?o.map(ja):[ja(o)];this.map.set(n,u)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const n=this.map.get(r);return n?n[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,n){return this.clone({param:r,value:n,op:"a"})}appendAll(r){const n=[];return Object.keys(r).forEach(o=>{const u=r[o];Array.isArray(u)?u.forEach(h=>{n.push({param:o,value:h,op:"a"})}):n.push({param:o,value:u,op:"a"})}),this.clone(n)}set(r,n){return this.clone({param:r,value:n,op:"s"})}delete(r,n){return this.clone({param:r,value:n,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const n=this.encoder.encodeKey(r);return this.map.get(r).map(o=>n+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const n=new oi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(r),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const n=("a"===r.op?this.map.get(r.param):void 0)||[];n.push(ja(r.value)),this.map.set(r.param,n);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const u=o.indexOf(ja(r.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class ms{constructor(){this.map=new Map}set(r,n){return this.map.set(r,n),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function hd(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Ul(i){return typeof Blob<"u"&&i instanceof Blob}function Vl(i){return typeof FormData<"u"&&i instanceof FormData}class Ho{constructor(r,n,o,u){let h;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function eo(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,h=u):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new wr),this.context||(this.context=new ms),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=n;else{const D=n.indexOf("?");this.urlWithParams=n+(-1===D?"?":D<n.length-1?"&":"")+y}}else this.params=new oi,this.urlWithParams=n}serializeBody(){return null===this.body?null:hd(this.body)||Ul(this.body)||Vl(this.body)||function Hl(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof oi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Vl(this.body)?null:Ul(this.body)?this.body.type||null:hd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){const n=r.method||this.method,o=r.url||this.url,u=r.responseType||this.responseType,h=void 0!==r.body?r.body:this.body,y=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,D=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let S=r.headers||this.headers,M=r.params||this.params;const G=r.context??this.context;return void 0!==r.setHeaders&&(S=Object.keys(r.setHeaders).reduce(($,X)=>$.set(X,r.setHeaders[X]),S)),r.setParams&&(M=Object.keys(r.setParams).reduce(($,X)=>$.set(X,r.setParams[X]),M)),new Ho(n,o,h,{params:M,headers:S,context:G,reportProgress:D,responseType:u,withCredentials:y})}}var sn=(()=>((sn=sn||{})[sn.Sent=0]="Sent",sn[sn.UploadProgress=1]="UploadProgress",sn[sn.ResponseHeader=2]="ResponseHeader",sn[sn.DownloadProgress=3]="DownloadProgress",sn[sn.Response=4]="Response",sn[sn.User=5]="User",sn))();class jo{constructor(r,n=200,o="OK"){this.headers=r.headers||new wr,this.status=void 0!==r.status?r.status:n,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class jl extends jo{constructor(r={}){super(r),this.type=sn.ResponseHeader}clone(r={}){return new jl({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class _s extends jo{constructor(r={}){super(r),this.type=sn.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new _s({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class $o extends jo{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function $l(i,r){return{body:r,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Wl=(()=>{class i{constructor(n){this.handler=n}request(n,o,u={}){let h;if(n instanceof Ho)h=n;else{let S,M;S=u.headers instanceof wr?u.headers:new wr(u.headers),u.params&&(M=u.params instanceof oi?u.params:new oi({fromObject:u.params})),h=new Ho(n,o,void 0!==u.body?u.body:null,{headers:S,context:u.context,params:M,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const y=Gr(h).pipe(function Bu(i,r){return(0,xl.m)(r)?(0,Ir.z)(i,r,1):(0,Ir.z)(i,1)}(S=>this.handler.handle(S)));if(n instanceof Ho||"events"===u.observe)return y;const D=y.pipe(Vo(S=>S instanceof _s));switch(u.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return D.pipe((0,zt.U)(S=>{if(null!==S.body&&!(S.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return S.body}));case"blob":return D.pipe((0,zt.U)(S=>{if(null!==S.body&&!(S.body instanceof Blob))throw new Error("Response is not a Blob.");return S.body}));case"text":return D.pipe((0,zt.U)(S=>{if(null!==S.body&&"string"!=typeof S.body)throw new Error("Response is not a string.");return S.body}));default:return D.pipe((0,zt.U)(S=>S.body))}case"response":return D;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new oi).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,u={}){return this.request("PATCH",n,$l(u,o))}post(n,o,u={}){return this.request("POST",n,$l(u,o))}put(n,o,u={}){return this.request("PUT",n,$l(u,o))}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(Di))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();function Gl(i,r){return r(i)}function Uu(i,r){return(n,o)=>r.intercept(n,{handle:u=>i(u,o)})}const $a=new v.OlP("HTTP_INTERCEPTORS"),ys=new v.OlP("HTTP_INTERCEPTOR_FNS");function Wa(){let i=null;return(r,n)=>(null===i&&(i=((0,v.f3M)($a,{optional:!0})??[]).reduceRight(Uu,Gl)),i(r,n))}let zl=(()=>{class i extends Di{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null}handle(n){if(null===this.chain){const o=Array.from(new Set(this.injector.get(ys)));this.chain=o.reduceRight((u,h)=>function Vu(i,r,n){return(o,u)=>n.runInContext(()=>r(o,h=>i(h,u)))}(u,h,this.injector),Gl)}return this.chain(n,o=>this.backend.handle(o))}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(Xs),v.LFG(v.lqb))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const gd=/^\)\]\}',?\n/;let xr=(()=>{class i{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new zr.y(o=>{const u=this.xhrFactory.build();if(u.open(n.method,n.urlWithParams),n.withCredentials&&(u.withCredentials=!0),n.headers.forEach((ye,Oe)=>u.setRequestHeader(ye,Oe.join(","))),n.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ye=n.detectContentTypeHeader();null!==ye&&u.setRequestHeader("Content-Type",ye)}if(n.responseType){const ye=n.responseType.toLowerCase();u.responseType="json"!==ye?ye:"text"}const h=n.serializeBody();let y=null;const D=()=>{if(null!==y)return y;const ye=u.statusText||"OK",Oe=new wr(u.getAllResponseHeaders()),at=function zu(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(u)||n.url;return y=new jl({headers:Oe,status:u.status,statusText:ye,url:at}),y},S=()=>{let{headers:ye,status:Oe,statusText:at,url:Ot}=D(),Dt=null;204!==Oe&&(Dt=typeof u.response>"u"?u.responseText:u.response),0===Oe&&(Oe=Dt?200:0);let Qt=Oe>=200&&Oe<300;if("json"===n.responseType&&"string"==typeof Dt){const Bn=Dt;Dt=Dt.replace(gd,"");try{Dt=""!==Dt?JSON.parse(Dt):null}catch(jt){Dt=Bn,Qt&&(Qt=!1,Dt={error:jt,text:Dt})}}Qt?(o.next(new _s({body:Dt,headers:ye,status:Oe,statusText:at,url:Ot||void 0})),o.complete()):o.error(new $o({error:Dt,headers:ye,status:Oe,statusText:at,url:Ot||void 0}))},M=ye=>{const{url:Oe}=D(),at=new $o({error:ye,status:u.status||0,statusText:u.statusText||"Unknown Error",url:Oe||void 0});o.error(at)};let G=!1;const $=ye=>{G||(o.next(D()),G=!0);let Oe={type:sn.DownloadProgress,loaded:ye.loaded};ye.lengthComputable&&(Oe.total=ye.total),"text"===n.responseType&&u.responseText&&(Oe.partialText=u.responseText),o.next(Oe)},X=ye=>{let Oe={type:sn.UploadProgress,loaded:ye.loaded};ye.lengthComputable&&(Oe.total=ye.total),o.next(Oe)};return u.addEventListener("load",S),u.addEventListener("error",M),u.addEventListener("timeout",M),u.addEventListener("abort",M),n.reportProgress&&(u.addEventListener("progress",$),null!==h&&u.upload&&u.upload.addEventListener("progress",X)),u.send(h),o.next({type:sn.Sent}),()=>{u.removeEventListener("error",M),u.removeEventListener("abort",M),u.removeEventListener("load",S),u.removeEventListener("timeout",M),n.reportProgress&&(u.removeEventListener("progress",$),null!==h&&u.upload&&u.upload.removeEventListener("progress",X)),u.readyState!==u.DONE&&u.abort()}})}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(wo))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();const Hi=new v.OlP("XSRF_ENABLED"),Ku=new v.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ai=new v.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Yu{}let vs=(()=>{class i{constructor(n,o,u){this.doc=n,this.platform=o,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yi(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(ie),v.LFG(v.Lbi),v.LFG(Ku))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac}),i})();function Pf(i,r){const n=i.url.toLowerCase();if(!(0,v.f3M)(Hi)||"GET"===i.method||"HEAD"===i.method||n.startsWith("http://")||n.startsWith("https://"))return r(i);const o=(0,v.f3M)(Yu).getToken(),u=(0,v.f3M)(ai);return null!=o&&!i.headers.has(u)&&(i=i.clone({headers:i.headers.set(u,o)})),r(i)}var on=(()=>((on=on||{})[on.Interceptors=0]="Interceptors",on[on.LegacyInterceptors=1]="LegacyInterceptors",on[on.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",on[on.NoXsrfProtection=3]="NoXsrfProtection",on[on.JsonpSupport=4]="JsonpSupport",on[on.RequestsMadeViaParent=5]="RequestsMadeViaParent",on))();function ji(i,r){return{\u0275kind:i,\u0275providers:r}}function dr(...i){const r=[Wl,xr,zl,{provide:Di,useExisting:zl},{provide:Xs,useExisting:xr},{provide:ys,useValue:Pf,multi:!0},{provide:Hi,useValue:!0},{provide:Yu,useClass:vs}];for(const n of i)r.push(...n.\u0275providers);return(0,v.MR2)(r)}const _=new v.OlP("LEGACY_INTERCEPTOR_FN");let Ue=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[dr(ji(on.LegacyInterceptors,[{provide:_,useFactory:Wa},{provide:ys,useExisting:_,multi:!0}]))]}),i})();var rt=k(2011),pt=k(4986),Wn=k(266),Pn=k(3099),$i=k(8421);function Dr(i,r){return(0,kr.e)((n,o)=>{let u=null,h=0,y=!1;const D=()=>y&&!u&&o.complete();n.subscribe((0,cr.x)(o,S=>{u?.unsubscribe();let M=0;const G=h++;(0,$i.Xf)(i(S,G)).subscribe(u=(0,cr.x)(o,$=>o.next(r?r(S,$,G,M++):$),()=>{u=null,D()}))},()=>{y=!0,D()}))})}function Gn(i,r){return(0,kr.e)(function Es(i,r,n,o,u){return(h,y)=>{let D=n,S=r,M=0;h.subscribe((0,cr.x)(y,G=>{const $=M++;S=D?i(S,G,$):(D=!0,G),o&&y.next(S)},u&&(()=>{D&&y.next(S),y.complete()})))}}(i,r,arguments.length>=2,!0))}var Ci=k(4671);function qu(i,r){return i===r}var Ka=k(5032),Lr=k(7750),wp=(k(2644),k(3942)),Is=k(4859),to=k(5861),no=k(6881),O=k(2090),yd=k(1877);const ro="@firebase/database";let Qu="";function Za(i){Qu=i}class Of{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,n){null==n?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,O.Wl)(n))}get(r){const n=this.domStorage_.getItem(this.prefixedName_(r));return null==n?null:(0,O.cI)(n)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class Yl{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,n){null==n?delete this.cache_[r]:this.cache_[r]=n}get(r){return(0,O.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const kf=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const r=window[i];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new Of(r)}}catch{}return new Yl},Ko=kf("localStorage"),Ya=kf("sessionStorage"),Zo=new yd.Yd("@firebase/database"),io=function(){let i=1;return function(){return i++}}(),ql=function(i){const r=(0,O.dS)(i),n=new O.gQ;n.update(r);const o=n.digest();return O.US.encodeByteArray(o)},qa=function(...i){let r="";for(let n=0;n<i.length;n++){const o=i[n];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=qa.apply(null,o):r+="object"==typeof o?(0,O.Wl)(o):o,r+=" "}return r};let Yo=null,Dp=!0;const Ql=function(i,r){(0,O.hu)(!r||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Zo.logLevel=yd.in.VERBOSE,Yo=Zo.log.bind(Zo),r&&Ya.set("logging_enabled",!0)):"function"==typeof i?Yo=i:(Yo=null,Ya.remove("logging_enabled"))},zn=function(...i){if(!0===Dp&&(Dp=!1,null===Yo&&!0===Ya.get("logging_enabled")&&Ql(!0)),Yo){const r=qa.apply(null,i);Yo(r)}},qo=function(i){return function(...r){zn(i,...r)}},Qa=function(...i){const r="FIREBASE INTERNAL ERROR: "+qa(...i);Zo.error(r)},bi=function(...i){const r=`FIREBASE FATAL ERROR: ${qa(...i)}`;throw Zo.error(r),new Error(r)},Kn=function(...i){const r="FIREBASE WARNING: "+qa(...i);Zo.warn(r)},ws=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Ds="[MIN_NAME]",Fr="[MAX_NAME]",Cs=function(i,r){if(i===r)return 0;if(i===Ds||r===Fr)return-1;if(r===Ds||i===Fr)return 1;{const n=Ff(i),o=Ff(r);return null!==n?null!==o?n-o==0?i.length-r.length:n-o:-1:null!==o?1:i<r?-1:1}},vd=function(i,r){return i===r?0:i<r?-1:1},bs=function(i,r){if(r&&i in r)return r[i];throw new Error("Missing required key ("+i+") in object: "+(0,O.Wl)(r))},ec=function(i){if("object"!=typeof i||null===i)return(0,O.Wl)(i);const r=[];for(const o in i)r.push(o);r.sort();let n="{";for(let o=0;o<r.length;o++)0!==o&&(n+=","),n+=(0,O.Wl)(r[o]),n+=":",n+=ec(i[r[o]]);return n+="}",n},Ed=function(i,r){const n=i.length;if(n<=r)return[i];const o=[];for(let u=0;u<n;u+=r)o.push(i.substring(u,u+r>n?n:u+r));return o};function Zn(i,r){for(const n in i)i.hasOwnProperty(n)&&r(n,i[n])}const xf=function(i){(0,O.hu)(!ws(i),"Invalid JSON number");const o=1023;let u,h,y,D,S;0===i?(h=0,y=0,u=1/i==-1/0?1:0):(u=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(D=Math.min(Math.floor(Math.log(i)/Math.LN2),o),h=D+o,y=Math.round(i*Math.pow(2,52-D)-Math.pow(2,52))):(h=0,y=Math.round(i/Math.pow(2,-1074))));const M=[];for(S=52;S;S-=1)M.push(y%2?1:0),y=Math.floor(y/2);for(S=11;S;S-=1)M.push(h%2?1:0),h=Math.floor(h/2);M.push(u?1:0),M.reverse();const G=M.join("");let $="";for(S=0;S<64;S+=8){let X=parseInt(G.substr(S,8),2).toString(16);1===X.length&&(X="0"+X),$+=X}return $.toLowerCase()},Jl=new RegExp("^-?(0*)\\d{1,10}$"),Ff=function(i){if(Jl.test(i)){const r=Number(i);if(r>=-2147483648&&r<=2147483647)return r}return null},el=function(i){try{i()}catch(r){setTimeout(()=>{throw Kn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},bp=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qo=function(i,r){const n=setTimeout(i,r);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Xl{constructor(r,n){this.appName_=r,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(o=>this.appCheck=o)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((n,o)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(n,o):n(null)},0)})}addTokenChangeListener(r){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(o=>o.addTokenListener(r))}notifyForInvalidToken(){Kn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Bf{constructor(r,n,o){this.appName_=r,this.firebaseOptions_=n,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(n=>n&&"auth/token-not-initialized"===n.code?(zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,o)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(n,o):n(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(n=>n.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(n=>n.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kn(r)}}let tl=(()=>{class i{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const wd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cd="websocket",Uf="long_polling";class tr{constructor(r,n,o,u,h=!1,y="",D=!1,S=!1){this.secure=n,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=h,this.persistenceKey=y,this.includeNamespaceInQueryParams=D,this.isUsingEmulator=S,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ko.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Ko.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vf(i,r,n){let o;if((0,O.hu)("string"==typeof r,"typeof type must == string"),(0,O.hu)("object"==typeof n,"typeof params must == object"),r===Cd)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(r!==Uf)throw new Error("Unknown connection type: "+r);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function nl(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(n.ns=i.namespace);const u=[];return Zn(n,(h,y)=>{u.push(h+"="+y)}),o+u.join("&")}class lm{constructor(){this.counters_={}}incrementCounter(r,n=1){(0,O.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=n}get(){return(0,O.p$)(this.counters_)}}const Hf={},bd={};function br(i){const r=i.toString();return Hf[r]||(Hf[r]=new lm),Hf[r]}class sc{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,n){this.closeAfterResponse=r,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,n){for(this.pendingResponses[r]=n;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&el(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class U{constructor(r,n,o,u,h,y,D){this.connId=r,this.repoInfo=n,this.applicationId=o,this.appCheckToken=u,this.authToken=h,this.transportSessionId=y,this.lastSessionId=D,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qo(r),this.stats_=br(n),this.urlFn=S=>(this.appCheckToken&&(S.ac=this.appCheckToken),Vf(n,Uf,S))}open(r,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sc(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,O.Yr)()||"complete"===document.readyState)i();else{let r=!1;const n=function(){document.body?r||(r=!0,i()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Z((...h)=>{const[y,D,S,M,G]=h;if(this.incrementIncomingBytes_(h),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===y)this.id=D,this.password=S;else{if("close"!==y)throw new Error("Unrecognized command received: "+y);D?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(D,()=>{this.onClosed_()})):this.onClosed_()}},(...h)=>{const[y,D]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(y,D)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&wd.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){U.forceAllow_=!0}static forceDisallow(){U.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!U.forceAllow_&&(U.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const n=(0,O.Wl)(r);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const o=(0,O.h$)(n),u=Ed(o,1840);for(let h=0;h<u.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[h]),this.curSegmentNum++}addDisconnectPingFrame(r,n){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=r,o.pw=n,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const n=(0,O.Wl)(r).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Z{constructor(r,n,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=r,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=io(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Z.createIFrame_();let h="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(h='<script>document.domain="'+document.domain+'";<\/script>');const y="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(y),this.myIFrame.doc.close()}catch(D){zn("frame writing exception"),D.stack&&zn(D.stack),zn(D)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||zn("No IE domain setting required")}catch{const o=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,n){for(this.myID=r,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let n=this.urlFn(r),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const y=this.pendingSegs.shift();o=o+"&seg"+u+"="+y.seg+"&ts"+u+"="+y.ts+"&d"+u+"="+y.d,u++}return n+=o,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(r,n,o){this.pendingSegs.push({seg:r,ts:n,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(r,n){this.outstandingRequests.add(n);const o=()=>{this.outstandingRequests.delete(n),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(u),o()})}addTag(r,n){(0,O.Yr)()?this.doNodeLongPoll(r,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=r,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),n())},o.onerror=()=>{zn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let We=null;typeof MozWebSocket<"u"?We=MozWebSocket:typeof WebSocket<"u"&&(We=WebSocket);let $e=(()=>{class i{constructor(n,o,u,h,y,D,S){this.connId=n,this.applicationId=u,this.appCheckToken=h,this.authToken=y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qo(this.connId),this.stats_=br(o),this.connURL=i.connectionURL_(o,D,S,h,u),this.nodeAdmin=o.nodeAdmin}static connectionURL_(n,o,u,h,y){const D={v:"5"};return!(0,O.Yr)()&&typeof location<"u"&&location.hostname&&wd.test(location.hostname)&&(D.r="f"),o&&(D.s=o),u&&(D.ls=u),h&&(D.ac=h),y&&(D.p=y),Vf(n,Cd,D)}open(n,o){this.onDisconnect=o,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ko.set("previous_websocket_failure",!0);try{let u;if((0,O.Yr)()){u={headers:{"User-Agent":`Firebase/5/${Qu}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const y=process.env,D=0===this.connURL.indexOf("wss://")?y.HTTPS_PROXY||y.https_proxy:y.HTTP_PROXY||y.http_proxy;D&&(u.proxy={origin:D})}this.mySock=new We(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const h=u.message||u.data;return h&&this.log_(h),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const h=u.message||u.data;h&&this.log_(h),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(n=!0)}return!n&&null!==We&&!i.forceDisallow_}static previouslyFailed(){return Ko.isInMemoryStorage||!0===Ko.get("previous_websocket_failure")}markConnectionHealthy(){Ko.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,O.cI)(o);this.onMessage(u)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const o=Number(n);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const o=n.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(n){this.resetKeepAlive();const o=(0,O.Wl)(n);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=Ed(o,16384);u.length>1&&this.sendString_(String(u.length));for(let h=0;h<u.length;h++)this.sendString_(u[h])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})(),Yt=(()=>{class i{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[U,$e]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const o=$e&&$e.isAvailable();let u=o&&!$e.previouslyFailed();if(n.webSocketOnly&&(o||Kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[$e];else{const h=this.transports_=[];for(const y of i.ALL_TRANSPORTS)y&&y.isAvailable()&&h.push(y);i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return i.globalTransportInitialized_=!1,i})();class Fy{constructor(r,n,o,u,h,y,D,S,M,G){this.id=r,this.repoInfo_=n,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=h,this.onMessage_=y,this.onReady_=D,this.onDisconnect_=S,this.onKill_=M,this.lastSessionId=G,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qo("c:"+this.id+":"),this.transportManager_=new Yt(n),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,o)},Math.floor(0));const u=r.healthyTimeout||0;u>0&&(this.healthyTimeout_=Qo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return n=>{r===this.conn_?this.onConnectionLost_(n):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return n=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(n):r===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const n=r.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const n=bs("t",r),o=bs("d",r);if("c"===n)this.onSecondaryControl_(o);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const n=bs("t",r),o=bs("d",r);"c"===n?this.onControl_(o):"d"===n&&this.onDataMessage_(o)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const n=bs("t",r);if("d"in r){const o=r.d;if("h"===n){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(o):"r"===n?this.onReset_(o):"e"===n?Qa("Server Error: "+o):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qa("Unknown control packet command: "+n)}}onHandshake_(r){const n=r.ts,o=r.v,u=r.h;this.sessionId=r.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==o&&Kn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),Qo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,n){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ko.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class dc{put(r,n,o,u){}merge(r,n,o,u){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,n,o){}onDisconnectMerge(r,n,o){}onDisconnectCancel(r,n){}reportStats(r){}}class Tp{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,O.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...n){if(Array.isArray(this.listeners_[r])){const o=[...this.listeners_[r]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,n)}}on(r,n,o){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:n,context:o});const u=this.getInitialEvent(r);u&&n.apply(o,u)}off(r,n,o){this.validateEventType_(r);const u=this.listeners_[r]||[];for(let h=0;h<u.length;h++)if(u[h].callback===n&&(!o||o===u[h].context))return void u.splice(h,1)}validateEventType_(r){(0,O.hu)(this.allowedEvents_.find(n=>n===r),"Unknown event: "+r)}}class Ad extends Tp{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ad}getInitialEvent(r){return(0,O.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}const Sp=32,Ap=768;class Kt{constructor(r,n){if(void 0===n){this.pieces_=r.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=n}toString(){let r="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(r+="/"+this.pieces_[n]);return r||"/"}}function Ht(){return new Kt("")}function St(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Xo(i){return i.pieces_.length-i.pieceNum_}function qt(i){let r=i.pieceNum_;return r<i.pieces_.length&&r++,new Kt(i.pieces_,r)}function dm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Rd(i,r=0){return i.pieces_.slice(i.pieceNum_+r)}function Qf(i){if(i.pieceNum_>=i.pieces_.length)return null;const r=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)r.push(i.pieces_[n]);return new Kt(r,0)}function hn(i,r){const n=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)n.push(i.pieces_[o]);if(r instanceof Kt)for(let o=r.pieceNum_;o<r.pieces_.length;o++)n.push(r.pieces_[o]);else{const o=r.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&n.push(o[u])}return new Kt(n,0)}function At(i){return i.pieceNum_>=i.pieces_.length}function Ln(i,r){const n=St(i),o=St(r);if(null===n)return r;if(n===o)return Ln(qt(i),qt(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+i+")")}function By(i,r){const n=Rd(i,0),o=Rd(r,0);for(let u=0;u<n.length&&u<o.length;u++){const h=Cs(n[u],o[u]);if(0!==h)return h}return n.length===o.length?0:n.length<o.length?-1:1}function Pd(i,r){if(Xo(i)!==Xo(r))return!1;for(let n=i.pieceNum_,o=r.pieceNum_;n<=i.pieces_.length;n++,o++)if(i.pieces_[n]!==r.pieces_[o])return!1;return!0}function Kr(i,r){let n=i.pieceNum_,o=r.pieceNum_;if(Xo(i)>Xo(r))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==r.pieces_[o])return!1;++n,++o}return!0}class Uy{constructor(r,n){this.errorPrefix_=n,this.parts_=Rd(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,O.ug)(this.parts_[o]);il(this)}}function il(i){if(i.byteLength_>Ap)throw new Error(i.errorPrefix_+"has a key path longer than "+Ap+" bytes ("+i.byteLength_+").");if(i.parts_.length>Sp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Sp+") or object contains a cycle "+sl(i))}function sl(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class Md extends Tp{constructor(){let r,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const o=!document[r];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Md}getInitialEvent(r){return(0,O.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const Nd=1e3;let Xf,ea=(()=>{class i extends dc{constructor(n,o,u,h,y,D,S,M){if(super(),this.repoInfo_=n,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=h,this.onServerInfoUpdate_=y,this.authTokenProvider_=D,this.appCheckTokenProvider_=S,this.authOverride_=M,this.id=i.nextPersistentConnectionId_++,this.log_=qo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Nd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Md.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Ad.getInstance().on("online",this.onOnline_,this)}sendRequest(n,o,u){const h=++this.requestNumber_,y={r:h,a:n,b:o};this.log_((0,O.Wl)(y)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(y),u&&(this.requestCBHash_[h]=u)}get(n){this.initConnection_();const o=new O.BH,h={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:D=>{const S=D.d;"ok"===D.s?o.resolve(S):o.reject(S)}};return this.outstandingGets_.push(h),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(n,o,u,h){this.initConnection_();const y=n._queryIdentifier,D=n._path.toString();this.log_("Listen called for "+D+" "+y),this.listens.has(D)||this.listens.set(D,new Map),(0,O.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(D).has(y),"listen() called twice for same path/queryId.");const S={onComplete:h,hashFn:o,query:n,tag:u};this.listens.get(D).set(y,S),this.connected_&&this.sendListen_(S)}sendGet_(n){const o=this.outstandingGets_[n];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(n){const o=n.query,u=o._path.toString(),h=o._queryIdentifier;this.log_("Listen on "+u+" for "+h);const y={p:u};n.tag&&(y.q=o._queryObject,y.t=n.tag),y.h=n.hashFn(),this.sendRequest("q",y,S=>{const M=S.d,G=S.s;i.warnOnListenWarnings_(M,o),(this.listens.get(u)&&this.listens.get(u).get(h))===n&&(this.log_("listen response",S),"ok"!==G&&this.removeListen_(u,h),n.onComplete&&n.onComplete(G,M))})}static warnOnListenWarnings_(n,o){if(n&&"object"==typeof n&&(0,O.r3)(n,"w")){const u=(0,O.DV)(n,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const h='".indexOn": "'+o._queryParams.getIndex().toString()+'"',y=o._path.toString();Kn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${h} at ${y} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,O.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,o=(0,O.w9)(n)?"auth":"gauth",u={cred:n};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,h=>{const y=h.s,D=h.d||"error";this.authToken_===n&&("ok"===y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(y,D))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const o=n.s,u=n.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(n,o){const u=n._path.toString(),h=n._queryIdentifier;this.log_("Unlisten called for "+u+" "+h),(0,O.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,h)&&this.connected_&&this.sendUnlisten_(u,h,n._queryObject,o)}sendUnlisten_(n,o,u,h){this.log_("Unlisten on "+n+" for "+o);const y={p:n};h&&(y.q=u,y.t=h),this.sendRequest("n",y)}onDisconnectPut(n,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,o,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:o,onComplete:u})}onDisconnectMerge(n,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,o,u):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:o,onComplete:u})}onDisconnectCancel(n,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,o):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(n,o,u,h){const y={p:o,d:u};this.log_("onDisconnect "+n,y),this.sendRequest(n,y,D=>{h&&setTimeout(()=>{h(D.s,D.d)},Math.floor(0))})}put(n,o,u,h){this.putInternal("p",n,o,u,h)}merge(n,o,u,h){this.putInternal("m",n,o,u,h)}putInternal(n,o,u,h,y){this.initConnection_();const D={p:o,d:u};void 0!==y&&(D.h=y),this.outstandingPuts_.push({action:n,request:D,onComplete:h}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(n){const o=this.outstandingPuts_[n].action,u=this.outstandingPuts_[n].request,h=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(o,u,y=>{this.log_(o+" response",y),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),h&&h(y.s,y.d)})}reportStats(n){if(this.connected_){const o={c:n};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,O.Wl)(n));const o=n.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,o){this.log_("handleServerMessage",n,o),"d"===n?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===n?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===n?this.onListenRevoked_(o.p,o.q):"ac"===n?this.onAuthRevoked_(o.s,o.d):"apc"===n?this.onAppCheckRevoked_(o.s,o.d):"sd"===n?this.onSecurityDebugPacket_(o):Qa("Unrecognized action received from server: "+(0,O.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Nd,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Nd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Nd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-n);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,to.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const o=n.onDataMessage_.bind(n),u=n.onReady_.bind(n),h=n.onRealtimeDisconnect_.bind(n),y=n.id+":"+i.nextConnectionId_++,D=n.lastSessionId;let S=!1,M=null;const G=function(){M?M.close():(S=!0,h())};n.realtime_={close:G,sendRequest:function(ye){(0,O.hu)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(ye)}};const X=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[ye,Oe]=yield Promise.all([n.authTokenProvider_.getToken(X),n.appCheckTokenProvider_.getToken(X)]);S?zn("getToken() completed but was canceled"):(zn("getToken() completed. Creating connection."),n.authToken_=ye&&ye.accessToken,n.appCheckToken_=Oe&&Oe.token,M=new Fy(y,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,o,u,h,at=>{Kn(at+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},D))}catch(ye){n.log_("Failed to get token: "+ye),S||(n.repoInfo_.nodeAdmin&&Kn(ye),G())}}})()}interrupt(n){zn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){zn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Nd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const o=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const o=this.outstandingPuts_[n];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,o){let u;u=o?o.map(y=>ec(y)).join("$"):"default";const h=this.removeListen_(n,u);h&&h.onComplete&&h.onComplete("permission_denied")}removeListen_(n,o){const u=new Kt(n).toString();let h;if(this.listens.has(u)){const y=this.listens.get(u);h=y.get(o),y.delete(o),0===y.size&&this.listens.delete(u)}else h=void 0;return h}onAuthRevoked_(n,o){zn("Auth token revoked: "+n+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,o){zn("App check token revoked: "+n+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const o of n.values())this.sendListen_(o);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let o="js";(0,O.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+o+"."+Qu.replace(/\./g,"-")]=1,(0,O.uI)()?n["framework.cordova"]=1:(0,O.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ad.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&n}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class Nt{constructor(r,n){this.name=r,this.node=n}static Wrap(r,n){return new Nt(r,n)}}class Od{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,n){const o=new Nt(Ds,r),u=new Nt(Ds,n);return 0!==this.compare(o,u)}minPost(){return Nt.MIN}}class Np extends Od{static get __EMPTY_NODE(){return Xf}static set __EMPTY_NODE(r){Xf=r}compare(r,n){return Cs(r.name,n.name)}isDefinedOn(r){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,n){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(Fr,Xf)}makePost(r,n){return(0,O.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new Nt(r,Xf)}toString(){return".key"}}const ta=new Np;class eh{constructor(r,n,o,u,h=null){this.isReverse_=u,this.resultGenerator_=h,this.nodeStack_=[];let y=1;for(;!r.isEmpty();)if(y=n?o(r.key,n):1,u&&(y*=-1),y<0)r=this.isReverse_?r.left:r.right;else{if(0===y){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,r=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let th,li=(()=>{class i{constructor(n,o,u,h,y){this.key=n,this.value=o,this.color=u??i.RED,this.left=h??nr.EMPTY_NODE,this.right=y??nr.EMPTY_NODE}copy(n,o,u,h,y){return new i(n??this.key,o??this.value,u??this.color,h??this.left,y??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,u){let h=this;const y=u(n,h.key);return h=y<0?h.copy(null,null,null,h.left.insert(n,o,u),null):0===y?h.copy(null,o,null,null,null):h.copy(null,null,null,null,h.right.insert(n,o,u)),h.fixUp_()}removeMin_(){if(this.left.isEmpty())return nr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,o){let u,h;if(u=this,o(n,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(n,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(n,u.key)){if(u.right.isEmpty())return nr.EMPTY_NODE;h=u.right.min_(),u=u.copy(h.key,h.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(n,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class nr{constructor(r,n=nr.EMPTY_NODE){this.comparator_=r,this.root_=n}insert(r,n){return new nr(this.comparator_,this.root_.insert(r,n,this.comparator_).copy(null,null,li.BLACK,null,null))}remove(r){return new nr(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,li.BLACK,null,null))}get(r){let n,o=this.root_;for(;!o.isEmpty();){if(n=this.comparator_(r,o.key),0===n)return o.value;n<0?o=o.left:n>0&&(o=o.right)}return null}getPredecessorKey(r){let n,o=this.root_,u=null;for(;!o.isEmpty();){if(n=this.comparator_(r,o.key),0===n){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}n<0?o=o.left:n>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new eh(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,n){return new eh(this.root_,r,this.comparator_,!1,n)}getReverseIteratorFrom(r,n){return new eh(this.root_,r,this.comparator_,!0,n)}getReverseIterator(r){return new eh(this.root_,null,this.comparator_,!0,r)}}function kd(i,r){return Cs(i.name,r.name)}function Op(i,r){return Cs(i,r)}nr.EMPTY_NODE=new class $y{copy(r,n,o,u,h){return this}insert(r,n,o){return new li(r,n,null)}remove(r,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const hm=function(i){return"number"==typeof i?"number:"+xf(i):"string:"+i},pm=function(i){if(i.isLeafNode()){const r=i.val();(0,O.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,O.r3)(r,".sv"),"Priority must be a string or number.")}else(0,O.hu)(i===th||i.isEmpty(),"priority of unexpected type.");(0,O.hu)(i===th||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let kp,nh,rh,nu=(()=>{class i{constructor(n,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=o,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),pm(this.priorityNode_)}static set __childrenNodeConstructor(n){kp=n}static get __childrenNodeConstructor(){return kp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new i(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return At(n)?this:".priority"===St(n)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,o){return null}updateImmediateChild(n,o){return".priority"===n?this.updatePriority(o):o.isEmpty()&&".priority"!==n?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,o).updatePriority(this.priorityNode_)}updateChild(n,o){const u=St(n);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,O.hu)(".priority"!==u||1===Xo(n),".priority must be the last token in a path"),this.updateImmediateChild(u,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(qt(n),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,o){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hm(this.priorityNode_.val())+":");const o=typeof this.value_;n+=o+":",n+="number"===o?xf(this.value_):this.value_,this.lazyHash_=ql(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===i.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof i.__childrenNodeConstructor?-1:((0,O.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const o=typeof n.value_,u=typeof this.value_,h=i.VALUE_TYPE_ORDER.indexOf(o),y=i.VALUE_TYPE_ORDER.indexOf(u);return(0,O.hu)(h>=0,"Unknown leaf type: "+o),(0,O.hu)(y>=0,"Unknown leaf type: "+u),h===y?"object"===u?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:y-h}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const an=new class xd extends Od{compare(r,n){const o=r.node.getPriority(),u=n.node.getPriority(),h=o.compareTo(u);return 0===h?Cs(r.name,n.name):h}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,n){return!r.getPriority().equals(n.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(Fr,new nu("[PRIORITY-POST]",rh))}makePost(r,n){const o=nh(r);return new Nt(n,new nu("[PRIORITY-POST]",o))}toString(){return".priority"}},zy=Math.log(2);class Ky{constructor(r){this.count=parseInt(Math.log(r+1)/zy,10),this.current_=this.count-1;const u=(h=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&u}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const ih=function(i,r,n,o){i.sort(r);const u=function(S,M){const G=M-S;let $,X;if(0===G)return null;if(1===G)return $=i[S],X=n?n($):$,new li(X,$.node,li.BLACK,null,null);{const ye=parseInt(G/2,10)+S,Oe=u(S,ye),at=u(ye+1,M);return $=i[ye],X=n?n($):$,new li(X,$.node,li.BLACK,Oe,at)}},D=function(S){let M=null,G=null,$=i.length;const X=function(Oe,at){const Ot=$-Oe,Dt=$;$-=Oe;const Qt=u(Ot+1,Dt),Bn=i[Ot],jt=n?n(Bn):Bn;ye(new li(jt,Bn.node,at,null,Qt))},ye=function(Oe){M?(M.left=Oe,M=Oe):(G=Oe,M=Oe)};for(let Oe=0;Oe<S.count;++Oe){const at=S.nextBitIsOne(),Ot=Math.pow(2,S.count-(Oe+1));at?X(Ot,li.BLACK):(X(Ot,li.BLACK),X(Ot,li.RED))}return G}(new Ky(i.length));return new nr(o||r,D)};let Lp;const hc={};class na{constructor(r,n){this.indexes_=r,this.indexSet_=n}static get Default(){return(0,O.hu)(hc&&an,"ChildrenNode.ts has not been loaded"),Lp=Lp||new na({".priority":hc},{".priority":an}),Lp}get(r){const n=(0,O.DV)(this.indexes_,r);if(!n)throw new Error("No index defined for "+r);return n instanceof nr?n:null}hasIndex(r){return(0,O.r3)(this.indexSet_,r.toString())}addIndex(r,n){(0,O.hu)(r!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const h=n.getIterator(Nt.Wrap);let D,y=h.getNext();for(;y;)u=u||r.isDefinedOn(y.node),o.push(y),y=h.getNext();D=u?ih(o,r.getCompare()):hc;const S=r.toString(),M=Object.assign({},this.indexSet_);M[S]=r;const G=Object.assign({},this.indexes_);return G[S]=D,new na(G,M)}addToIndexes(r,n){const o=(0,O.UI)(this.indexes_,(u,h)=>{const y=(0,O.DV)(this.indexSet_,h);if((0,O.hu)(y,"Missing index implementation for "+h),u===hc){if(y.isDefinedOn(r.node)){const D=[],S=n.getIterator(Nt.Wrap);let M=S.getNext();for(;M;)M.name!==r.name&&D.push(M),M=S.getNext();return D.push(r),ih(D,y.getCompare())}return hc}{const D=n.get(r.name);let S=u;return D&&(S=S.remove(new Nt(r.name,D))),S.insert(r,r.node)}});return new na(o,this.indexSet_)}removeFromIndexes(r,n){const o=(0,O.UI)(this.indexes_,u=>{if(u===hc)return u;{const h=n.get(r.name);return h?u.remove(new Nt(r.name,h)):u}});return new na(o,this.indexSet_)}}let oo,dt=(()=>{class i{constructor(n,o,u){this.children_=n,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&pm(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return oo||(oo=new i(new nr(Op),null,na.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||oo}updatePriority(n){return this.children_.isEmpty()?this:new i(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const o=this.children_.get(n);return null===o?oo:o}}getChild(n){const o=St(n);return null===o?this:this.getImmediateChild(o).getChild(qt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,o){if((0,O.hu)(o,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(o);{const u=new Nt(n,o);let h,y;o.isEmpty()?(h=this.children_.remove(n),y=this.indexMap_.removeFromIndexes(u,this.children_)):(h=this.children_.insert(n,o),y=this.indexMap_.addToIndexes(u,this.children_));const D=h.isEmpty()?oo:this.priorityNode_;return new i(h,D,y)}}updateChild(n,o){const u=St(n);if(null===u)return o;{(0,O.hu)(".priority"!==St(n)||1===Xo(n),".priority must be the last token in a path");const h=this.getImmediateChild(u).updateChild(qt(n),o);return this.updateImmediateChild(u,h)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const o={};let u=0,h=0,y=!0;if(this.forEachChild(an,(D,S)=>{o[D]=S.val(n),u++,y&&i.INTEGER_REGEXP_.test(D)?h=Math.max(h,Number(D)):y=!1}),!n&&y&&h<2*u){const D=[];for(const S in o)D[S]=o[S];return D}return n&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+hm(this.getPriority().val())+":"),this.forEachChild(an,(o,u)=>{const h=u.hash();""!==h&&(n+=":"+o+":"+h)}),this.lazyHash_=""===n?"":ql(n)}return this.lazyHash_}getPredecessorChildName(n,o,u){const h=this.resolveIndex_(u);if(h){const y=h.getPredecessorKey(new Nt(n,o));return y?y.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const o=this.resolveIndex_(n);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(n){const o=this.getFirstChildName(n);return o?new Nt(o,this.children_.get(o)):null}getLastChildName(n){const o=this.resolveIndex_(n);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(n){const o=this.getLastChildName(n);return o?new Nt(o,this.children_.get(o)):null}forEachChild(n,o){const u=this.resolveIndex_(n);return u?u.inorderTraversal(h=>o(h.name,h.node)):this.children_.inorderTraversal(o)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(n,h=>h);{const h=this.children_.getIteratorFrom(n.name,Nt.Wrap);let y=h.peek();for(;null!=y&&o.compare(y,n)<0;)h.getNext(),y=h.peek();return h}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(n,h=>h);{const h=this.children_.getReverseIteratorFrom(n.name,Nt.Wrap);let y=h.peek();for(;null!=y&&o.compare(y,n)>0;)h.getNext(),y=h.peek();return h}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ld?-1:0}withIndex(n){if(n===ta||this.indexMap_.hasIndex(n))return this;{const o=this.indexMap_.addIndex(n,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(n){return n===ta||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const o=n;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(an),h=o.getIterator(an);let y=u.getNext(),D=h.getNext();for(;y&&D;){if(y.name!==D.name||!y.node.equals(D.node))return!1;y=u.getNext(),D=h.getNext()}return null===y&&null===D}return!1}return!1}}resolveIndex_(n){return n===ta?null:this.indexMap_.get(n.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Ld=new class Zy extends dt{constructor(){super(new nr(Op),dt.EMPTY_NODE,na.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return dt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Nt,{MIN:{value:new Nt(Ds,dt.EMPTY_NODE)},MAX:{value:new Nt(Fr,Ld)}}),Np.__EMPTY_NODE=dt.EMPTY_NODE,nu.__childrenNodeConstructor=dt,function Wy(i){th=i}(Ld),function xp(i){rh=i}(Ld);const vI=!0;function Mn(i,r=null){if(null===i)return dt.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(r=i[".priority"]),(0,O.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new nu(i,Mn(r));if(i instanceof Array||!vI){let n=dt.EMPTY_NODE;return Zn(i,(o,u)=>{if((0,O.r3)(i,o)&&"."!==o.substring(0,1)){const h=Mn(u);(h.isLeafNode()||!h.isEmpty())&&(n=n.updateImmediateChild(o,h))}}),n.updatePriority(Mn(r))}{const n=[];let o=!1;if(Zn(i,(y,D)=>{if("."!==y.substring(0,1)){const S=Mn(D);S.isEmpty()||(o=o||!S.getPriority().isEmpty(),n.push(new Nt(y,S)))}}),0===n.length)return dt.EMPTY_NODE;const h=ih(n,kd,y=>y.name,Op);if(o){const y=ih(n,an.getCompare());return new dt(h,Mn(r),new na({".priority":y},{".priority":an}))}return new dt(h,Mn(r),na.Default)}}!function Gy(i){nh=i}(Mn);class sh extends Od{constructor(r){super(),this.indexPath_=r,(0,O.hu)(!At(r)&&".priority"!==St(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,n){const o=this.extractChild(r.node),u=this.extractChild(n.node),h=o.compareTo(u);return 0===h?Cs(r.name,n.name):h}makePost(r,n){const o=Mn(r),u=dt.EMPTY_NODE.updateChild(this.indexPath_,o);return new Nt(n,u)}maxPost(){const r=dt.EMPTY_NODE.updateChild(this.indexPath_,Ld);return new Nt(Fr,r)}toString(){return Rd(this.indexPath_,0).join("/")}}const oh=new class EI extends Od{compare(r,n){const o=r.node.compareTo(n.node);return 0===o?Cs(r.name,n.name):o}isDefinedOn(r){return!0}indexedValueChanged(r,n){return!r.equals(n)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(r,n){const o=Mn(r);return new Nt(n,o)}toString(){return".value"}};function Fp(i){return{type:"value",snapshotNode:i}}function pc(i,r){return{type:"child_added",snapshotNode:r,childName:i}}function gc(i,r){return{type:"child_removed",snapshotNode:r,childName:i}}function Fd(i,r,n){return{type:"child_changed",snapshotNode:r,childName:i,oldSnap:n}}class Si{constructor(r){this.index_=r}updateChild(r,n,o,u,h,y){(0,O.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const D=r.getImmediateChild(n);return D.getChild(u).equals(o.getChild(u))&&D.isEmpty()===o.isEmpty()||(null!=y&&(o.isEmpty()?r.hasChild(n)?y.trackChildChange(gc(n,D)):(0,O.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):D.isEmpty()?y.trackChildChange(pc(n,o)):y.trackChildChange(Fd(n,o,D))),r.isLeafNode()&&o.isEmpty())?r:r.updateImmediateChild(n,o).withIndex(this.index_)}updateFullNode(r,n,o){return null!=o&&(r.isLeafNode()||r.forEachChild(an,(u,h)=>{n.hasChild(u)||o.trackChildChange(gc(u,h))}),n.isLeafNode()||n.forEachChild(an,(u,h)=>{if(r.hasChild(u)){const y=r.getImmediateChild(u);y.equals(h)||o.trackChildChange(Fd(u,h,y))}else o.trackChildChange(pc(u,h))})),n.withIndex(this.index_)}updatePriority(r,n){return r.isEmpty()?dt.EMPTY_NODE:r.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Bd{constructor(r){this.indexedFilter_=new Si(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Bd.getStartPost_(r),this.endPost_=Bd.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,o=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return n&&o}updateChild(r,n,o,u,h,y){return this.matches(new Nt(n,o))||(o=dt.EMPTY_NODE),this.indexedFilter_.updateChild(r,n,o,u,h,y)}updateFullNode(r,n,o){n.isLeafNode()&&(n=dt.EMPTY_NODE);let u=n.withIndex(this.index_);u=u.updatePriority(dt.EMPTY_NODE);const h=this;return n.forEachChild(an,(y,D)=>{h.matches(new Nt(y,D))||(u=u.updateImmediateChild(y,dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,u,o)}updatePriority(r,n){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const n=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),n)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const n=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),n)}return r.getIndex().maxPost()}}class gm{constructor(r){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=n=>{const o=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Bd(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,n,o,u,h,y){return this.rangedFilter_.matches(new Nt(n,o))||(o=dt.EMPTY_NODE),r.getImmediateChild(n).equals(o)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,n,o,u,h,y):this.fullLimitUpdateChild_(r,n,o,h,y)}updateFullNode(r,n,o){let u;if(n.isLeafNode()||n.isEmpty())u=dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let h;u=dt.EMPTY_NODE.withIndex(this.index_),h=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let y=0;for(;h.hasNext()&&y<this.limit_;){const D=h.getNext();if(this.withinDirectionalStart(D)){if(!this.withinDirectionalEnd(D))break;u=u.updateImmediateChild(D.name,D.node),y++}}}else{let h;u=n.withIndex(this.index_),u=u.updatePriority(dt.EMPTY_NODE),h=this.reverse_?u.getReverseIterator(this.index_):u.getIterator(this.index_);let y=0;for(;h.hasNext();){const D=h.getNext();y<this.limit_&&this.withinDirectionalStart(D)&&this.withinDirectionalEnd(D)?y++:u=u.updateImmediateChild(D.name,dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,u,o)}updatePriority(r,n){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,n,o,u,h){let y;if(this.reverse_){const $=this.index_.getCompare();y=(X,ye)=>$(ye,X)}else y=this.index_.getCompare();const D=r;(0,O.hu)(D.numChildren()===this.limit_,"");const S=new Nt(n,o),M=this.reverse_?D.getFirstChild(this.index_):D.getLastChild(this.index_),G=this.rangedFilter_.matches(S);if(D.hasChild(n)){const $=D.getImmediateChild(n);let X=u.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=X&&(X.name===n||D.hasChild(X.name));)X=u.getChildAfterChild(this.index_,X,this.reverse_);const ye=null==X?1:y(X,S);if(G&&!o.isEmpty()&&ye>=0)return h?.trackChildChange(Fd(n,o,$)),D.updateImmediateChild(n,o);{h?.trackChildChange(gc(n,$));const at=D.updateImmediateChild(n,dt.EMPTY_NODE);return null!=X&&this.rangedFilter_.matches(X)?(h?.trackChildChange(pc(X.name,X.node)),at.updateImmediateChild(X.name,X.node)):at}}return o.isEmpty()?r:G&&y(M,S)>=0?(null!=h&&(h.trackChildChange(gc(M.name,M.node)),h.trackChildChange(pc(n,o))),D.updateImmediateChild(n,o).updateImmediateChild(M.name,dt.EMPTY_NODE)):r}}class ah{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ds}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const r=new ah;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function lh(i,r,n){const o=i.copy();return o.startSet_=!0,void 0===r&&(r=null),o.indexStartValue_=r,null!=n?(o.startNameSet_=!0,o.indexStartName_=n):(o.startNameSet_=!1,o.indexStartName_=""),o}function Bp(i,r,n){const o=i.copy();return o.endSet_=!0,void 0===r&&(r=null),o.indexEndValue_=r,void 0!==n?(o.endNameSet_=!0,o.indexEndName_=n):(o.endNameSet_=!1,o.indexEndName_=""),o}function yt(i,r){const n=i.copy();return n.index_=r,n}function Up(i){const r={};if(i.isDefault())return r;let n;if(i.index_===an?n="$priority":i.index_===oh?n="$value":i.index_===ta?n="$key":((0,O.hu)(i.index_ instanceof sh,"Unrecognized index type!"),n=i.index_.toString()),r.orderBy=(0,O.Wl)(n),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";r[o]=(0,O.Wl)(i.indexStartValue_),i.startNameSet_&&(r[o]+=","+(0,O.Wl)(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";r[o]=(0,O.Wl)(i.indexEndValue_),i.endNameSet_&&(r[o]+=","+(0,O.Wl)(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?r.limitToFirst=i.limit_:r.limitToLast=i.limit_),r}function Vp(i){const r={};if(i.startSet_&&(r.sp=i.indexStartValue_,i.startNameSet_&&(r.sn=i.indexStartName_),r.sin=!i.startAfterSet_),i.endSet_&&(r.ep=i.indexEndValue_,i.endNameSet_&&(r.en=i.indexEndName_),r.ein=!i.endBeforeSet_),i.limitSet_){r.l=i.limit_;let n=i.viewFrom_;""===n&&(n=i.isViewFromLeft()?"l":"r"),r.vf=n}return i.index_!==an&&(r.i=i.index_.toString()),r}class Ud extends dc{constructor(r,n,o,u){super(),this.repoInfo_=r,this.onDataUpdate_=n,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=qo("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,n){return void 0!==n?"tag$"+n:((0,O.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,n,o,u){const h=r._path.toString();this.log_("Listen called for "+h+" "+r._queryIdentifier);const y=Ud.getListenId_(r,o),D={};this.listens_[y]=D;const S=Up(r._queryParams);this.restRequest_(h+".json",S,(M,G)=>{let $=G;if(404===M&&($=null,M=null),null===M&&this.onDataUpdate_(h,$,!1,o),(0,O.DV)(this.listens_,y)===D){let X;X=M?401===M?"permission_denied":"rest_error:"+M:"ok",u(X,null)}})}unlisten(r,n){const o=Ud.getListenId_(r,n);delete this.listens_[o]}get(r){const n=Up(r._queryParams),o=r._path.toString(),u=new O.BH;return this.restRequest_(o+".json",n,(h,y)=>{let D=y;404===h&&(D=null,h=null),null===h?(this.onDataUpdate_(o,D,!1,null),u.resolve(D)):u.reject(new Error(D))}),u.promise}refreshAuthToken(r){}restRequest_(r,n={},o){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,h])=>{u&&u.accessToken&&(n.auth=u.accessToken),h&&h.token&&(n.ac=h.token);const y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,O.xO)(n);this.log_("Sending REST request for "+y);const D=new XMLHttpRequest;D.onreadystatechange=()=>{if(o&&4===D.readyState){this.log_("REST Response for "+y+" received. status:",D.status,"response:",D.responseText);let S=null;if(D.status>=200&&D.status<300){try{S=(0,O.cI)(D.responseText)}catch{Kn("Failed to parse JSON response for "+y+": "+D.responseText)}o(null,S)}else 401!==D.status&&404!==D.status&&Kn("Got unsuccessful REST response for "+y+" Status: "+D.status),o(D.status);o=null}},D.open("GET",y,!0),D.send()})}}class tv{constructor(){this.rootNode_=dt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,n){this.rootNode_=this.rootNode_.updateChild(r,n)}}function uh(){return{value:null,children:new Map}}function ru(i,r,n){if(At(r))i.value=n,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(r,n);else{const o=St(r);i.children.has(o)||i.children.set(o,uh()),ru(i.children.get(o),r=qt(r),n)}}function Hp(i,r){if(At(r))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const n=i.value;return i.value=null,n.forEachChild(an,(o,u)=>{ru(i,new Kt(o),u)}),Hp(i,r)}}if(i.children.size>0){const n=St(r);return r=qt(r),i.children.has(n)&&Hp(i.children.get(n),r)&&i.children.delete(n),0===i.children.size}return!0}function ch(i,r,n){null!==i.value?n(r,i.value):function nv(i,r){i.children.forEach((n,o)=>{r(o,n)})}(i,(o,u)=>{ch(u,new Kt(r.toString()+"/"+o),n)})}class rv{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),n=Object.assign({},r);return this.last_&&Zn(this.last_,(o,u)=>{n[o]=n[o]-u}),this.last_=r,n}}class iu{constructor(r,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rv(r);const o=1e4+2e4*Math.random();Qo(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const r=this.statsListener_.get(),n={};let o=!1;Zn(r,(u,h)=>{h>0&&(0,O.r3)(this.statsToReport_,u)&&(n[u]=h,o=!0)}),o&&this.server_.reportStats(n),Qo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Gi=(()=>{return(i=Gi||(Gi={}))[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Gi;var i})();function jp(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class $p{constructor(r,n,o){this.path=r,this.affectedTree=n,this.revert=o,this.type=Gi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(At(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Kt(r));return new $p(Ht(),n,this.revert)}}return(0,O.hu)(St(this.path)===r,"operationForChild called for unrelated child."),new $p(qt(this.path),this.affectedTree,this.revert)}}class dh{constructor(r,n){this.source=r,this.path=n,this.type=Gi.LISTEN_COMPLETE}operationForChild(r){return At(this.path)?new dh(this.source,Ht()):new dh(this.source,qt(this.path))}}class mc{constructor(r,n,o){this.source=r,this.path=n,this.snap=o,this.type=Gi.OVERWRITE}operationForChild(r){return At(this.path)?new mc(this.source,Ht(),this.snap.getImmediateChild(r)):new mc(this.source,qt(this.path),this.snap)}}class _c{constructor(r,n,o){this.source=r,this.path=n,this.children=o,this.type=Gi.MERGE}operationForChild(r){if(At(this.path)){const n=this.children.subtree(new Kt(r));return n.isEmpty()?null:n.value?new mc(this.source,Ht(),n.value):new _c(this.source,Ht(),n)}return(0,O.hu)(St(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new _c(this.source,qt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ra{constructor(r,n,o){this.node_=r,this.fullyInitialized_=n,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(At(r))return this.isFullyInitialized()&&!this.filtered_;const n=St(r);return this.isCompleteForChild(n)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class II{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function ao(i,r,n,o,u,h){const y=o.filter(D=>D.type===n);y.sort((D,S)=>function ym(i,r,n){if(null==r.childName||null==n.childName)throw(0,O.g5)("Should only compare child_ events.");const o=new Nt(r.childName,r.snapshotNode),u=new Nt(n.childName,n.snapshotNode);return i.index_.compare(o,u)}(i,D,S)),y.forEach(D=>{const S=function ov(i,r,n){return"value"===r.type||"child_removed"===r.type||(r.prevName=n.getPredecessorChildName(r.childName,r.snapshotNode,i.index_)),r}(i,D,h);u.forEach(M=>{M.respondsTo(D.type)&&r.push(M.createEvent(S,i.query_))})})}function su(i,r){return{eventCache:i,serverCache:r}}function jd(i,r,n,o){return su(new ra(r,n,o),i.serverCache)}function Wp(i,r,n,o){return su(i.eventCache,new ra(r,n,o))}function fh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ou(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Gp;class ln{constructor(r,n=(()=>(Gp||(Gp=new nr(vd)),Gp))()){this.value=r,this.children=n}static fromObject(r){let n=new ln(null);return Zn(r,(o,u)=>{n=n.set(new Kt(o),u)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,n){if(null!=this.value&&n(this.value))return{path:Ht(),value:this.value};if(At(r))return null;{const o=St(r),u=this.children.get(o);if(null!==u){const h=u.findRootMostMatchingPathAndValue(qt(r),n);return null!=h?{path:hn(new Kt(o),h.path),value:h.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(At(r))return this;{const n=St(r),o=this.children.get(n);return null!==o?o.subtree(qt(r)):new ln(null)}}set(r,n){if(At(r))return new ln(n,this.children);{const o=St(r),h=(this.children.get(o)||new ln(null)).set(qt(r),n),y=this.children.insert(o,h);return new ln(this.value,y)}}remove(r){if(At(r))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const n=St(r),o=this.children.get(n);if(o){const u=o.remove(qt(r));let h;return h=u.isEmpty()?this.children.remove(n):this.children.insert(n,u),null===this.value&&h.isEmpty()?new ln(null):new ln(this.value,h)}return this}}get(r){if(At(r))return this.value;{const n=St(r),o=this.children.get(n);return o?o.get(qt(r)):null}}setTree(r,n){if(At(r))return n;{const o=St(r),h=(this.children.get(o)||new ln(null)).setTree(qt(r),n);let y;return y=h.isEmpty()?this.children.remove(o):this.children.insert(o,h),new ln(this.value,y)}}fold(r){return this.fold_(Ht(),r)}fold_(r,n){const o={};return this.children.inorderTraversal((u,h)=>{o[u]=h.fold_(hn(r,u),n)}),n(r,this.value,o)}findOnPath(r,n){return this.findOnPath_(r,Ht(),n)}findOnPath_(r,n,o){const u=!!this.value&&o(n,this.value);if(u)return u;if(At(r))return null;{const h=St(r),y=this.children.get(h);return y?y.findOnPath_(qt(r),hn(n,h),o):null}}foreachOnPath(r,n){return this.foreachOnPath_(r,Ht(),n)}foreachOnPath_(r,n,o){if(At(r))return this;{this.value&&o(n,this.value);const u=St(r),h=this.children.get(u);return h?h.foreachOnPath_(qt(r),hn(n,u),o):new ln(null)}}foreach(r){this.foreach_(Ht(),r)}foreach_(r,n){this.children.inorderTraversal((o,u)=>{u.foreach_(hn(r,o),n)}),this.value&&n(r,this.value)}foreachChild(r){this.children.inorderTraversal((n,o)=>{o.value&&r(n,o.value)})}}class zi{constructor(r){this.writeTree_=r}static empty(){return new zi(new ln(null))}}function $d(i,r,n){if(At(r))return new zi(new ln(n));{const o=i.writeTree_.findRootMostValueAndPath(r);if(null!=o){const u=o.path;let h=o.value;const y=Ln(u,r);return h=h.updateChild(y,n),new zi(i.writeTree_.set(u,h))}{const u=new ln(n),h=i.writeTree_.setTree(r,u);return new zi(h)}}}function hh(i,r,n){let o=i;return Zn(n,(u,h)=>{o=$d(o,hn(r,u),h)}),o}function zp(i,r){if(At(r))return zi.empty();{const n=i.writeTree_.setTree(r,new ln(null));return new zi(n)}}function Wd(i,r){return null!=yc(i,r)}function yc(i,r){const n=i.writeTree_.findRootMostValueAndPath(r);return null!=n?i.writeTree_.get(n.path).getChild(Ln(n.path,r)):null}function ph(i){const r=[],n=i.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(an,(o,u)=>{r.push(new Nt(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&r.push(new Nt(o,u.value))}),r}function ol(i,r){if(At(r))return i;{const n=yc(i,r);return new zi(null!=n?new ln(n):i.writeTree_.subtree(r))}}function vm(i){return i.writeTree_.isEmpty()}function As(i,r){return Em(Ht(),i.writeTree_,r)}function Em(i,r,n){if(null!=r.value)return n.updateChild(i,r.value);{let o=null;return r.children.inorderTraversal((u,h)=>{".priority"===u?((0,O.hu)(null!==h.value,"Priority writes must always be leaf nodes"),o=h.value):n=Em(hn(i,u),h,n)}),!n.getChild(i).isEmpty()&&null!==o&&(n=n.updateChild(hn(i,".priority"),o)),n}}function gh(i,r){return Tm(r,i)}function vc(i,r){if(i.snap)return Kr(i.path,r);for(const n in i.children)if(i.children.hasOwnProperty(n)&&Kr(hn(i.path,n),r))return!0;return!1}function Gd(i){return i.visible}function _h(i,r,n){let o=zi.empty();for(let u=0;u<i.length;++u){const h=i[u];if(r(h)){const y=h.path;let D;if(h.snap)Kr(n,y)?(D=Ln(n,y),o=$d(o,D,h.snap)):Kr(y,n)&&(D=Ln(y,n),o=$d(o,Ht(),h.snap.getChild(D)));else{if(!h.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(Kr(n,y))D=Ln(n,y),o=hh(o,D,h.children);else if(Kr(y,n))if(D=Ln(y,n),At(D))o=hh(o,Ht(),h.children);else{const S=(0,O.DV)(h.children,St(D));if(S){const M=S.getChild(qt(D));o=$d(o,Ht(),M)}}}}}return o}function zd(i,r,n,o,u){if(o||u){const h=ol(i.visibleWrites,r);return!u&&vm(h)?n:u||null!=n||Wd(h,Ht())?As(_h(i.allWrites,function(M){return(M.visible||u)&&(!o||!~o.indexOf(M.writeId))&&(Kr(M.path,r)||Kr(r,M.path))},r),n||dt.EMPTY_NODE):null}{const h=yc(i.visibleWrites,r);if(null!=h)return h;{const y=ol(i.visibleWrites,r);return vm(y)?n:null!=n||Wd(y,Ht())?As(y,n||dt.EMPTY_NODE):null}}}function yh(i,r,n,o){return zd(i.writeTree,i.treePath,r,n,o)}function Jp(i,r){return function wm(i,r,n){let o=dt.EMPTY_NODE;const u=yc(i.visibleWrites,r);if(u)return u.isLeafNode()||u.forEachChild(an,(h,y)=>{o=o.updateImmediateChild(h,y)}),o;if(n){const h=ol(i.visibleWrites,r);return n.forEachChild(an,(y,D)=>{const S=As(ol(h,new Kt(y)),D);o=o.updateImmediateChild(y,S)}),ph(h).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}return ph(ol(i.visibleWrites,r)).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}(i.writeTree,i.treePath,r)}function Xp(i,r,n,o){return function Zp(i,r,n,o,u){(0,O.hu)(o||u,"Either existingEventSnap or existingServerSnap must exist");const h=hn(r,n);if(Wd(i.visibleWrites,h))return null;{const y=ol(i.visibleWrites,h);return vm(y)?u.getChild(n):As(y,u.getChild(n))}}(i.writeTree,i.treePath,r,n,o)}function vh(i,r){return function qp(i,r){return yc(i.visibleWrites,r)}(i.writeTree,hn(i.treePath,r))}function Eh(i,r,n){return function Yp(i,r,n,o){const u=hn(r,n),h=yc(i.visibleWrites,u);return null!=h?h:o.isCompleteForChild(n)?As(ol(i.visibleWrites,u),o.getNode().getImmediateChild(n)):null}(i.writeTree,i.treePath,r,n)}function bm(i,r){return Tm(hn(i.treePath,r),i.writeTree)}function Tm(i,r){return{treePath:i,writeTree:r}}class Ai{constructor(){this.changeMap=new Map}trackChildChange(r){const n=r.type,o=r.childName;(0,O.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const h=u.type;if("child_added"===n&&"child_removed"===h)this.changeMap.set(o,Fd(o,r.snapshotNode,u.snapshotNode));else if("child_removed"===n&&"child_added"===h)this.changeMap.delete(o);else if("child_removed"===n&&"child_changed"===h)this.changeMap.set(o,gc(o,u.oldSnap));else if("child_changed"===n&&"child_added"===h)this.changeMap.set(o,pc(o,r.snapshotNode));else{if("child_changed"!==n||"child_changed"!==h)throw(0,O.g5)("Illegal combination of changes: "+r+" occurred after "+u);this.changeMap.set(o,Fd(o,r.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,r)}getChanges(){return Array.from(this.changeMap.values())}}const Sm=new class cv{getCompleteChild(r){return null}getChildAfterChild(r,n,o){return null}};class Am{constructor(r,n,o=null){this.writes_=r,this.viewCache_=n,this.optCompleteServerCache_=o}getCompleteChild(r){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(r))return n.getNode().getImmediateChild(r);{const o=null!=this.optCompleteServerCache_?new ra(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Eh(this.writes_,r,o)}}getChildAfterChild(r,n,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ou(this.viewCache_),h=function Cm(i,r,n,o,u,h){return function Dm(i,r,n,o,u,h,y){let D;const S=ol(i.visibleWrites,r),M=yc(S,Ht());if(null!=M)D=M;else{if(null==n)return[];D=As(S,n)}if(D=D.withIndex(y),D.isEmpty()||D.isLeafNode())return[];{const G=[],$=y.getCompare(),X=h?D.getReverseIteratorFrom(o,y):D.getIteratorFrom(o,y);let ye=X.getNext();for(;ye&&G.length<u;)0!==$(ye,o)&&G.push(ye),ye=X.getNext();return G}}(i.writeTree,i.treePath,r,n,o,u,h)}(this.writes_,u,n,1,o,r);return 0===h.length?null:h[0]}}function Pm(i,r,n,o,u,h){const y=r.eventCache;if(null!=vh(o,n))return r;{let D,S;if(At(n))if((0,O.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const M=ou(r),$=Jp(o,M instanceof dt?M:dt.EMPTY_NODE);D=i.filter.updateFullNode(r.eventCache.getNode(),$,h)}else{const M=yh(o,ou(r));D=i.filter.updateFullNode(r.eventCache.getNode(),M,h)}else{const M=St(n);if(".priority"===M){(0,O.hu)(1===Xo(n),"Can't have a priority with additional path components");const G=y.getNode();S=r.serverCache.getNode();const $=Xp(o,n,G,S);D=null!=$?i.filter.updatePriority(G,$):y.getNode()}else{const G=qt(n);let $;if(y.isCompleteForChild(M)){S=r.serverCache.getNode();const X=Xp(o,n,y.getNode(),S);$=null!=X?y.getNode().getImmediateChild(M).updateChild(G,X):y.getNode().getImmediateChild(M)}else $=Eh(o,M,r.serverCache);D=null!=$?i.filter.updateChild(y.getNode(),M,$,G,u,h):y.getNode()}}return jd(r,D,y.isFullyInitialized()||At(n),i.filter.filtersNodes())}}function Kd(i,r,n,o,u,h,y,D){const S=r.serverCache;let M;const G=y?i.filter:i.filter.getIndexedFilter();if(At(n))M=G.updateFullNode(S.getNode(),o,null);else if(G.filtersNodes()&&!S.isFiltered()){const ye=S.getNode().updateChild(n,o);M=G.updateFullNode(S.getNode(),ye,null)}else{const ye=St(n);if(!S.isCompleteForPath(n)&&Xo(n)>1)return r;const Oe=qt(n),Ot=S.getNode().getImmediateChild(ye).updateChild(Oe,o);M=".priority"===ye?G.updatePriority(S.getNode(),Ot):G.updateChild(S.getNode(),ye,Ot,Oe,Sm,null)}const $=Wp(r,M,S.isFullyInitialized()||At(n),G.filtersNodes());return Pm(i,$,n,u,new Am(u,$,h),D)}function tg(i,r,n,o,u,h,y){const D=r.eventCache;let S,M;const G=new Am(u,r,h);if(At(n))M=i.filter.updateFullNode(r.eventCache.getNode(),o,y),S=jd(r,M,!0,i.filter.filtersNodes());else{const $=St(n);if(".priority"===$)M=i.filter.updatePriority(r.eventCache.getNode(),o),S=jd(r,M,D.isFullyInitialized(),D.isFiltered());else{const X=qt(n),ye=D.getNode().getImmediateChild($);let Oe;if(At(X))Oe=o;else{const at=G.getCompleteChild($);Oe=null!=at?".priority"===dm(X)&&at.getChild(Qf(X)).isEmpty()?at:at.updateChild(X,o):dt.EMPTY_NODE}S=ye.equals(Oe)?r:jd(r,i.filter.updateChild(D.getNode(),$,Oe,X,G,y),D.isFullyInitialized(),i.filter.filtersNodes())}}return S}function Mm(i,r){return i.eventCache.isCompleteForChild(r)}function Nm(i,r,n){return n.foreach((o,u)=>{r=r.updateChild(o,u)}),r}function rg(i,r,n,o,u,h,y,D){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let M,S=r;M=At(n)?o:new ln(null).setTree(n,o);const G=r.serverCache.getNode();return M.children.inorderTraversal(($,X)=>{if(G.hasChild($)){const Oe=Nm(0,r.serverCache.getNode().getImmediateChild($),X);S=Kd(i,S,new Kt($),Oe,u,h,y,D)}}),M.children.inorderTraversal(($,X)=>{const ye=!r.serverCache.isCompleteForChild($)&&null===X.value;if(!G.hasChild($)&&!ye){const at=Nm(0,r.serverCache.getNode().getImmediateChild($),X);S=Kd(i,S,new Kt($),at,u,h,y,D)}}),S}class lo{constructor(r,n){this.query_=r,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Si(o.getIndex()),h=function qy(i){return i.loadsAllData()?new Si(i.getIndex()):i.hasLimit()?new gm(i):new Bd(i)}(o);this.processor_=function eg(i){return{filter:i}}(h);const y=n.serverCache,D=n.eventCache,S=u.updateFullNode(dt.EMPTY_NODE,y.getNode(),null),M=h.updateFullNode(dt.EMPTY_NODE,D.getNode(),null),G=new ra(S,y.isFullyInitialized(),u.filtersNodes()),$=new ra(M,D.isFullyInitialized(),h.filtersNodes());this.viewCache_=su($,G),this.eventGenerator_=new II(this.query_)}get query(){return this.query_}}function _v(i,r){const n=ou(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!At(r)&&!n.getImmediateChild(St(r)).isEmpty())?n.getChild(r):null}function sg(i){return 0===i.eventRegistrations_.length}function Om(i,r,n){const o=[];if(n){(0,O.hu)(null==r,"A cancel should cancel all event registrations.");const u=i.query._path;i.eventRegistrations_.forEach(h=>{const y=h.createCancelEvent(n,u);y&&o.push(y)})}if(r){let u=[];for(let h=0;h<i.eventRegistrations_.length;++h){const y=i.eventRegistrations_[h];if(y.matches(r)){if(r.hasAnyCallback()){u=u.concat(i.eventRegistrations_.slice(h+1));break}}else u.push(y)}i.eventRegistrations_=u}else i.eventRegistrations_=[];return o}function km(i,r,n,o){r.type===Gi.MERGE&&null!==r.source.queryId&&((0,O.hu)(ou(i.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(fh(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,h=function dv(i,r,n,o,u){const h=new Ai;let y,D;if(n.type===Gi.OVERWRITE){const M=n;M.source.fromUser?y=tg(i,r,M.path,M.snap,o,u,h):((0,O.hu)(M.source.fromServer,"Unknown source."),D=M.source.tagged||r.serverCache.isFiltered()&&!At(M.path),y=Kd(i,r,M.path,M.snap,o,u,D,h))}else if(n.type===Gi.MERGE){const M=n;M.source.fromUser?y=function ng(i,r,n,o,u,h,y){let D=r;return o.foreach((S,M)=>{const G=hn(n,S);Mm(r,St(G))&&(D=tg(i,D,G,M,u,h,y))}),o.foreach((S,M)=>{const G=hn(n,S);Mm(r,St(G))||(D=tg(i,D,G,M,u,h,y))}),D}(i,r,M.path,M.children,o,u,h):((0,O.hu)(M.source.fromServer,"Unknown source."),D=M.source.tagged||r.serverCache.isFiltered(),y=rg(i,r,M.path,M.children,o,u,D,h))}else if(n.type===Gi.ACK_USER_WRITE){const M=n;y=M.revert?function gv(i,r,n,o,u,h){let y;if(null!=vh(o,n))return r;{const D=new Am(o,r,u),S=r.eventCache.getNode();let M;if(At(n)||".priority"===St(n)){let G;if(r.serverCache.isFullyInitialized())G=yh(o,ou(r));else{const $=r.serverCache.getNode();(0,O.hu)($ instanceof dt,"serverChildren would be complete if leaf node"),G=Jp(o,$)}M=i.filter.updateFullNode(S,G,h)}else{const G=St(n);let $=Eh(o,G,r.serverCache);null==$&&r.serverCache.isCompleteForChild(G)&&($=S.getImmediateChild(G)),M=null!=$?i.filter.updateChild(S,G,$,qt(n),D,h):r.eventCache.getNode().hasChild(G)?i.filter.updateChild(S,G,dt.EMPTY_NODE,qt(n),D,h):S,M.isEmpty()&&r.serverCache.isFullyInitialized()&&(y=yh(o,ou(r)),y.isLeafNode()&&(M=i.filter.updateFullNode(M,y,h)))}return y=r.serverCache.isFullyInitialized()||null!=vh(o,Ht()),jd(r,M,y,i.filter.filtersNodes())}}(i,r,M.path,o,u,h):function hv(i,r,n,o,u,h,y){if(null!=vh(u,n))return r;const D=r.serverCache.isFiltered(),S=r.serverCache;if(null!=o.value){if(At(n)&&S.isFullyInitialized()||S.isCompleteForPath(n))return Kd(i,r,n,S.getNode().getChild(n),u,h,D,y);if(At(n)){let M=new ln(null);return S.getNode().forEachChild(ta,(G,$)=>{M=M.set(new Kt(G),$)}),rg(i,r,n,M,u,h,D,y)}return r}{let M=new ln(null);return o.foreach((G,$)=>{const X=hn(n,G);S.isCompleteForPath(X)&&(M=M.set(G,S.getNode().getChild(X)))}),rg(i,r,n,M,u,h,D,y)}}(i,r,M.path,M.affectedTree,o,u,h)}else{if(n.type!==Gi.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+n.type);y=function pv(i,r,n,o,u){const h=r.serverCache;return Pm(i,Wp(r,h.getNode(),h.isFullyInitialized()||At(n),h.isFiltered()),n,o,Sm,u)}(i,r,n.path,o,h)}const S=h.getChanges();return function fv(i,r,n){const o=r.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),h=fh(i);(n.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(h)||!o.getNode().getPriority().equals(h.getPriority()))&&n.push(Fp(fh(r)))}}(r,y,S),{viewCache:y,changes:S}}(i.processor_,u,r,n,o);return function Rm(i,r){(0,O.hu)(r.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(r.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,h.viewCache),(0,O.hu)(h.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=h.viewCache,xm(i,h.changes,h.viewCache.eventCache.getNode(),null)}function xm(i,r,n,o){return function sv(i,r,n,o){const u=[],h=[];return r.forEach(y=>{"child_changed"===y.type&&i.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&h.push(function Yy(i,r){return{type:"child_moved",snapshotNode:r,childName:i}}(y.childName,y.snapshotNode))}),ao(i,u,"child_removed",r,o,n),ao(i,u,"child_added",r,o,n),ao(i,u,"child_moved",h,o,n),ao(i,u,"child_changed",r,o,n),ao(i,u,"value",r,o,n),u}(i.eventGenerator_,r,n,o?[o]:i.eventRegistrations_)}let Ih,al;class Zd{constructor(){this.views=new Map}}function Yd(i,r,n,o){const u=r.source.queryId;if(null!==u){const h=i.views.get(u);return(0,O.hu)(null!=h,"SyncTree gave us an op for an invalid query."),km(h,r,n,o)}{let h=[];for(const y of i.views.values())h=h.concat(km(y,r,n,o));return h}}function vv(i,r,n,o,u){const y=i.views.get(r._queryIdentifier);if(!y){let D=yh(n,u?o:null),S=!1;D?S=!0:o instanceof dt?(D=Jp(n,o),S=!1):(D=dt.EMPTY_NODE,S=!1);const M=su(new ra(D,S,!1),new ra(o,u,!1));return new lo(r,M)}return y}function ag(i){const r=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||r.push(n);return r}function ia(i,r){let n=null;for(const o of i.views.values())n=n||_v(o,r);return n}function Ch(i,r){return r._queryParams.loadsAllData()?au(i):i.views.get(r._queryIdentifier)}function uo(i,r){return null!=Ch(i,r)}function Rs(i){return null!=au(i)}function au(i){for(const r of i.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Um=1;class Vm{constructor(r){this.listenProvider_=r,this.syncPointTree_=new ln(null),this.pendingWriteTree_=function Qp(){return{visibleWrites:zi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lg(i,r,n,o,u){return function Im(i,r,n,o,u){(0,O.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),i.allWrites.push({path:r,snap:n,writeId:o,visible:u}),u&&(i.visibleWrites=$d(i.visibleWrites,r,n)),i.lastWriteId=o}(i.pendingWriteTree_,r,n,o,u),u?Ec(i,new mc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,n)):[]}function ll(i,r,n=!1){const o=function uv(i,r){for(let n=0;n<i.allWrites.length;n++){const o=i.allWrites[n];if(o.writeId===r)return o}return null}(i.pendingWriteTree_,r);if(function mh(i,r){const n=i.allWrites.findIndex(D=>D.writeId===r);(0,O.hu)(n>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[n];i.allWrites.splice(n,1);let u=o.visible,h=!1,y=i.allWrites.length-1;for(;u&&y>=0;){const D=i.allWrites[y];D.visible&&(y>=n&&vc(D,o.path)?u=!1:Kr(o.path,D.path)&&(h=!0)),y--}return!!u&&(h?(function Kp(i){i.visibleWrites=_h(i.allWrites,Gd,Ht()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=zp(i.visibleWrites,o.path):Zn(o.children,S=>{i.visibleWrites=zp(i.visibleWrites,hn(o.path,S))}),!0))}(i.pendingWriteTree_,r)){let h=new ln(null);return null!=o.snap?h=h.set(Ht(),!0):Zn(o.children,y=>{h=h.set(new Kt(y),!0)}),Ec(i,new $p(o.path,h,n))}return[]}function bh(i,r,n){return Ec(i,new mc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,n))}function Th(i,r,n,o,u=!1){const h=r._path,y=i.syncPointTree_.get(h);let D=[];if(y&&("default"===r._queryIdentifier||uo(y,r))){const S=function Fm(i,r,n,o){const u=r._queryIdentifier,h=[];let y=[];const D=Rs(i);if("default"===u)for(const[S,M]of i.views.entries())y=y.concat(Om(M,n,o)),sg(M)&&(i.views.delete(S),M.query._queryParams.loadsAllData()||h.push(M.query));else{const S=i.views.get(u);S&&(y=y.concat(Om(S,n,o)),sg(S)&&(i.views.delete(u),S.query._queryParams.loadsAllData()||h.push(S.query)))}return D&&!Rs(i)&&h.push(new(function Dh(){return(0,O.hu)(Ih,"Reference.ts has not been loaded"),Ih}())(r._repo,r._path)),{removed:h,events:y}}(y,r,n,o);(function wI(i){return 0===i.views.size})(y)&&(i.syncPointTree_=i.syncPointTree_.remove(h));const M=S.removed;if(D=S.events,!u){const G=-1!==M.findIndex(X=>X._queryParams.loadsAllData()),$=i.syncPointTree_.findOnPath(h,(X,ye)=>Rs(ye));if(G&&!$){const X=i.syncPointTree_.subtree(h);if(!X.isEmpty()){const ye=function Gm(i){return i.fold((r,n,o)=>{if(n&&Rs(n))return[au(n)];{let u=[];return n&&(u=ag(n)),Zn(o,(h,y)=>{u=u.concat(y)}),u}})}(X);for(let Oe=0;Oe<ye.length;++Oe){const at=ye[Oe],Ot=at.query,Dt=Wm(i,at);i.listenProvider_.startListening(Ic(Ot),Jd(i,Ot),Dt.hashFn,Dt.onComplete)}}}!$&&M.length>0&&!o&&(G?i.listenProvider_.stopListening(Ic(r),null):M.forEach(X=>{const ye=i.queryToTagMap.get(Ah(X));i.listenProvider_.stopListening(Ic(X),ye)}))}!function bv(i,r){for(let n=0;n<r.length;++n){const o=r[n];if(!o._queryParams.loadsAllData()){const u=Ah(o),h=i.queryToTagMap.get(u);i.queryToTagMap.delete(u),i.tagToQueryMap.delete(h)}}}(i,M)}return D}function Hm(i,r,n,o){const u=cg(i,o);if(null!=u){const h=dg(u),y=h.path,D=h.queryId,S=Ln(y,r);return fg(i,y,new mc(jp(D),S,n))}return[]}function ug(i,r,n,o=!1){const u=r._path;let h=null,y=!1;i.syncPointTree_.foreachOnPath(u,(X,ye)=>{const Oe=Ln(X,u);h=h||ia(ye,Oe),y=y||Rs(ye)});let S,D=i.syncPointTree_.get(u);D?(y=y||Rs(D),h=h||ia(D,Ht())):(D=new Zd,i.syncPointTree_=i.syncPointTree_.set(u,D)),null!=h?S=!0:(S=!1,h=dt.EMPTY_NODE,i.syncPointTree_.subtree(u).foreachChild((ye,Oe)=>{const at=ia(Oe,Ht());at&&(h=h.updateImmediateChild(ye,at))}));const M=uo(D,r);if(!M&&!r._queryParams.loadsAllData()){const X=Ah(r);(0,O.hu)(!i.queryToTagMap.has(X),"View does not exist, but we have a tag");const ye=function DI(){return Um++}();i.queryToTagMap.set(X,ye),i.tagToQueryMap.set(ye,X)}let $=function Lm(i,r,n,o,u,h){const y=vv(i,r,o,u,h);return i.views.has(r._queryIdentifier)||i.views.set(r._queryIdentifier,y),function yv(i,r){i.eventRegistrations_.push(r)}(y,n),function og(i,r){const n=i.viewCache_.eventCache,o=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(an,(h,y)=>{o.push(pc(h,y))}),n.isFullyInitialized()&&o.push(Fp(n.getNode())),xm(i,o,n.getNode(),r)}(y,n)}(D,r,n,gh(i.pendingWriteTree_,u),h,S);if(!M&&!y&&!o){const X=Ch(D,r);$=$.concat(function zm(i,r,n){const o=r._path,u=Jd(i,r),h=Wm(i,n),y=i.listenProvider_.startListening(Ic(r),u,h.hashFn,h.onComplete),D=i.syncPointTree_.subtree(o);if(u)(0,O.hu)(!Rs(D.value),"If we're adding a query, it shouldn't be shadowed");else{const S=D.fold((M,G,$)=>{if(!At(M)&&G&&Rs(G))return[au(G).query];{let X=[];return G&&(X=X.concat(ag(G).map(ye=>ye.query))),Zn($,(ye,Oe)=>{X=X.concat(Oe)}),X}});for(let M=0;M<S.length;++M){const G=S[M];i.listenProvider_.stopListening(Ic(G),Jd(i,G))}}return y}(i,r,X))}return $}function Qd(i,r,n){const u=i.pendingWriteTree_,h=i.syncPointTree_.findOnPath(r,(y,D)=>{const M=ia(D,Ln(y,r));if(M)return M});return zd(u,r,h,n,!0)}function Ec(i,r){return Sh(r,i.syncPointTree_,null,gh(i.pendingWriteTree_,Ht()))}function Sh(i,r,n,o){if(At(i.path))return $m(i,r,n,o);{const u=r.get(Ht());null==n&&null!=u&&(n=ia(u,Ht()));let h=[];const y=St(i.path),D=i.operationForChild(y),S=r.children.get(y);if(S&&D){const M=n?n.getImmediateChild(y):null,G=bm(o,y);h=h.concat(Sh(D,S,M,G))}return u&&(h=h.concat(Yd(u,i,o,n))),h}}function $m(i,r,n,o){const u=r.get(Ht());null==n&&null!=u&&(n=ia(u,Ht()));let h=[];return r.children.inorderTraversal((y,D)=>{const S=n?n.getImmediateChild(y):null,M=bm(o,y),G=i.operationForChild(y);G&&(h=h.concat($m(G,D,S,M)))}),u&&(h=h.concat(Yd(u,i,o,n))),h}function Wm(i,r){const n=r.query,o=Jd(i,n);return{hashFn:()=>(function ig(i){return i.viewCache_.serverCache.getNode()}(r)||dt.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function Dv(i,r,n){const o=cg(i,n);if(o){const u=dg(o),h=u.path,y=u.queryId,D=Ln(h,r);return fg(i,h,new dh(jp(y),D))}return[]}(i,n._path,o):function wv(i,r){return Ec(i,new dh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(i,n._path);{const h=function Lf(i,r){let n="Unknown Error";"too_big"===i?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?n="Client doesn't have permission to access the desired data.":"unavailable"===i&&(n="The service is unavailable");const o=new Error(i+" at "+r._path.toString()+": "+n);return o.code=i.toUpperCase(),o}(u,n);return Th(i,n,null,h)}}}}function Jd(i,r){const n=Ah(r);return i.queryToTagMap.get(n)}function Ah(i){return i._path.toString()+"$"+i._queryIdentifier}function cg(i,r){return i.tagToQueryMap.get(r)}function dg(i){const r=i.indexOf("$");return(0,O.hu)(-1!==r&&r<i.length-1,"Bad queryKey."),{queryId:i.substr(r+1),path:new Kt(i.substr(0,r))}}function fg(i,r,n){const o=i.syncPointTree_.get(r);return(0,O.hu)(o,"Missing sync point for query tag that we're tracking"),Yd(o,n,gh(i.pendingWriteTree_,r),null)}function Ic(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function Bm(){return(0,O.hu)(al,"Reference.ts has not been loaded"),al}())(i._repo,i._path):i}class Km{constructor(r){this.node_=r}getImmediateChild(r){const n=this.node_.getImmediateChild(r);return new Km(n)}node(){return this.node_}}class wc{constructor(r,n){this.syncTree_=r,this.path_=n}getImmediateChild(r){const n=hn(this.path_,r);return new wc(this.syncTree_,n)}node(){return Qd(this.syncTree_,this.path_)}}const Tv=function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i},Zm=function(i,r,n){return i&&"object"==typeof i?((0,O.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?hg(i[".sv"],r,n):"object"==typeof i[".sv"]?Sv(i[".sv"],r):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},hg=function(i,r,n){if("timestamp"===i)return n.timestamp;(0,O.hu)(!1,"Unexpected server value: "+i)},Sv=function(i,r,n){i.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,O.hu)(!1,"Unexpected increment value: "+o);const u=r.node();if((0,O.hu)(null!==u&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const y=u.getValue();return"number"!=typeof y?o:y+o},Ps=function(i,r,n,o){return fr(r,new wc(n,i),o)},lu=function(i,r,n){return fr(i,new Km(r),n)};function fr(i,r,n){const o=i.getPriority().val(),u=Zm(o,r.getImmediateChild(".priority"),n);let h;if(i.isLeafNode()){const y=i,D=Zm(y.getValue(),r,n);return D!==y.getValue()||u!==y.getPriority().val()?new nu(D,Mn(u)):i}{const y=i;return h=y,u!==y.getPriority().val()&&(h=h.updatePriority(new nu(u))),y.forEachChild(an,(D,S)=>{const M=fr(S,r.getImmediateChild(D),n);M!==S&&(h=h.updateImmediateChild(D,M))}),h}}class sa{constructor(r="",n=null,o={children:{},childCount:0}){this.name=r,this.parent=n,this.node=o}}function uu(i,r){let n=r instanceof Kt?r:new Kt(r),o=i,u=St(n);for(;null!==u;){const h=(0,O.DV)(o.node.children,u)||{children:{},childCount:0};o=new sa(u,o,h),n=qt(n),u=St(n)}return o}function hr(i){return i.node.value}function Rh(i,r){i.node.value=r,ul(i)}function cu(i){return i.node.childCount>0}function oa(i,r){Zn(i.node.children,(n,o)=>{r(new sa(n,i,o))})}function du(i,r,n,o){n&&!o&&r(i),oa(i,u=>{du(u,r,!0,o)}),n&&o&&r(i)}function co(i){return new Kt(null===i.parent?i.name:co(i.parent)+"/"+i.name)}function ul(i){null!==i.parent&&function bc(i,r,n){const o=function Dc(i){return void 0===hr(i)&&!cu(i)}(n),u=(0,O.r3)(i.node.children,r);o&&u?(delete i.node.children[r],i.node.childCount--,ul(i)):!o&&!u&&(i.node.children[r]=n.node,i.node.childCount++,ul(i))}(i.parent,i.name,i)}const Tc=/[\[\].#$\/\u0000-\u001F\u007F]/,Ym=/[\[\].#$\u0000-\u001F\u007F]/,Ph=10485760,Xd=function(i){return"string"==typeof i&&0!==i.length&&!Tc.test(i)},pg=function(i){return"string"==typeof i&&0!==i.length&&!Ym.test(i)},Sc=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!ws(i)||i&&"object"==typeof i&&(0,O.r3)(i,".sv")},Ms=function(i,r,n,o){o&&void 0===r||Ac((0,O.gK)(i,"value"),r,n)},Ac=function(i,r,n){const o=n instanceof Kt?new Uy(n,i):n;if(void 0===r)throw new Error(i+"contains undefined "+sl(o));if("function"==typeof r)throw new Error(i+"contains a function "+sl(o)+" with contents = "+r.toString());if(ws(r))throw new Error(i+"contains "+r.toString()+" "+sl(o));if("string"==typeof r&&r.length>Ph/3&&(0,O.ug)(r)>Ph)throw new Error(i+"contains a string greater than "+Ph+" utf8 bytes "+sl(o)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let u=!1,h=!1;if(Zn(r,(y,D)=>{if(".value"===y)u=!0;else if(".priority"!==y&&".sv"!==y&&(h=!0,!Xd(y)))throw new Error(i+" contains an invalid key ("+y+") "+sl(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Pp(i,r){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(r),i.byteLength_+=(0,O.ug)(r),il(i)})(o,y),Ac(i,D,o),function Jf(i){const r=i.parts_.pop();i.byteLength_-=(0,O.ug)(r),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),u&&h)throw new Error(i+' contains ".value" child '+sl(o)+" in addition to actual children.")}},Jm=function(i,r,n,o){if(o&&void 0===r)return;const u=(0,O.gK)(i,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(u+" must be an object containing the children to replace.");const h=[];Zn(r,(y,D)=>{const S=new Kt(y);if(Ac(u,D,hn(n,S)),".priority"===dm(S)&&!Sc(D))throw new Error(u+"contains an invalid value for '"+S.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(S)}),function(i,r){let n,o;for(n=0;n<r.length;n++){o=r[n];const h=Rd(o);for(let y=0;y<h.length;y++)if((".priority"!==h[y]||y!==h.length-1)&&!Xd(h[y]))throw new Error(i+"contains an invalid key ("+h[y]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(By);let u=null;for(n=0;n<r.length;n++){if(o=r[n],null!==u&&Kr(u,o))throw new Error(i+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,h)},gg=function(i,r,n){if(!n||void 0!==r){if(ws(r))throw new Error((0,O.gK)(i,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sc(r))throw new Error((0,O.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rc=function(i,r,n,o){if(!(o&&void 0===n||Xd(n)))throw new Error((0,O.gK)(i,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ef=function(i,r,n,o){if(!(o&&void 0===n||pg(n)))throw new Error((0,O.gK)(i,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Av=function(i,r,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ef(i,r,n,o)},ui=function(i,r){if(".info"===St(r))throw new Error(i+" failed = Can't modify data under /.info/")},Mh=function(i,r){const n=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Xd(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==n.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),pg(i)}(n))throw new Error((0,O.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Rv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fu(i,r){let n=null;for(let o=0;o<r.length;o++){const u=r[o],h=u.getPath();null!==n&&!Pd(h,n.path)&&(i.eventLists_.push(n),n=null),null===n&&(n={events:[],path:h}),n.events.push(u)}n&&i.eventLists_.push(n)}function tf(i,r,n){fu(i,n),Xm(i,o=>Pd(o,r))}function Zr(i,r,n){fu(i,n),Xm(i,o=>Kr(o,r)||Kr(r,o))}function Xm(i,r){i.recursionDepth_++;let n=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];u&&(r(u.path)?(mg(i.eventLists_[o]),i.eventLists_[o]=null):n=!1)}n&&(i.eventLists_=[]),i.recursionDepth_--}function mg(i){for(let r=0;r<i.events.length;r++){const n=i.events[r];if(null!==n){i.events[r]=null;const o=n.getEventRunner();Yo&&zn("event: "+n.toString()),el(o)}}}const Nh="repo_interrupt",e_=25;class t_{constructor(r,n,o,u){this.repoInfo_=r,this.forceRestClient_=n,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uh(),this.transactionQueueTree_=new sa,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yg(i){const n=i.infoData_.getNode(new Kt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function nf(i){return Tv({timestamp:yg(i)})}function Oh(i,r,n,o,u){i.dataUpdateCount++;const h=new Kt(r);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(r,n):n;let y=[];if(u)if(o){const S=(0,O.UI)(n,M=>Mn(M));y=function Cv(i,r,n,o){const u=cg(i,o);if(u){const h=dg(u),y=h.path,D=h.queryId,S=Ln(y,r),M=ln.fromObject(n);return fg(i,y,new _c(jp(D),S,M))}return[]}(i.serverSyncTree_,h,S,u)}else{const S=Mn(n);y=Hm(i.serverSyncTree_,h,S,u)}else if(o){const S=(0,O.UI)(n,M=>Mn(M));y=function Iv(i,r,n){const o=ln.fromObject(n);return Ec(i,new _c({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,o))}(i.serverSyncTree_,h,S)}else{const S=Mn(n);y=bh(i.serverSyncTree_,h,S)}let D=h;y.length>0&&(D=Mc(i,h)),Zr(i.eventQueue_,D,y)}function vg(i,r){kh(i,"connected",r),!1===r&&function Nv(i){hu(i,"onDisconnectEvents");const r=nf(i),n=uh();ch(i.onDisconnect_,Ht(),(u,h)=>{const y=Ps(u,h,i.serverSyncTree_,r);ru(n,u,y)});let o=[];ch(n,Ht(),(u,h)=>{o=o.concat(bh(i.serverSyncTree_,u,h));const y=l_(i,u);Mc(i,y)}),i.onDisconnect_=uh(),Zr(i.eventQueue_,Ht(),o)}(i)}function kh(i,r,n){const o=new Kt("/.info/"+r),u=Mn(n);i.infoData_.updateSnapshot(o,u);const h=bh(i.infoSyncTree_,o,u);Zr(i.eventQueue_,o,h)}function rf(i){return i.nextWriteId_++}function xh(i,r,n,o,u){hu(i,"set",{path:r.toString(),value:n,priority:o});const h=nf(i),y=Mn(n,o),D=Qd(i.serverSyncTree_,r),S=lu(y,D,h),M=rf(i),G=lg(i.serverSyncTree_,r,S,M,!0);fu(i.eventQueue_,G),i.server_.put(r.toString(),y.val(!0),(X,ye)=>{const Oe="ok"===X;Oe||Kn("set at "+r+" failed: "+X);const at=ll(i.serverSyncTree_,M,!Oe);Zr(i.eventQueue_,r,at),aa(0,u,X,ye)});const $=l_(i,r);Mc(i,$),Zr(i.eventQueue_,$,[])}function Ov(i,r,n){i.server_.onDisconnectCancel(r.toString(),(o,u)=>{"ok"===o&&Hp(i.onDisconnect_,r),aa(0,n,o,u)})}function Eg(i,r,n,o){const u=Mn(n);i.server_.onDisconnectPut(r.toString(),u.val(!0),(h,y)=>{"ok"===h&&ru(i.onDisconnect_,r,u),aa(0,o,h,y)})}function Lh(i,r,n){let o;o=".info"===St(r._path)?Th(i.infoSyncTree_,r,n):Th(i.serverSyncTree_,r,n),tf(i.eventQueue_,r._path,o)}function wg(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Nh)}function hu(i,...r){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),zn(n,...r)}function aa(i,r,n,o){r&&el(()=>{if("ok"===n)r(null);else{const u=(n||"error").toUpperCase();let h=u;o&&(h+=": "+o);const y=new Error(h);y.code=u,r(y)}})}function Pc(i,r,n){return Qd(i.serverSyncTree_,r,n)||dt.EMPTY_NODE}function Ns(i,r=i.transactionQueueTree_){if(r||Nc(i,r),hr(r)){const n=Fh(i,r);(0,O.hu)(n.length>0,"Sending zero length transaction queue"),n.every(u=>0===u.status)&&function kv(i,r,n){const o=n.map(M=>M.currentWriteId),u=Pc(i,r,o);let h=u;const y=u.hash();for(let M=0;M<n.length;M++){const G=n[M];(0,O.hu)(0===G.status,"tryToSendTransactionQueue_: items in queue should all be run."),G.status=1,G.retryCount++;const $=Ln(r,G.path);h=h.updateChild($,G.currentOutputSnapshotRaw)}const D=h.val(!0),S=r;i.server_.put(S.toString(),D,M=>{hu(i,"transaction put response",{path:S.toString(),status:M});let G=[];if("ok"===M){const $=[];for(let X=0;X<n.length;X++)n[X].status=2,G=G.concat(ll(i.serverSyncTree_,n[X].currentWriteId)),n[X].onComplete&&$.push(()=>n[X].onComplete(null,!0,n[X].currentOutputSnapshotResolved)),n[X].unwatcher();Nc(i,uu(i.transactionQueueTree_,r)),Ns(i,i.transactionQueueTree_),Zr(i.eventQueue_,r,G);for(let X=0;X<$.length;X++)el($[X])}else{if("datastale"===M)for(let $=0;$<n.length;$++)n[$].status=3===n[$].status?4:0;else{Kn("transaction at "+S.toString()+" failed: "+M);for(let $=0;$<n.length;$++)n[$].status=4,n[$].abortReason=M}Mc(i,r)}},y)}(i,co(r),n)}else cu(r)&&oa(r,n=>{Ns(i,n)})}function Mc(i,r){const n=cl(i,r),o=co(n);return function Dg(i,r,n){if(0===r.length)return;const o=[];let u=[];const y=r.filter(D=>0===D.status).map(D=>D.currentWriteId);for(let D=0;D<r.length;D++){const S=r[D],M=Ln(n,S.path);let $,G=!1;if((0,O.hu)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===S.status)G=!0,$=S.abortReason,u=u.concat(ll(i.serverSyncTree_,S.currentWriteId,!0));else if(0===S.status)if(S.retryCount>=e_)G=!0,$="maxretry",u=u.concat(ll(i.serverSyncTree_,S.currentWriteId,!0));else{const X=Pc(i,S.path,y);S.currentInputSnapshot=X;const ye=r[D].update(X.val());if(void 0!==ye){Ac("transaction failed: Data returned ",ye,S.path);let Oe=Mn(ye);"object"==typeof ye&&null!=ye&&(0,O.r3)(ye,".priority")||(Oe=Oe.updatePriority(X.getPriority()));const Ot=S.currentWriteId,Dt=nf(i),Qt=lu(Oe,X,Dt);S.currentOutputSnapshotRaw=Oe,S.currentOutputSnapshotResolved=Qt,S.currentWriteId=rf(i),y.splice(y.indexOf(Ot),1),u=u.concat(lg(i.serverSyncTree_,S.path,Qt,S.currentWriteId,S.applyLocally)),u=u.concat(ll(i.serverSyncTree_,Ot,!0))}else G=!0,$="nodata",u=u.concat(ll(i.serverSyncTree_,S.currentWriteId,!0))}Zr(i.eventQueue_,n,u),u=[],G&&(r[D].status=2,setTimeout(r[D].unwatcher,Math.floor(0)),r[D].onComplete&&o.push("nodata"===$?()=>r[D].onComplete(null,!1,r[D].currentInputSnapshot):()=>r[D].onComplete(new Error($),!1,null)))}Nc(i,i.transactionQueueTree_);for(let D=0;D<o.length;D++)el(o[D]);Ns(i,i.transactionQueueTree_)}(i,Fh(i,n),o),o}function cl(i,r){let n,o=i.transactionQueueTree_;for(n=St(r);null!==n&&void 0===hr(o);)o=uu(o,n),n=St(r=qt(r));return o}function Fh(i,r){const n=[];return a_(i,r,n),n.sort((o,u)=>o.order-u.order),n}function a_(i,r,n){const o=hr(r);if(o)for(let u=0;u<o.length;u++)n.push(o[u]);oa(r,u=>{a_(i,u,n)})}function Nc(i,r){const n=hr(r);if(n){let o=0;for(let u=0;u<n.length;u++)2!==n[u].status&&(n[o]=n[u],o++);n.length=o,Rh(r,n.length>0?n:void 0)}oa(r,o=>{Nc(i,o)})}function l_(i,r){const n=co(cl(i,r)),o=uu(i.transactionQueueTree_,r);return function Cc(i,r,n){let o=n?i:i.parent;for(;null!==o;){if(r(o))return!0;o=o.parent}}(o,u=>{u_(i,u)}),u_(i,o),du(o,u=>{u_(i,u)}),n}function u_(i,r){const n=hr(r);if(n){const o=[];let u=[],h=-1;for(let y=0;y<n.length;y++)3===n[y].status||(1===n[y].status?((0,O.hu)(h===y-1,"All SENT items should be at beginning of queue."),h=y,n[y].status=3,n[y].abortReason="set"):((0,O.hu)(0===n[y].status,"Unexpected transaction status in abort"),n[y].unwatcher(),u=u.concat(ll(i.serverSyncTree_,n[y].currentWriteId,!0)),n[y].onComplete&&o.push(n[y].onComplete.bind(null,new Error("set"),!1,null))));-1===h?Rh(r,void 0):n.length=h+1,Zr(i.eventQueue_,co(r),u);for(let y=0;y<o.length;y++)el(o[y])}}const Bh=function(i,r){const n=Fv(i),o=n.namespace;return"firebase.com"===n.domain&&bi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==n.domain&&bi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new tr(n.host,n.secure,o,"ws"===n.scheme||"wss"===n.scheme,r,"",o!==n.subdomain),path:new Kt(n.pathString)}},Fv=function(i){let r="",n="",o="",u="",h="",y=!0,D="https",S=443;if("string"==typeof i){let M=i.indexOf("//");M>=0&&(D=i.substring(0,M-1),i=i.substring(M+2));let G=i.indexOf("/");-1===G&&(G=i.length);let $=i.indexOf("?");-1===$&&($=i.length),r=i.substring(0,Math.min(G,$)),G<$&&(u=function xv(i){let r="";const n=i.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let u=n[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}r+="/"+u}return r}(i.substring(G,$)));const X=function Lv(i){const r={};"?"===i.charAt(0)&&(i=i.substring(1));for(const n of i.split("&")){if(0===n.length)continue;const o=n.split("=");2===o.length?r[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):Kn(`Invalid query segment '${n}' in query '${i}'`)}return r}(i.substring(Math.min(i.length,$)));M=r.indexOf(":"),M>=0?(y="https"===D||"wss"===D,S=parseInt(r.substring(M+1),10)):M=r.length;const ye=r.slice(0,M);if("localhost"===ye.toLowerCase())n="localhost";else if(ye.split(".").length<=2)n=ye;else{const Oe=r.indexOf(".");o=r.substring(0,Oe).toLowerCase(),n=r.substring(Oe+1),h=o}"ns"in X&&(h=X.ns)}return{host:r,port:S,domain:n,subdomain:o,secure:y,scheme:D,pathString:u,namespace:h}},Yn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",c_=function(){let i=0;const r=[];return function(n){const o=n===i;let u;i=n;const h=new Array(8);for(u=7;u>=0;u--)h[u]=Yn.charAt(n%64),n=Math.floor(n/64);(0,O.hu)(0===n,"Cannot push at time == 0");let y=h.join("");if(o){for(u=11;u>=0&&63===r[u];u--)r[u]=0;r[u]++}else for(u=0;u<12;u++)r[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)y+=Yn.charAt(r[u]);return(0,O.hu)(20===y.length,"nextPushId: Length should be 20."),y}}();class d_{constructor(r,n,o,u){this.eventType=r,this.eventRegistration=n,this.snapshot=o,this.prevName=u}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Wl)(this.snapshot.exportVal())}}class f_{constructor(r,n,o){this.eventRegistration=r,this.error=n,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Uh{constructor(r,n){this.snapshotCallback=r,this.cancelCallback=n}onValue(r,n){this.snapshotCallback.call(null,r,n)}onCancel(r){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class h_{constructor(r,n){this._repo=r,this._path=n}cancel(){const r=new O.BH;return Ov(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){ui("OnDisconnect.remove",this._path);const r=new O.BH;return Eg(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){ui("OnDisconnect.set",this._path),Ms("OnDisconnect.set",r,this._path,!1);const n=new O.BH;return Eg(this._repo,this._path,r,n.wrapCallback(()=>{})),n.promise}setWithPriority(r,n){ui("OnDisconnect.setWithPriority",this._path),Ms("OnDisconnect.setWithPriority",r,this._path,!1),gg("OnDisconnect.setWithPriority",n,!1);const o=new O.BH;return function Ig(i,r,n,o,u){const h=Mn(n,o);i.server_.onDisconnectPut(r.toString(),h.val(!0),(y,D)=>{"ok"===y&&ru(i.onDisconnect_,r,h),aa(0,u,y,D)})}(this._repo,this._path,r,n,o.wrapCallback(()=>{})),o.promise}update(r){ui("OnDisconnect.update",this._path),Jm("OnDisconnect.update",r,this._path,!1);const n=new O.BH;return function r_(i,r,n,o){if((0,O.xb)(n))return zn("onDisconnect().update() called with empty data.  Don't do anything."),void aa(0,o,"ok",void 0);i.server_.onDisconnectMerge(r.toString(),n,(u,h)=>{"ok"===u&&Zn(n,(y,D)=>{const S=Mn(D);ru(i.onDisconnect_,hn(r,y),S)}),aa(0,o,u,h)})}(this._repo,this._path,r,n.wrapCallback(()=>{})),n.promise}}class Yr{constructor(r,n,o,u){this._repo=r,this._path=n,this._queryParams=o,this._orderByCalled=u}get key(){return At(this._path)?null:dm(this._path)}get ref(){return new Ki(this._repo,this._path)}get _queryIdentifier(){const r=Vp(this._queryParams),n=ec(r);return"{}"===n?"default":n}get _queryObject(){return Vp(this._queryParams)}isEqual(r){if(!((r=(0,O.m9)(r))instanceof Yr))return!1;const n=this._repo===r._repo,o=Pd(this._path,r._path);return n&&o&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Rp(i){let r="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)""!==i.pieces_[n]&&(r+="/"+encodeURIComponent(String(i.pieces_[n])));return r||"/"}(this._path)}}function sf(i,r){if(!0===i._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Ri(i){let r=null,n=null;if(i.hasStart()&&(r=i.getIndexStartValue()),i.hasEnd()&&(n=i.getIndexEndValue()),i.getIndex()===ta){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Ds)throw new Error(o);if("string"!=typeof r)throw new Error(u)}if(i.hasEnd()){if(i.getIndexEndName()!==Fr)throw new Error(o);if("string"!=typeof n)throw new Error(u)}}else if(i.getIndex()===an){if(null!=r&&!Sc(r)||null!=n&&!Sc(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(i.getIndex()instanceof sh||i.getIndex()===oh,"unknown index type."),null!=r&&"object"==typeof r||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vh(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ki extends Yr{constructor(r,n){super(r,n,new ah,!1)}get parent(){const r=Qf(this._path);return null===r?null:new Ki(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class dl{constructor(r,n,o){this._node=r,this.ref=n,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const n=new Kt(r),o=Oc(this.ref,r);return new dl(this._node.getChild(n),o,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>r(new dl(u,Oc(this.ref,o),an)))}hasChild(r){const n=new Kt(r);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function p_(i,r){return(i=(0,O.m9)(i))._checkNotDeleted("ref"),void 0!==r?Oc(i._root,r):i._root}function Cg(i,r){(i=(0,O.m9)(i))._checkNotDeleted("refFromURL");const n=Bh(r,i._repo.repoInfo_.nodeAdmin);Mh("refFromURL",n);const o=n.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&bi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),p_(i,n.path.toString())}function Oc(i,r){return null===St((i=(0,O.m9)(i))._path)?Av("child","path",r,!1):ef("child","path",r,!1),new Ki(i._repo,hn(i._path,r))}function bg(i,r){i=(0,O.m9)(i),ui("set",i._path),Ms("set",r,i._path,!1);const n=new O.BH;return xh(i._repo,i._path,r,null,n.wrapCallback(()=>{})),n.promise}function Os(i,r){Jm("update",r,i._path,!1);const n=new O.BH;return function Mv(i,r,n,o){hu(i,"update",{path:r.toString(),value:n});let u=!0;const h=nf(i),y={};if(Zn(n,(D,S)=>{u=!1,y[D]=Ps(hn(r,D),Mn(S),i.serverSyncTree_,h)}),u)zn("update() called with empty data.  Don't do anything."),aa(0,o,"ok",void 0);else{const D=rf(i),S=function qd(i,r,n,o){!function lv(i,r,n,o){(0,O.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:r,children:n,writeId:o,visible:!0}),i.visibleWrites=hh(i.visibleWrites,r,n),i.lastWriteId=o}(i.pendingWriteTree_,r,n,o);const u=ln.fromObject(n);return Ec(i,new _c({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,u))}(i.serverSyncTree_,r,y,D);fu(i.eventQueue_,S),i.server_.merge(r.toString(),n,(M,G)=>{const $="ok"===M;$||Kn("update at "+r+" failed: "+M);const X=ll(i.serverSyncTree_,D,!$),ye=X.length>0?Mc(i,r):r;Zr(i.eventQueue_,ye,X),aa(0,o,M,G)}),Zn(n,M=>{const G=l_(i,hn(r,M));Mc(i,G)}),Zr(i.eventQueue_,r,[])}}(i._repo,i._path,r,n.wrapCallback(()=>{})),n.promise}function ks(i){i=(0,O.m9)(i);const r=new Uh(()=>{}),n=new kc(r);return function n_(i,r,n){const o=function jm(i,r){const n=r._path;let o=null;i.syncPointTree_.foreachOnPath(n,(M,G)=>{const $=Ln(M,n);o=o||ia(G,$)});let u=i.syncPointTree_.get(n);u?o=o||ia(u,Ht()):(u=new Zd,i.syncPointTree_=i.syncPointTree_.set(n,u));const h=null!=o,y=h?new ra(o,!0,!1):null;return function mv(i){return fh(i.viewCache_)}(vv(u,r,gh(i.pendingWriteTree_,r._path),h?y.getNode():dt.EMPTY_NODE,h))}(i.serverSyncTree_,r);return null!=o?Promise.resolve(o):i.server_.get(r).then(u=>{const h=Mn(u).withIndex(r._queryParams.getIndex());let y;if(ug(i.serverSyncTree_,r,n,!0),r._queryParams.loadsAllData())y=bh(i.serverSyncTree_,r._path,h);else{const D=Jd(i.serverSyncTree_,r);y=Hm(i.serverSyncTree_,r._path,h,D)}return Zr(i.eventQueue_,r._path,y),Th(i.serverSyncTree_,r,n,null,!0),h},u=>(hu(i,"get for query "+(0,O.Wl)(r)+" failed: "+u),Promise.reject(new Error(u))))}(i._repo,i,n).then(o=>new dl(o,new Ki(i._repo,i._path),i._queryParams.getIndex()))}class kc{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,n){const o=n._queryParams.getIndex();return new d_("value",this,new dl(r.snapshotNode,new Ki(n._repo,n._path),o))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,n){return this.callbackContext.hasCancelCallback?new f_(this,r,n):null}matches(r){return r instanceof kc&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class of{constructor(r,n){this.eventType=r,this.callbackContext=n}respondsTo(r){let n="children_added"===r?"child_added":r;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(r,n){return this.callbackContext.hasCancelCallback?new f_(this,r,n):null}createEvent(r,n){(0,O.hu)(null!=r.childName,"Child events should have a childName.");const o=Oc(new Ki(n._repo,n._path),r.childName),u=n._queryParams.getIndex();return new d_(r.type,this,new dl(r.snapshotNode,o,u),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof of&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function af(i,r,n,o,u){let h;if("object"==typeof o&&(h=void 0,u=o),"function"==typeof o&&(h=o),u&&u.onlyOnce){const S=n,M=(G,$)=>{Lh(i._repo,i,D),S(G,$)};M.userCallback=n.userCallback,M.context=n.context,n=M}const y=new Uh(n,h||void 0),D="value"===r?new kc(y):new of(r,y);return function i_(i,r,n){let o;o=".info"===St(r._path)?ug(i.infoSyncTree_,r,n):ug(i.serverSyncTree_,r,n),tf(i.eventQueue_,r._path,o)}(i._repo,i,D),()=>Lh(i._repo,i,D)}function Tg(i,r,n,o){return af(i,"value",r,n,o)}function m_(i,r,n,o){return af(i,"child_added",r,n,o)}function __(i,r,n,o){return af(i,"child_changed",r,n,o)}function Hh(i,r,n,o){return af(i,"child_moved",r,n,o)}function xc(i,r,n,o){return af(i,"child_removed",r,n,o)}function y_(i,r,n){let o=null;const u=n?new Uh(n):null;"value"===r?o=new kc(u):r&&(o=new of(r,u)),Lh(i._repo,i,o)}class Zi{}class v_ extends Zi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){Ms("endAt",this._value,r._path,!0);const n=Bp(r._queryParams,this._value,this._key);if(Vh(n),Ri(n),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yr(r._repo,r._path,n,r._orderByCalled)}}class E_ extends Zi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){Ms("endBefore",this._value,r._path,!1);const n=function ev(i,r,n){let o;return o=Bp(i,r,i.index_===ta||n?n:Ds),o.endBeforeSet_=!0,o}(r._queryParams,this._value,this._key);if(Vh(n),Ri(n),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yr(r._repo,r._path,n,r._orderByCalled)}}class lf extends Zi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){Ms("startAt",this._value,r._path,!0);const n=lh(r._queryParams,this._value,this._key);if(Vh(n),Ri(n),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Yr(r._repo,r._path,n,r._orderByCalled)}}class w_ extends Zi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){Ms("startAfter",this._value,r._path,!1);const n=function Xy(i,r,n){let o;return o=lh(i,r,i.index_===ta||n?n:Fr),o.startAfterSet_=!0,o}(r._queryParams,this._value,this._key);if(Vh(n),Ri(n),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Yr(r._repo,r._path,n,r._orderByCalled)}}class Sg extends Zi{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yr(r._repo,r._path,function Qy(i,r){const n=i.copy();return n.limitSet_=!0,n.limit_=r,n.viewFrom_="l",n}(r._queryParams,this._limit),r._orderByCalled)}}class C_ extends Zi{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yr(r._repo,r._path,function Jy(i,r){const n=i.copy();return n.limitSet_=!0,n.limit_=r,n.viewFrom_="r",n}(r._queryParams,this._limit),r._orderByCalled)}}class T_ extends Zi{constructor(r){super(),this._path=r}_apply(r){sf(r,"orderByChild");const n=new Kt(this._path);if(At(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new sh(n),u=yt(r._queryParams,o);return Ri(u),new Yr(r._repo,r._path,u,!0)}}class A_ extends Zi{_apply(r){sf(r,"orderByKey");const n=yt(r._queryParams,ta);return Ri(n),new Yr(r._repo,r._path,n,!0)}}class P_ extends Zi{_apply(r){sf(r,"orderByPriority");const n=yt(r._queryParams,an);return Ri(n),new Yr(r._repo,r._path,n,!0)}}class jv extends Zi{_apply(r){sf(r,"orderByValue");const n=yt(r._queryParams,oh);return Ri(n),new Yr(r._repo,r._path,n,!0)}}class Wv extends Zi{constructor(r,n){super(),this._value=r,this._key=n}_apply(r){if(Ms("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new v_(this._value,this._key)._apply(new lf(this._value,this._key)._apply(r))}}function xs(i,...r){let n=(0,O.m9)(i);for(const o of r)n=o._apply(n);return n}(function wh(i){(0,O.hu)(!Ih,"__referenceConstructor has already been defined"),Ih=i})(Ki),function Ev(i){(0,O.hu)(!al,"__referenceConstructor has already been defined"),al=i}(Ki);const zv="FIREBASE_DATABASE_EMULATOR_HOST",Ag={};let N_=!1;function O_(i,r,n,o,u){let h=o||i.options.databaseURL;void 0===h&&(i.options.projectId||bi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zn("Using default host for project ",i.options.projectId),h=`${i.options.projectId}-default-rtdb.firebaseio.com`);let S,M,y=Bh(h,u),D=y.repoInfo;typeof process<"u"&&process.env&&(M=process.env[zv]),M?(S=!0,h=`http://${M}?ns=${D.namespace}`,y=Bh(h,u),D=y.repoInfo):S=!y.repoInfo.secure;const G=u&&S?new tl(tl.OWNER):new Bf(i.name,i.options,r);Mh("Invalid Firebase Database URL",y),At(y.path)||bi("Database URL must point to the root of a Firebase Database (not including a child path).");const $=function Yv(i,r,n,o){let u=Ag[r.name];u||(u={},Ag[r.name]=u);let h=u[i.toURLString()];return h&&bi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new t_(i,N_,n,o),u[i.toURLString()]=h,h}(D,i,G,new Xl(i.name,n));return new Qv($,i)}class Qv{constructor(r,n){this._repoInternal=r,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _g(i,r,n){if(i.stats_=br(i.repoInfo_),i.forceRestClient_||bp())i.server_=new Ud(i.repoInfo_,(o,u,h,y)=>{Oh(i,o,u,h,y)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>vg(i,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Wl)(n)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new ea(i.repoInfo_,r,(o,u,h,y)=>{Oh(i,o,u,h,y)},o=>{vg(i,o)},o=>{!function Pv(i,r){Zn(r,(n,o)=>{kh(i,n,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function jf(i,r){const n=i.toString();return bd[n]||(bd[n]=r()),bd[n]}(i.repoInfo_,()=>new iu(i.stats_,i.server_)),i.infoData_=new tv,i.infoSyncTree_=new Vm({startListening:(o,u,h,y)=>{let D=[];const S=i.infoData_.getNode(o._path);return S.isEmpty()||(D=bh(i.infoSyncTree_,o._path,S),setTimeout(()=>{y("ok")},0)),D},stopListening:()=>{}}),kh(i,"connected",!1),i.serverSyncTree_=new Vm({startListening:(o,u,h,y)=>(i.server_.listen(o,h,u,(D,S)=>{const M=y(D,S);Zr(i.eventQueue_,o._path,M)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ki(this._repo,Ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zv(i,r){const n=Ag[r];(!n||n[i.key]!==i)&&bi(`Database ${r}(${i.repoInfo_}) has already been deleted.`),wg(i),delete n[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&bi("Cannot call "+r+" on a deleted database.")}}function k_(){Yt.IS_TRANSPORT_INITIALIZED&&Kn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Jv(){k_(),U.forceDisallow()}function Xv(){k_(),$e.forceDisallow(),U.forceAllow()}function F_(i,r){Ql(i,r)}const U_={".sv":"timestamp"};class j_{constructor(r,n){this.committed=r,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ea.prototype.simpleListen=function(i,r){this.sendRequest("q",{p:i},r)},ea.prototype.echo=function(i,r){this.sendRequest("echo",{d:i},r)},function B_(i){Za(no.SDK_VERSION),(0,no._registerComponent)(new Is.wA("database",(r,{instanceIdentifier:n})=>O_(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,no.registerVersion)(ro,"0.14.4",i),(0,no.registerVersion)(ro,"0.14.4","esm2017")}();const Fc=new yd.Yd("@firebase/database-compat"),rE=function(i){Fc.warn("FIREBASE WARNING: "+i)};class W_{constructor(r){this._delegate=r}cancel(r){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",r,!0);const n=this._delegate.cancel();return r&&n.then(()=>r(null),o=>r(o)),n}remove(r){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",r,!0);const n=this._delegate.remove();return r&&n.then(()=>r(null),o=>r(o)),n}set(r,n){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",n,!0);const o=this._delegate.set(r);return n&&o.then(()=>n(null),u=>n(u)),o}setWithPriority(r,n,o){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(r,n);return o&&u.then(()=>o(null),h=>o(h)),u}update(r,n){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let h=0;h<r.length;++h)u[""+h]=r[h];r=u,rE("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",n,!0);const o=this._delegate.update(r);return n&&o.then(()=>n(null),u=>n(u)),o}}class G_{constructor(r,n){this.committed=r,this.snapshot=n}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pu{constructor(r,n){this._database=r,this._delegate=n}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),ef("DataSnapshot.child","path",r,!1),new pu(this._database,this._delegate.child(r))}hasChild(r){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ef("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(n=>r(new pu(this._database,n)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new Pi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ye{constructor(r,n){this.database=r,this._delegate=n}on(r,n,o,u){var h;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",n,!1);const y=Ye.getCancelAndContextArgs_("Query.on",o,u),D=(M,G)=>{n.call(y.context,new pu(this.database,M),G)};D.userCallback=n,D.context=y.context;const S=null===(h=y.cancel)||void 0===h?void 0:h.bind(y.context);switch(r){case"value":return Tg(this._delegate,D,S),n;case"child_added":return m_(this._delegate,D,S),n;case"child_removed":return xc(this._delegate,D,S),n;case"child_changed":return __(this._delegate,D,S),n;case"child_moved":return Hh(this._delegate,D,S),n;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,n,o){if((0,O.Dv)("Query.off",0,3,arguments.length),function(i,r,n){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,O.Wj)("Query.off","callback",n,!0),(0,O.lb)("Query.off","context",o,!0),n){const u=()=>{};u.userCallback=n,u.context=o,y_(this._delegate,r,u)}else y_(this._delegate,r)}get(){return ks(this._delegate).then(r=>new pu(this.database,r))}once(r,n,o,u){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",n,!0);const h=Ye.getCancelAndContextArgs_("Query.once",o,u),y=new O.BH,D=(M,G)=>{const $=new pu(this.database,M);n&&n.call(h.context,$,G),y.resolve($)};D.userCallback=n,D.context=h.context;const S=M=>{h.cancel&&h.cancel.call(h.context,M),y.reject(M)};switch(r){case"value":Tg(this._delegate,D,S,{onlyOnce:!0});break;case"child_added":m_(this._delegate,D,S,{onlyOnce:!0});break;case"child_removed":xc(this._delegate,D,S,{onlyOnce:!0});break;case"child_changed":__(this._delegate,D,S,{onlyOnce:!0});break;case"child_moved":Hh(this._delegate,D,S,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return y.promise}limitToFirst(r){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new Ye(this.database,xs(this._delegate,function jh(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Sg(i)}(r)))}limitToLast(r){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new Ye(this.database,xs(this._delegate,function b_(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new C_(i)}(r)))}orderByChild(r){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new Ye(this.database,xs(this._delegate,function S_(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ef("orderByChild","path",i,!1),new T_(i)}(r)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new Ye(this.database,xs(this._delegate,function R_(){return new A_}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new Ye(this.database,xs(this._delegate,function M_(){return new P_}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new Ye(this.database,xs(this._delegate,function $v(){return new jv}()))}startAt(r=null,n){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new Ye(this.database,xs(this._delegate,function Hv(i=null,r){return Rc("startAt","key",r,!0),new lf(i,r)}(r,n)))}startAfter(r=null,n){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new Ye(this.database,xs(this._delegate,function D_(i,r){return Rc("startAfter","key",r,!0),new w_(i,r)}(r,n)))}endAt(r=null,n){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new Ye(this.database,xs(this._delegate,function Vv(i,r){return Rc("endAt","key",r,!0),new v_(i,r)}(r,n)))}endBefore(r=null,n){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new Ye(this.database,xs(this._delegate,function I_(i,r){return Rc("endBefore","key",r,!0),new E_(i,r)}(r,n)))}equalTo(r,n){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new Ye(this.database,xs(this._delegate,function Gv(i,r){return Rc("equalTo","key",r,!0),new Wv(i,r)}(r,n)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Ye))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,n,o){const u={cancel:void 0,context:void 0};if(n&&o)u.cancel=n,(0,O.Wj)(r,"cancel",u.cancel,!0),u.context=o,(0,O.lb)(r,"context",u.context,!0);else if(n)if("object"==typeof n&&null!==n)u.context=n;else{if("function"!=typeof n)throw new Error((0,O.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=n}return u}get ref(){return new Pi(this.database,new Ki(this._delegate._repo,this._delegate._path))}}class Pi extends Ye{constructor(r,n){super(r,new Yr(n._repo,n._path,new ah,!1)),this.database=r,this._delegate=n}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Pi(this.database,Oc(this._delegate,r))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Pi(this.database,r):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new Pi(this.database,this._delegate.root)}set(r,n){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",n,!0);const o=bg(this._delegate,r);return n&&o.then(()=>n(null),u=>n(u)),o}update(r,n){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const u={};for(let h=0;h<r.length;++h)u[""+h]=r[h];r=u,rE("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ui("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",n,!0);const o=Os(this._delegate,r);return n&&o.then(()=>n(null),u=>n(u)),o}setWithPriority(r,n,o){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",o,!0);const u=function ho(i,r,n){if(ui("setWithPriority",i._path),Ms("setWithPriority",r,i._path,!1),gg("setWithPriority",n,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new O.BH;return xh(i._repo,i._path,r,n,o.wrapCallback(()=>{})),o.promise}(this._delegate,r,n);return o&&u.then(()=>o(null),h=>o(h)),u}remove(r){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",r,!0);const n=function fo(i){return ui("remove",i._path),bg(i,null)}(this._delegate);return r&&n.then(()=>r(null),o=>r(o)),n}transaction(r,n,o){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,O.Wj)("Reference.transaction","onComplete",n,!0),function(i,r,n,o){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function $_(i,r,n){var o;if(i=(0,O.m9)(i),ui("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const u=null===(o=n?.applyLocally)||void 0===o||o,h=new O.BH,D=Tg(i,()=>{});return function o_(i,r,n,o,u,h){hu(i,"transaction on "+r);const y={path:r,update:n,onComplete:o,status:null,order:io(),applyLocally:h,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},D=Pc(i,r,void 0);y.currentInputSnapshot=D;const S=y.update(D.val());if(void 0===S)y.unwatcher(),y.currentOutputSnapshotRaw=null,y.currentOutputSnapshotResolved=null,y.onComplete&&y.onComplete(null,!1,y.currentInputSnapshot);else{Ac("transaction failed: Data returned ",S,y.path),y.status=0;const M=uu(i.transactionQueueTree_,r),G=hr(M)||[];let $;G.push(y),Rh(M,G),"object"==typeof S&&null!==S&&(0,O.r3)(S,".priority")?($=(0,O.DV)(S,".priority"),(0,O.hu)(Sc($),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):$=(Qd(i.serverSyncTree_,r)||dt.EMPTY_NODE).getPriority().val();const X=nf(i),ye=Mn(S,$),Oe=lu(ye,D,X);y.currentOutputSnapshotRaw=ye,y.currentOutputSnapshotResolved=Oe,y.currentWriteId=rf(i);const at=lg(i.serverSyncTree_,r,Oe,y.currentWriteId,y.applyLocally);Zr(i.eventQueue_,r,at),Ns(i,i.transactionQueueTree_)}}(i._repo,i._path,r,(S,M,G)=>{let $=null;S?h.reject(S):($=new dl(G,new Ki(i._repo,i._path),an),h.resolve(new j_(M,$)))},D,u),h.promise}(this._delegate,r,{applyLocally:o}).then(h=>new G_(h.committed,new pu(this.database,h.snapshot)));return n&&u.then(h=>n(null,h.committed,h.snapshot),h=>n(h,!1,null)),u}setPriority(r,n){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",n,!0);const o=function Uv(i,r){i=(0,O.m9)(i),ui("setPriority",i._path),gg("setPriority",r,!1);const n=new O.BH;return xh(i._repo,hn(i._path,".priority"),r,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,r);return n&&o.then(()=>n(null),u=>n(u)),o}push(r,n){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",n,!0);const o=function g_(i,r){i=(0,O.m9)(i),ui("push",i._path),Ms("push",r,i._path,!0);const n=yg(i._repo),o=c_(n),u=Oc(i,o),h=Oc(i,o);let y;return y=null!=r?bg(h,r).then(()=>h):Promise.resolve(h),u.then=y.then.bind(y),u.catch=y.then.bind(y,void 0),u}(this._delegate,r),u=o.then(y=>new Pi(this.database,y));n&&u.then(()=>n(null),y=>n(y));const h=new Pi(this.database,o);return h.then=u.then.bind(u),h.catch=u.catch.bind(u,void 0),h}onDisconnect(){return ui("Reference.onDisconnect",this._delegate._path),new W_(new h_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class uf{constructor(r,n){this._delegate=r,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Jv,forceLongPolling:Xv}}useEmulator(r,n,o={}){!function Rg(i,r,n,o={}){(i=(0,O.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&bi("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let h;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&bi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new tl(tl.OWNER);else if(o.mockUserToken){const y="string"==typeof o.mockUserToken?o.mockUserToken:(0,O.Sg)(o.mockUserToken,i.app.options.projectId);h=new tl(y)}!function Kv(i,r,n,o){i.repoInfo_=new tr(`${r}:${n}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}(u,r,n,h)}(this._delegate,r,n,o)}ref(r){if((0,O.Dv)("database.ref",0,1,arguments.length),r instanceof Pi){const n=Cg(this._delegate,r.toString());return new Pi(this,n)}{const n=p_(this._delegate,r);return new Pi(this,n)}}refFromURL(r){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const o=Cg(this._delegate,r);return new Pi(this,o)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function x_(i){(i=(0,O.m9)(i))._checkNotDeleted("goOffline"),wg(i._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function L_(i){(i=(0,O.m9)(i))._checkNotDeleted("goOnline"),function s_(i){i.persistentConnection_&&i.persistentConnection_.resume(Nh)}(i._repo)}(this._delegate)}}uf.ServerValue={TIMESTAMP:function V_(){return U_}(),increment:i=>function H_(i){return{".sv":{increment:i}}}(i)};var Bc=Object.freeze({__proto__:null,initStandalone:function iE({app:i,url:r,version:n,customAuthImpl:o,namespace:u,nodeAdmin:h=!1}){Za(n);const y=new Is.zt("auth-internal",new Is.H0("database-standalone"));return y.setComponent(new Is.wA("auth-internal",()=>o,"PRIVATE")),{instance:new uf(O_(i,y,void 0,r,h),i),namespace:u}}});const sE=uf.ServerValue;!function $h(i){i.INTERNAL.registerComponent(new Is.wA("database-compat",(r,{instanceIdentifier:n})=>{const o=r.getProvider("app-compat").getImmediate(),u=r.getProvider("database").getImmediate({identifier:n});return new uf(u,o)},"PUBLIC").setServiceProps({Reference:Pi,Query:Ye,Database:uf,DataSnapshot:pu,enableLogging:F_,INTERNAL:Bc,ServerValue:sE}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.3.4")}(wp.Z);var cf=k(7579),pn=k(5363),TI=k(6063);class z_ extends cf.x{constructor(r=1/0,n=1/0,o=TI.l){super(),this._bufferSize=r,this._windowTime=n,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,n)}next(r){const{isStopped:n,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:h,_windowTime:y}=this;n||(o.push(r),!u&&o.push(h.now()+y)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(r),{_infiniteTimeWindow:o,_buffer:u}=this,h=u.slice();for(let y=0;y<h.length&&!r.closed;y+=o?1:2)r.next(h[y]);return this._checkFinalizedStatuses(r),n}_trimBuffer(){const{_bufferSize:r,_timestampProvider:n,_buffer:o,_infiniteTimeWindow:u}=this,h=(u?1:2)*r;if(r<1/0&&h<o.length&&o.splice(0,o.length-h),!u){const y=n.now();let D=0;for(let S=1;S<o.length&&o[S]<=y;S+=2)D=S;D&&o.splice(0,D+1)}}}function Mg(i,r,n){let o,u=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:r=1/0,refCount:u=!1,scheduler:n}=i):o=i??1/0,(0,Pn.B)({connector:()=>new z_(o,r,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}const Ng=(0,k(3888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});var K_=k(515);function aE(i=lE){return(0,kr.e)((r,n)=>{let o=!1;r.subscribe((0,cr.x)(n,u=>{o=!0,n.next(u)},()=>o?n.complete():n.error(i())))})}function lE(){return new Ng}function Uc(i,r){return(0,xl.m)(r)?Dr(()=>i,r):Dr(()=>i)}var Og=k(9468);k(259);const kg=new Map,mE={activated:!1,tokenObservers:[]},NI={initialized:!1,enabled:!1};function Fn(i){return kg.get(i)||Object.assign({},mE)}function ff(){return NI}const Vc="https://content-firebaseappcheck.googleapis.com/v1",J_="exchangeDebugToken",Hc={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class EE{constructor(r,n,o,u,h){if(this.operation=r,this.retryPolicy=n,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=h,this.pending=null,this.nextErrorWaitInterval=u,u>h)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var n=this;return(0,to.Z)(function*(){n.stop();try{n.pending=new O.BH,yield function IE(i){return new Promise(r=>{setTimeout(r,i)})}(n.getNextRun(r)),n.pending.resolve(),yield n.pending.promise,n.pending=new O.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(o){n.retryPolicy(o)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Br=new O.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yh(i){if(!Fn(i).activated)throw Br.create("use-before-activation",{appName:i.name})}function fl(i,r){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,to.Z)(function*({url:i,body:r},n){const o={"Content-Type":"application/json"},u=n.getImmediate({optional:!0});if(u){const $=yield u.getHeartbeatsHeader();$&&(o["X-Firebase-Client"]=$)}const h={method:"POST",body:JSON.stringify(r),headers:o};let y,D;try{y=yield fetch(i,h)}catch($){throw Br.create("fetch-network-error",{originalErrorMessage:$?.message})}if(200!==y.status)throw Br.create("fetch-status-error",{httpStatus:y.status});try{D=yield y.json()}catch($){throw Br.create("fetch-parse-error",{originalErrorMessage:$?.message})}const S=D.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Br.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const M=1e3*Number(S[1]),G=Date.now();return{token:D.token,expireTimeMillis:G+M,issuedAtTimeMillis:G}})).apply(this,arguments)}function Fg(i,r){const{projectId:n,appId:o,apiKey:u}=i.options;return{url:`${Vc}/projects/${n}/apps/${o}:${J_}?key=${u}`,body:{debug_token:r}}}const CE="firebase-app-check-database",ey=1,hf="firebase-app-check-store";let Jh=null;function Xh(i,r){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,to.Z)(function*(i,r){const o=(yield function Bg(){return Jh||(Jh=new Promise((i,r)=>{try{const n=indexedDB.open(CE,ey);n.onsuccess=o=>{i(o.target.result)},n.onerror=o=>{var u;r(Br.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},n.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(hf,{keyPath:"compositeKey"})}}catch(n){r(Br.create("storage-open",{originalErrorMessage:n?.message}))}}),Jh)}()).transaction(hf,"readwrite"),h=o.objectStore(hf).put({compositeKey:i,value:r});return new Promise((y,D)=>{h.onsuccess=S=>{y()},o.onerror=S=>{var M;D(Br.create("storage-set",{originalErrorMessage:null===(M=S.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const pf=new yd.Yd("@firebase/app-check");function $g(i,r){return(0,O.hl)()?function bE(i,r){return Xh(function ny(i){return`${i.options.appId}-${i.name}`}(i),r)}(i,r).catch(n=>{pf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ep(){return ff().enabled}function tp(){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,to.Z)(function*(){const i=ff();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ry={error:"UNKNOWN_ERROR"};function ME(i){return O.US.encodeString(JSON.stringify(i),!1)}function np(i){return zg.apply(this,arguments)}function zg(){return(zg=(0,to.Z)(function*(i,r=!1){const n=i.app;Yh(n);const o=Fn(n);let h,u=o.token;if(u&&!jc(u)&&(o.token=void 0,u=void 0),!u){const S=yield o.cachedTokenPromise;S&&(jc(S)?u=S:yield $g(n,void 0))}if(!r&&u&&jc(u))return{token:u.token};let D,y=!1;if(ep()){o.exchangeTokenPromise||(o.exchangeTokenPromise=fl(Fg(n,yield tp()),i.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),y=!0);const S=yield o.exchangeTokenPromise;return yield $g(n,S),o.token=S,{token:S.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),y=!0),u=yield Fn(n).exchangeTokenPromise}catch(S){"appCheck/throttled"===S.code?pf.warn(S.message):pf.error(S),h=S}return u?h?D=jc(u)?{token:u.token,internalError:h}:sy(h):(D={token:u.token},o.token=u,yield $g(n,u)):D=sy(h),y&&function sp(i,r){const n=Fn(i).tokenObservers;for(const o of n)try{"EXTERNAL"===o.type&&null!=r.error?o.error(r.error):o.next(r)}catch{}}(n,D),D})).apply(this,arguments)}function rp(i){return gf.apply(this,arguments)}function gf(){return(gf=(0,to.Z)(function*(i){const r=i.app;Yh(r);const{provider:n}=Fn(r);if(ep()){const o=yield tp(),{token:u}=yield fl(Fg(r,o),i.heartbeatServiceProvider);return{token:u}}{const{token:o}=yield n.getToken();return{token:o}}})).apply(this,arguments)}function mf(i,r){const n=Fn(i),o=n.tokenObservers.filter(u=>u.next!==r);0===o.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=o}function iy(i){const{app:r}=i,n=Fn(r);let o=n.tokenRefresher;o||(o=function NE(i){const{app:r}=i;return new EE((0,to.Z)(function*(){let o;if(o=Fn(r).token?yield np(i,!0):yield np(i),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const n=Fn(r);if(n.token){let o=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,n.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},Hc.RETRIAL_MIN_WAIT,Hc.RETRIAL_MAX_WAIT)}(i),n.tokenRefresher=o),!o.isRunning()&&n.isTokenAutoRefreshEnabled&&o.start()}function jc(i){return i.expireTimeMillis-Date.now()>0}function sy(i){return{token:ME(ry),error:i}}class $c{constructor(r,n){this.app=r,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:r}=Fn(this.app);for(const n of r)mf(this.app,n.next);return Promise.resolve()}}const hy="app-check-internal";!function jE(){(0,no._registerComponent)(new Is.wA("app-check",i=>function OE(i,r){return new $c(i,r)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,r,n)=>{i.getProvider(hy).initialize()})),(0,no._registerComponent)(new Is.wA(hy,i=>function kE(i){return{getToken:r=>np(i,r),getLimitedUseToken:()=>rp(i),addTokenListener:r=>function ip(i,r,n,o){const{app:u}=i,h=Fn(u);if(h.tokenObservers=[...h.tokenObservers,{next:n,error:o,type:r}],h.token&&jc(h.token)){const D=h.token;Promise.resolve().then(()=>{n({token:D.token}),iy(i)}).catch(()=>{})}h.cachedTokenPromise.then(()=>iy(i))}(i,"INTERNAL",r),removeTokenListener:r=>mf(i.app,r)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,no.registerVersion)("@firebase/app-check","0.8.0")}();class Jg{constructor(){return(0,Lr.vb)("app-check")}}typeof window<"u"&&window;var KE=k(9260);const Wc=new v.OlP("angularfire2.auth.use-emulator"),_y=new v.OlP("angularfire2.auth.settings"),up=new v.OlP("angularfire2.auth.tenant-id"),po=new v.OlP("angularfire2.auth.langugage-code"),yy=new v.OlP("angularfire2.auth.use-device-language"),cp=new v.OlP("angularfire.auth.persistence"),Gc=(i,r,n,o,u,h,y,D)=>(0,rt.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const S=r.runOutsideAngular(()=>i.auth());if(n&&S.useEmulator(...n),o&&(S.tenantId=o),S.languageCode=u,h&&S.useDeviceLanguage(),y)for(const[M,G]of Object.entries(y))S.settings[M]=G;return D&&S.setPersistence(D),S},[n,o,u,h,y,D]);let vy=(()=>{class i{constructor(n,o,u,h,y,D,S,M,G,$,X,ye){const Oe=new cf.x,at=Gr(void 0).pipe((0,pn.Q)(y.outsideAngular),Dr(()=>h.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2644)))),(0,zt.U)(()=>(0,rt.on)(n,h,o)),(0,zt.U)(Ot=>Gc(Ot,h,D,M,G,$,S,X)),Mg({bufferSize:1,refCount:!1}));if(function ki(i){return"server"===i}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Gr(null);else{at.pipe(function uE(i,r){const n=arguments.length>=2;return o=>o.pipe(i?Vo((u,h)=>i(u,h,o)):Ci.y,function Z_(i){return i<=0?()=>K_.E:(0,kr.e)((r,n)=>{let o=0;r.subscribe((0,cr.x)(n,u=>{++o<=i&&(n.next(u),i<=o&&n.complete())}))})}(1),n?function Y_(i){return(0,kr.e)((r,n)=>{let o=!1;r.subscribe((0,cr.x)(n,u=>{o=!0,n.next(u)},()=>{o||n.next(i),n.complete()}))})}(r):aE(()=>new Ng))}()).subscribe();const Dt=at.pipe(Dr(jt=>jt.getRedirectResult().then(Qr=>Qr,()=>null)),Lr.iC,Mg({bufferSize:1,refCount:!1})),Qt=at.pipe(Dr(jt=>new zr.y(Qr=>({unsubscribe:h.runOutsideAngular(()=>jt.onAuthStateChanged(gu=>Qr.next(gu),gu=>Qr.error(gu),()=>Qr.complete()))})))),Bn=at.pipe(Dr(jt=>new zr.y(Qr=>({unsubscribe:h.runOutsideAngular(()=>jt.onIdTokenChanged(gu=>Qr.next(gu),gu=>Qr.error(gu),()=>Qr.complete()))}))));this.authState=Dt.pipe(Uc(Qt),(0,Og.R)(y.outsideAngular),(0,pn.Q)(y.insideAngular)),this.user=Dt.pipe(Uc(Bn),(0,Og.R)(y.outsideAngular),(0,pn.Q)(y.insideAngular)),this.idToken=this.user.pipe(Dr(jt=>jt?(0,si.D)(jt.getIdToken()):Gr(null))),this.idTokenResult=this.user.pipe(Dr(jt=>jt?(0,si.D)(jt.getIdTokenResult()):Gr(null))),this.credential=(0,Wn.T)(Dt,Oe,this.authState.pipe(Vo(jt=>!jt))).pipe((0,zt.U)(jt=>jt?.user?jt:null),(0,Og.R)(y.outsideAngular),(0,pn.Q)(y.insideAngular))}return(0,rt.pX)(this,at,h,{spy:{apply:(Ot,Dt,Qt)=>{(Ot.startsWith("signIn")||Ot.startsWith("createUser"))&&Qt.then(Bn=>Oe.next(Bn))}}})}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(rt.Dh),v.LFG(rt.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Lr.HU),v.LFG(Wc,8),v.LFG(_y,8),v.LFG(up,8),v.LFG(po,8),v.LFG(yy,8),v.LFG(cp,8),v.LFG(Jg,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function yf(i){return null==i}function Ey(i){return"function"==typeof i.set}function Iy(i,r){return Ey(r)?r:i.ref(r)}function em(i,r){if(function YE(i){return"string"==typeof i}(i))return r.stringCase();if(Ey(i))return r.firebaseCase();if(function dp(i){return"function"==typeof i.exportVal}(i))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function zc(i,r,n="on",o=pt.z){return new zr.y(u=>{let h=null;return h=i[n](r,(y,D)=>{o.schedule(()=>{u.next({snapshot:y,prevKey:D})}),"once"===n&&o.schedule(()=>u.complete())},y=>{o.schedule(()=>u.error(y))}),"on"===n?{unsubscribe(){null!=h&&i.off(r,h)}}:{unsubscribe(){}}}).pipe((0,zt.U)(u=>{const{snapshot:h,prevKey:y}=u;let D=null;return h.exists()&&(D=h.key),{type:r,payload:h,prevKey:y,key:D}}),(0,Pn.B)())}function nm(i,r){const n=i.length;for(let o=0;o<n;o++)if(i[o].payload.key===r)return o;return-1}function im(i,r){const{payload:n,prevKey:o,key:u}=r,h=nm(i,u),y=function rm(i,r){if(yf(r))return 0;{const n=nm(i,r);return-1===n?i.length:n+1}}(i,o);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let D=null;r.payload.forEach(S=>{const M={payload:S,type:"value",prevKey:D,key:S.key};return D=S.key,i=[...i,M],!1})}return i;case"child_added":if(h>-1){const D=i[h-1];(D&&D.key||null)!==o&&(i=i.filter(S=>S.payload.key!==n.key)).splice(y,0,r)}else{if(null==o)return[r,...i];(i=i.slice()).splice(y,0,r)}return i;case"child_removed":return i.filter(D=>D.payload.key!==n.key);case"child_changed":return i.map(D=>D.payload.key===u?r:D);case"child_moved":if(h>-1){const D=i.splice(h,1)[0];return(i=i.slice()).splice(y,0,D),i}return i;default:return i}}function sm(i){return(yf(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function fp(i,r,n){return function tm(i,r,n){return zc(i,"value","once",n).pipe(Dr(o=>{const u=[Gr(o)];return r.forEach(h=>u.push(zc(i,h,"on",n))),(0,Wn.T)(...u).pipe(Gn(im,[]))}),function za(i,r=Ci.y){return i=i??qu,(0,kr.e)((n,o)=>{let u,h=!0;n.subscribe((0,cr.x)(o,y=>{const D=r(y);(h||!i(u,D))&&(h=!1,u=D,o.next(y))}))})}())}(i,r=sm(r),n)}function hp(i,r,n){const o=(r=sm(r)).map(u=>zc(i,u,"on",n));return(0,Wn.T)(...o)}function wy(i,r){return function(o,u){return em(o,{stringCase:()=>i.child(o)[r](u),firebaseCase:()=>o[r](u),snapshotCase:()=>o.ref[r](u)})}}function Dy(i){return function(n){return n?em(n,{stringCase:()=>i.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):i.remove()}}function Cy(i,r){return function(){return zc(i,"value","on",r)}}const eI=new v.OlP("angularfire2.realtimeDatabaseURL"),tI=new v.OlP("angularfire2.database.use-emulator");let by=(()=>{class i{constructor(n,o,u,h,y,D,S,M,G,$,X,ye,Oe,at,Ot){this.schedulers=D;const Dt=S,Qt=(0,rt.on)(n,y,o);M&&Gc(Qt,y,G,X,ye,Oe,$,at),this.database=(0,rt.cc)(`${Qt.name}.database.${u}`,"AngularFireDatabase",Qt.name,()=>{const Bn=y.runOutsideAngular(()=>Qt.database(u||void 0));return Dt&&Bn.useEmulator(...Dt),Bn},[Dt])}list(n,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>Iy(this.database,n));let h=u;return o&&(h=o(u)),function om(i,r){const n=r.schedulers.outsideAngular,o=r.schedulers.ngZone.run(()=>i.ref);return{query:i,update:wy(o,"update"),set:wy(o,"set"),push:u=>o.push(u),remove:Dy(o),snapshotChanges:u=>fp(i,u,n).pipe(Lr.iC),stateChanges:u=>hp(i,u,n).pipe(Lr.iC),auditTrail:u=>function qE(i,r,n){return function JE(i,r,n){return function QE(i,r){return zc(i,"value","on",r).pipe((0,zt.U)(n=>{let o;return n.payload.forEach(u=>(o=u.key,!1)),{data:n,lastKeyToLoad:o}}))}(i,n).pipe(function _d(...i){const r=(0,Js.jO)(i);return(0,kr.e)((n,o)=>{const u=i.length,h=new Array(u);let y=i.map(()=>!1),D=!1;for(let S=0;S<u;S++)(0,$i.Xf)(i[S]).subscribe((0,cr.x)(o,M=>{h[S]=M,!D&&!y[S]&&(y[S]=!0,(D=y.every(Ci.y))&&(y=null))},Ka.Z));n.subscribe((0,cr.x)(o,S=>{if(D){const M=[S,...h];o.next(r?r(...M):M)}}))})}(r),(0,zt.U)(([u,h])=>{const y=u.lastKeyToLoad,D=h.map(S=>S.key);return{actions:h,lastKeyToLoad:y,loadedKeys:D}}),function zo(i){return(0,kr.e)((r,n)=>{let o=!1,u=0;r.subscribe((0,cr.x)(n,h=>(o||(o=!i(h,u++)))&&n.next(h)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,zt.U)(u=>u.actions))}(i,hp(i,r).pipe(Gn((u,h)=>[...u,h],[])),n)}(i,u,n).pipe(Lr.iC),valueChanges:(u,h)=>fp(i,u,n).pipe((0,zt.U)(D=>D.map(S=>h&&h.idField?Object.assign(Object.assign({},S.payload.val()),{[h.idField]:S.key}):S.payload.val())),Lr.iC)}}(h,this)}object(n){return function XE(i,r){return{query:i,snapshotChanges:()=>Cy(i,r.schedulers.outsideAngular)().pipe(Lr.iC),update:n=>i.ref.update(n),set:n=>i.ref.set(n),remove:()=>i.ref.remove(),valueChanges:()=>Cy(i,r.schedulers.outsideAngular)().pipe(Lr.iC,(0,zt.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Iy(this.database,n)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(rt.Dh),v.LFG(rt.xv,8),v.LFG(eI,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(Lr.HU),v.LFG(tI,8),v.LFG(vy,8),v.LFG(Wc,8),v.LFG(_y,8),v.LFG(up,8),v.LFG(po,8),v.LFG(yy,8),v.LFG(cp,8),v.LFG(Jg,8))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Ty=(()=>{class i{constructor(){KE.Z.registerVersion("angularfire",Lr.q4.full,"rtdb-compat")}}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=v.oAB({type:i}),i.\u0275inj=v.cJS({providers:[by]}),i})();const Sy_firebaseConfig={apiKey:"AIzaSyCO4wQGmqSL0m3qMlBbPJzQK0xxPKAdmvM",authDomain:"spleetee.firebaseapp.com",databaseURL:"https://spleetee-default-rtdb.firebaseio.com",projectId:"spleetee",storageBucket:"spleetee.appspot.com",messagingSenderId:"378403952066",appId:"1:378403952066:web:edc68ae8a40c336a25325b",measurementId:"G-6ZPW622X6Z"};let am=(()=>{class i{constructor(n){this.db=n,this.jobkey="",this.key=""}getKey(){return this.key}getJobByKey(n){this.setJobKey(n),this.currentJob=this.db.object(`jobs/${n}`).valueChanges(),this.currentJob.pipe((0,zt.U)(o=>o.progress)).subscribe(o=>this.progress=o),this.currentJob.pipe((0,zt.U)(o=>o.key)).subscribe(o=>this.key=n)}setJobKey(n){this.jobkey=n}}return i.\u0275fac=function(n){return new(n||i)(v.LFG(by))},i.\u0275prov=v.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ay=k(4327);function nI(i,r){if(1&i){const n=v.EpF();v.TgZ(0,"input",2),v.NdJ("change",function(u){v.CHM(n);const h=v.oxw();return v.KtG(h.onFileSelected(u))}),v.qZA()}}function qr(i,r){if(1&i&&(v.TgZ(0,"div"),v._uU(1),v._UZ(2,"progress",3),v.qZA()),2&i){const n=v.oxw();v.xp6(1),v.hij(" Upload Progress: ",n.uploadProgress,"% "),v.xp6(1),v.Q6J("value",n.uploadProgress)}}let Kc=(()=>{class i{constructor(n,o){this.http=n,this.jobService=o,this.uploadProgress=0,this.uploadComplete=!1}onFileSelected(n){const o=n.target;if(o.files&&o.files.length>0){const u=o.files[0],h=new FormData;h.append("file",u,u.name),this.http.post("/upload",h,{reportProgress:!0,observe:"events"}).subscribe(y=>{switch(y.type){case sn.UploadProgress:y.total&&(this.uploadProgress=Math.round(100*y.loaded/y.total));break;case sn.Response:this.uploadComplete=!0;const D=y.body;console.log(D.key,y.body),this.jobService.getJobByKey(D.key)}})}}}return i.\u0275fac=function(n){return new(n||i)(v.Y36(Wl),v.Y36(am))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-file-upload"]],decls:2,vars:2,consts:[["type","file",3,"change",4,"ngIf"],[4,"ngIf"],["type","file",3,"change"],["max","100",3,"value"]],template:function(n,o){1&n&&(v.YNc(0,nI,1,0,"input",0),v.YNc(1,qr,3,2,"div",1)),2&n&&(v.Q6J("ngIf",!o.uploadComplete),v.xp6(1),v.Q6J("ngIf",o.uploadProgress&&!o.uploadComplete))},dependencies:[fi]}),i})();function rI(i,r){1&i&&(v.TgZ(0,"p"),v._UZ(1,"app-file-upload"),v.qZA())}function iI(i,r){if(1&i&&(v.TgZ(0,"p",4),v._uU(1),v.qZA()),2&i){const n=v.oxw();v.xp6(1),v.Oqu(n.progress)}}function GI(i,r){if(1&i){const n=v.EpF();v.TgZ(0,"p",4)(1,"button",5),v.NdJ("click",function(){v.CHM(n);const u=v.oxw();return v.KtG(u.downloadFile())}),v._uU(2,"Download"),v.qZA()()}}let zI=(()=>{class i{constructor(n,o){this.http=n,this.jobService=o,this.progress="ready",this.key=""}downloadFile(){let n=this.jobService.getKey();this.http.get(`/download/${n}`,{responseType:"blob"}).subscribe(u=>{(0,Ay.saveAs)(u,`${n}.zip`)})}}return i.\u0275fac=function(n){return new(n||i)(v.Y36(Wl),v.Y36(am))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-spleeter"]],inputs:{progress:"progress",key:"key"},decls:5,vars:3,consts:[[1,"card","text-center"],[1,"card-body"],[4,"ngIf"],["class","card-text",4,"ngIf"],[1,"card-text"],[1,"btn","btn-success",3,"click"]],template:function(n,o){1&n&&(v.TgZ(0,"div",0)(1,"div",1),v.YNc(2,rI,2,0,"p",2),v.YNc(3,iI,2,1,"p",3),v.YNc(4,GI,3,0,"p",3),v.qZA()()),2&n&&(v.xp6(2),v.Q6J("ngIf",!o.progress),v.xp6(1),v.Q6J("ngIf","complete"!=o.progress),v.xp6(1),v.Q6J("ngIf","complete"==o.progress))},dependencies:[fi,Kc],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]}),i})(),Ry=(()=>{class i{constructor(n){this.jobService=n,this.jobData={}}ngOnInit(){}}return i.\u0275fac=function(n){return new(n||i)(v.Y36(am))},i.\u0275cmp=v.Xpm({type:i,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"px-4","py-5","my-5","text-center"],[1,"col-lg-6","mx-auto"],[3,"progress"]],template:function(n,o){1&n&&(v.TgZ(0,"div",0)(1,"div",1),v._UZ(2,"app-spleeter",2),v.qZA()()),2&n&&(v.xp6(2),v.Q6J("progress",o.jobService.progress))},dependencies:[zI]}),i})(),Py=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=v.oAB({type:i,bootstrap:[Ry]}),i.\u0275inj=v.cJS({imports:[qs,Ue,rt.hO.initializeApp(Sy_firebaseConfig),Ty]}),i})();Pl().bootstrapModule(Py).catch(i=>console.error(i))},4327:function(st,be){var k,q;void 0!==(q="function"==typeof(k=function(){"use strict";function se(B,F,K){var Se=new XMLHttpRequest;Se.open("GET",B),Se.responseType="blob",Se.onload=function(){pe(Se.response,F,K)},Se.onerror=function(){console.error("could not download file")},Se.send()}function te(B){var F=new XMLHttpRequest;F.open("HEAD",B,!1);try{F.send()}catch{}return 200<=F.status&&299>=F.status}function ie(B){try{B.dispatchEvent(new MouseEvent("click"))}catch{var F=document.createEvent("MouseEvents");F.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),B.dispatchEvent(F)}}var fe="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ge=fe.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),pe=fe.saveAs||("object"!=typeof window||window!==fe?function(){}:"download"in HTMLAnchorElement.prototype&&!ge?function(B,F,K){var Se=fe.URL||fe.webkitURL,Ie=document.createElement("a");Ie.download=F=F||B.name||"download",Ie.rel="noopener","string"==typeof B?(Ie.href=B,Ie.origin===location.origin?ie(Ie):te(Ie.href)?se(B,F,K):ie(Ie,Ie.target="_blank")):(Ie.href=Se.createObjectURL(B),setTimeout(function(){Se.revokeObjectURL(Ie.href)},4e4),setTimeout(function(){ie(Ie)},0))}:"msSaveOrOpenBlob"in navigator?function(B,F,K){if(F=F||B.name||"download","string"!=typeof B)navigator.msSaveOrOpenBlob(function N(B,F){return typeof F>"u"?F={autoBom:!1}:"object"!=typeof F&&(console.warn("Deprecated: Expected third argument to be a object"),F={autoBom:!F}),F.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(B.type)?new Blob(["\ufeff",B],{type:B.type}):B}(B,K),F);else if(te(B))se(B,F,K);else{var Se=document.createElement("a");Se.href=B,Se.target="_blank",setTimeout(function(){ie(Se)})}}:function(B,F,K,Se){if((Se=Se||open("","_blank"))&&(Se.document.title=Se.document.body.innerText="downloading..."),"string"==typeof B)return se(B,F,K);var Ie="application/octet-stream"===B.type,ct=/constructor/i.test(fe.HTMLElement)||fe.safari,He=/CriOS\/[\d]+/.test(navigator.userAgent);if((He||Ie&&ct||ge)&&typeof FileReader<"u"){var ae=new FileReader;ae.onloadend=function(){var Pe=ae.result;Pe=He?Pe:Pe.replace(/^data:[^;]*;/,"data:attachment/file;"),Se?Se.location.href=Pe:location=Pe,Se=null},ae.readAsDataURL(B)}else{var Re=fe.URL||fe.webkitURL,we=Re.createObjectURL(B);Se?Se.location=we:location.href=we,Se=null,setTimeout(function(){Re.revokeObjectURL(we)},4e4)}});fe.saveAs=pe.saveAs=pe,st.exports=pe})?k.apply(be,[]):k)&&(st.exports=q)},8306:(st,be,k)=>{"use strict";k.d(be,{y:()=>B});var v=k(930),q=k(727),N=k(8822),se=k(4671);var fe=k(2416),ge=k(576),pe=k(2806);let B=(()=>{class Ie{constructor(He){He&&(this._subscribe=He)}lift(He){const ae=new Ie;return ae.source=this,ae.operator=He,ae}subscribe(He,ae,Re){const we=function Se(Ie){return Ie&&Ie instanceof v.Lv||function K(Ie){return Ie&&(0,ge.m)(Ie.next)&&(0,ge.m)(Ie.error)&&(0,ge.m)(Ie.complete)}(Ie)&&(0,q.Nn)(Ie)}(He)?He:new v.Hp(He,ae,Re);return(0,pe.x)(()=>{const{operator:Pe,source:Te}=this;we.add(Pe?Pe.call(we,Te):Te?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(He){try{return this._subscribe(He)}catch(ae){He.error(ae)}}forEach(He,ae){return new(ae=F(ae))((Re,we)=>{const Pe=new v.Hp({next:Te=>{try{He(Te)}catch(me){we(me),Pe.unsubscribe()}},error:we,complete:Re});this.subscribe(Pe)})}_subscribe(He){var ae;return null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(He)}[N.L](){return this}pipe(...He){return function ie(Ie){return 0===Ie.length?se.y:1===Ie.length?Ie[0]:function(He){return Ie.reduce((ae,Re)=>Re(ae),He)}}(He)(this)}toPromise(He){return new(He=F(He))((ae,Re)=>{let we;this.subscribe(Pe=>we=Pe,Pe=>Re(Pe),()=>ae(we))})}}return Ie.create=ct=>new Ie(ct),Ie})();function F(Ie){var ct;return null!==(ct=Ie??fe.v.Promise)&&void 0!==ct?ct:Promise}},7579:(st,be,k)=>{"use strict";k.d(be,{x:()=>fe});var v=k(8306),q=k(727);const se=(0,k(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=k(8737),ie=k(2806);let fe=(()=>{class pe extends v.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const K=new ge(this,this);return K.operator=F,K}_throwIfClosed(){if(this.closed)throw new se}next(F){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(F)}})}error(F){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:K}=this;for(;K.length;)K.shift().error(F)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:K,isStopped:Se,observers:Ie}=this;return K||Se?q.Lc:(this.currentObservers=null,Ie.push(F),new q.w0(()=>{this.currentObservers=null,(0,te.P)(Ie,F)}))}_checkFinalizedStatuses(F){const{hasError:K,thrownError:Se,isStopped:Ie}=this;K?F.error(Se):Ie&&F.complete()}asObservable(){const F=new v.y;return F.source=this,F}}return pe.create=(B,F)=>new ge(B,F),pe})();class ge extends fe{constructor(B,F){super(),this.destination=B,this.source=F}next(B){var F,K;null===(K=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===K||K.call(F,B)}error(B){var F,K;null===(K=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===K||K.call(F,B)}complete(){var B,F;null===(F=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===F||F.call(B)}_subscribe(B){var F,K;return null!==(K=null===(F=this.source)||void 0===F?void 0:F.subscribe(B))&&void 0!==K?K:q.Lc}}},930:(st,be,k)=>{"use strict";k.d(be,{Hp:()=>He,Lv:()=>K});var v=k(576),q=k(727),N=k(2416),se=k(7849),te=k(5032);const ie=pe("C",void 0,void 0);function pe(Te,me,ve){return{kind:Te,value:me,error:ve}}var B=k(3410),F=k(2806);class K extends q.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,q.Nn)(me)&&me.add(this)):this.destination=Pe}static create(me,ve,Be){return new He(me,ve,Be)}next(me){this.isStopped?we(function ge(Te){return pe("N",Te,void 0)}(me),this):this._next(me)}error(me){this.isStopped?we(function fe(Te){return pe("E",void 0,Te)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?we(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function Ie(Te,me){return Se.call(Te,me)}class ct{constructor(me){this.partialObserver=me}next(me){const{partialObserver:ve}=this;if(ve.next)try{ve.next(me)}catch(Be){ae(Be)}}error(me){const{partialObserver:ve}=this;if(ve.error)try{ve.error(me)}catch(Be){ae(Be)}else ae(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(ve){ae(ve)}}}class He extends K{constructor(me,ve,Be){let Me;if(super(),(0,v.m)(me)||!me)Me={next:me??void 0,error:ve??void 0,complete:Be??void 0};else{let Ke;this&&N.v.useDeprecatedNextContext?(Ke=Object.create(me),Ke.unsubscribe=()=>this.unsubscribe(),Me={next:me.next&&Ie(me.next,Ke),error:me.error&&Ie(me.error,Ke),complete:me.complete&&Ie(me.complete,Ke)}):Me=me}this.destination=new ct(Me)}}function ae(Te){N.v.useDeprecatedSynchronousErrorHandling?(0,F.O)(Te):(0,se.h)(Te)}function we(Te,me){const{onStoppedNotification:ve}=N.v;ve&&B.z.setTimeout(()=>ve(Te,me))}const Pe={closed:!0,next:te.Z,error:function Re(Te){throw Te},complete:te.Z}},727:(st,be,k)=>{"use strict";k.d(be,{Lc:()=>ie,w0:()=>te,Nn:()=>fe});var v=k(576);const N=(0,k(3888).d)(pe=>function(F){pe(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((K,Se)=>`${Se+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var se=k(8737);class te{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const Ie of F)Ie.remove(this);else F.remove(this);const{initialTeardown:K}=this;if((0,v.m)(K))try{K()}catch(Ie){B=Ie instanceof N?Ie.errors:[Ie]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const Ie of Se)try{ge(Ie)}catch(ct){B=B??[],ct instanceof N?B=[...B,...ct.errors]:B.push(ct)}}if(B)throw new N(B)}}add(B){var F;if(B&&B!==this)if(this.closed)ge(B);else{if(B instanceof te){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(B)}}_hasParent(B){const{_parentage:F}=this;return F===B||Array.isArray(F)&&F.includes(B)}_addParent(B){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(B),F):F?[F,B]:B}_removeParent(B){const{_parentage:F}=this;F===B?this._parentage=null:Array.isArray(F)&&(0,se.P)(F,B)}remove(B){const{_finalizers:F}=this;F&&(0,se.P)(F,B),B instanceof te&&B._removeParent(this)}}te.EMPTY=(()=>{const pe=new te;return pe.closed=!0,pe})();const ie=te.EMPTY;function fe(pe){return pe instanceof te||pe&&"closed"in pe&&(0,v.m)(pe.remove)&&(0,v.m)(pe.add)&&(0,v.m)(pe.unsubscribe)}function ge(pe){(0,v.m)(pe)?pe():pe.unsubscribe()}},2416:(st,be,k)=>{"use strict";k.d(be,{v:()=>v});const v={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,be,k)=>{"use strict";k.d(be,{E:()=>q});const q=new(k(8306).y)(te=>te.complete())},8996:(st,be,k)=>{"use strict";k.d(be,{D:()=>me});var v=k(8421),q=k(5363),N=k(9468),ie=k(8306),ge=k(2202),pe=k(576),B=k(9672);function K(ve,Be){if(!ve)throw new Error("Iterable cannot be null");return new ie.y(Me=>{(0,B.f)(Me,Be,()=>{const Ke=ve[Symbol.asyncIterator]();(0,B.f)(Me,Be,()=>{Ke.next().then(ee=>{ee.done?Me.complete():Me.next(ee.value)})},0,!0)})})}var Se=k(3670),Ie=k(8239),ct=k(1144),He=k(6495),ae=k(2206),Re=k(4532),we=k(3260);function me(ve,Be){return Be?function Te(ve,Be){if(null!=ve){if((0,Se.c)(ve))return function se(ve,Be){return(0,v.Xf)(ve).pipe((0,N.R)(Be),(0,q.Q)(Be))}(ve,Be);if((0,ct.z)(ve))return function fe(ve,Be){return new ie.y(Me=>{let Ke=0;return Be.schedule(function(){Ke===ve.length?Me.complete():(Me.next(ve[Ke++]),Me.closed||this.schedule())})})}(ve,Be);if((0,Ie.t)(ve))return function te(ve,Be){return(0,v.Xf)(ve).pipe((0,N.R)(Be),(0,q.Q)(Be))}(ve,Be);if((0,ae.D)(ve))return K(ve,Be);if((0,He.T)(ve))return function F(ve,Be){return new ie.y(Me=>{let Ke;return(0,B.f)(Me,Be,()=>{Ke=ve[ge.h](),(0,B.f)(Me,Be,()=>{let ee,lt;try{({value:ee,done:lt}=Ke.next())}catch(ze){return void Me.error(ze)}lt?Me.complete():Me.next(ee)},0,!0)}),()=>(0,pe.m)(Ke?.return)&&Ke.return()})}(ve,Be);if((0,we.L)(ve))return function Pe(ve,Be){return K((0,we.Q)(ve),Be)}(ve,Be)}throw(0,Re.z)(ve)}(ve,Be):(0,v.Xf)(ve)}},8421:(st,be,k)=>{"use strict";k.d(be,{Xf:()=>Se});var v=k(7582),q=k(1144),N=k(8239),se=k(8306),te=k(3670),ie=k(2206),fe=k(4532),ge=k(6495),pe=k(3260),B=k(576),F=k(7849),K=k(8822);function Se(Te){if(Te instanceof se.y)return Te;if(null!=Te){if((0,te.c)(Te))return function Ie(Te){return new se.y(me=>{const ve=Te[K.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,q.z)(Te))return function ct(Te){return new se.y(me=>{for(let ve=0;ve<Te.length&&!me.closed;ve++)me.next(Te[ve]);me.complete()})}(Te);if((0,N.t)(Te))return function He(Te){return new se.y(me=>{Te.then(ve=>{me.closed||(me.next(ve),me.complete())},ve=>me.error(ve)).then(null,F.h)})}(Te);if((0,ie.D)(Te))return Re(Te);if((0,ge.T)(Te))return function ae(Te){return new se.y(me=>{for(const ve of Te)if(me.next(ve),me.closed)return;me.complete()})}(Te);if((0,pe.L)(Te))return function we(Te){return Re((0,pe.Q)(Te))}(Te)}throw(0,fe.z)(Te)}function Re(Te){return new se.y(me=>{(function Pe(Te,me){var ve,Be,Me,Ke;return(0,v.mG)(this,void 0,void 0,function*(){try{for(ve=(0,v.KL)(Te);!(Be=yield ve.next()).done;)if(me.next(Be.value),me.closed)return}catch(ee){Me={error:ee}}finally{try{Be&&!Be.done&&(Ke=ve.return)&&(yield Ke.call(ve))}finally{if(Me)throw Me.error}}me.complete()})})(Te,me).catch(ve=>me.error(ve))})}},266:(st,be,k)=>{"use strict";k.d(be,{T:()=>ge});var v=k(5577),q=k(4671),se=k(8421),te=k(515),ie=k(7669),fe=k(8996);function ge(...pe){const B=(0,ie.yG)(pe),F=(0,ie._6)(pe,1/0),K=pe;return K.length?1===K.length?(0,se.Xf)(K[0]):function N(pe=1/0){return(0,v.z)(q.y,pe)}(F)((0,fe.D)(K,B)):te.E}},5403:(st,be,k)=>{"use strict";k.d(be,{x:()=>q});var v=k(930);function q(se,te,ie,fe,ge){return new N(se,te,ie,fe,ge)}class N extends v.Lv{constructor(te,ie,fe,ge,pe,B){super(te),this.onFinalize=pe,this.shouldUnsubscribe=B,this._next=ie?function(F){try{ie(F)}catch(K){te.error(K)}}:super._next,this._error=ge?function(F){try{ge(F)}catch(K){te.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(F){te.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(st,be,k)=>{"use strict";k.d(be,{U:()=>N});var v=k(4482),q=k(5403);function N(se,te){return(0,v.e)((ie,fe)=>{let ge=0;ie.subscribe((0,q.x)(fe,pe=>{fe.next(se.call(te,pe,ge++))}))})}},5577:(st,be,k)=>{"use strict";k.d(be,{z:()=>ge});var v=k(4004),q=k(8421),N=k(4482),se=k(9672),te=k(5403),fe=k(576);function ge(pe,B,F=1/0){return(0,fe.m)(B)?ge((K,Se)=>(0,v.U)((Ie,ct)=>B(K,Ie,Se,ct))((0,q.Xf)(pe(K,Se))),F):("number"==typeof B&&(F=B),(0,N.e)((K,Se)=>function ie(pe,B,F,K,Se,Ie,ct,He){const ae=[];let Re=0,we=0,Pe=!1;const Te=()=>{Pe&&!ae.length&&!Re&&B.complete()},me=Be=>Re<K?ve(Be):ae.push(Be),ve=Be=>{Ie&&B.next(Be),Re++;let Me=!1;(0,q.Xf)(F(Be,we++)).subscribe((0,te.x)(B,Ke=>{Se?.(Ke),Ie?me(Ke):B.next(Ke)},()=>{Me=!0},void 0,()=>{if(Me)try{for(Re--;ae.length&&Re<K;){const Ke=ae.shift();ct?(0,se.f)(B,ct,()=>ve(Ke)):ve(Ke)}Te()}catch(Ke){B.error(Ke)}}))};return pe.subscribe((0,te.x)(B,me,()=>{Pe=!0,Te()})),()=>{He?.()}}(K,Se,pe,F)))}},5363:(st,be,k)=>{"use strict";k.d(be,{Q:()=>se});var v=k(9672),q=k(4482),N=k(5403);function se(te,ie=0){return(0,q.e)((fe,ge)=>{fe.subscribe((0,N.x)(ge,pe=>(0,v.f)(ge,te,()=>ge.next(pe),ie),()=>(0,v.f)(ge,te,()=>ge.complete(),ie),pe=>(0,v.f)(ge,te,()=>ge.error(pe),ie)))})}},3099:(st,be,k)=>{"use strict";k.d(be,{B:()=>te});var v=k(8421),q=k(7579),N=k(930),se=k(4482);function te(fe={}){const{connector:ge=(()=>new q.x),resetOnError:pe=!0,resetOnComplete:B=!0,resetOnRefCountZero:F=!0}=fe;return K=>{let Se,Ie,ct,He=0,ae=!1,Re=!1;const we=()=>{Ie?.unsubscribe(),Ie=void 0},Pe=()=>{we(),Se=ct=void 0,ae=Re=!1},Te=()=>{const me=Se;Pe(),me?.unsubscribe()};return(0,se.e)((me,ve)=>{He++,!Re&&!ae&&we();const Be=ct=ct??ge();ve.add(()=>{He--,0===He&&!Re&&!ae&&(Ie=ie(Te,F))}),Be.subscribe(ve),!Se&&He>0&&(Se=new N.Hp({next:Me=>Be.next(Me),error:Me=>{Re=!0,we(),Ie=ie(Pe,pe,Me),Be.error(Me)},complete:()=>{ae=!0,we(),Ie=ie(Pe,B),Be.complete()}}),(0,v.Xf)(me).subscribe(Se))})(K)}}function ie(fe,ge,...pe){if(!0===ge)return void fe();if(!1===ge)return;const B=new N.Hp({next:()=>{B.unsubscribe(),fe()}});return(0,v.Xf)(ge(...pe)).subscribe(B)}},9468:(st,be,k)=>{"use strict";k.d(be,{R:()=>q});var v=k(4482);function q(N,se=0){return(0,v.e)((te,ie)=>{ie.add(N.schedule(()=>te.subscribe(ie),se))})}},4408:(st,be,k)=>{"use strict";k.d(be,{o:()=>te});var v=k(727);class q extends v.w0{constructor(fe,ge){super()}schedule(fe,ge=0){return this}}const N={setInterval(ie,fe,...ge){const{delegate:pe}=N;return pe?.setInterval?pe.setInterval(ie,fe,...ge):setInterval(ie,fe,...ge)},clearInterval(ie){const{delegate:fe}=N;return(fe?.clearInterval||clearInterval)(ie)},delegate:void 0};var se=k(8737);class te extends q{constructor(fe,ge){super(fe,ge),this.scheduler=fe,this.work=ge,this.pending=!1}schedule(fe,ge=0){var pe;if(this.closed)return this;this.state=fe;const B=this.id,F=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(F,B,ge)),this.pending=!0,this.delay=ge,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(F,this.id,ge),this}requestAsyncId(fe,ge,pe=0){return N.setInterval(fe.flush.bind(fe,this),pe)}recycleAsyncId(fe,ge,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ge;null!=ge&&N.clearInterval(ge)}execute(fe,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(fe,ge);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ge){let B,pe=!1;try{this.work(fe)}catch(F){pe=!0,B=F||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ge}=this,{actions:pe}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(pe,this),null!=fe&&(this.id=this.recycleAsyncId(ge,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,be,k)=>{"use strict";k.d(be,{v:()=>N});var v=k(6063);class q{constructor(te,ie=q.now){this.schedulerActionCtor=te,this.now=ie}schedule(te,ie=0,fe){return new this.schedulerActionCtor(this,te).schedule(fe,ie)}}q.now=v.l.now;class N extends q{constructor(te,ie=q.now){super(te,ie),this.actions=[],this._active=!1}flush(te){const{actions:ie}=this;if(this._active)return void ie.push(te);let fe;this._active=!0;do{if(fe=te.execute(te.state,te.delay))break}while(te=ie.shift());if(this._active=!1,fe){for(;te=ie.shift();)te.unsubscribe();throw fe}}}},4986:(st,be,k)=>{"use strict";k.d(be,{z:()=>N});var v=k(4408);const N=new(k(7565).v)(v.o)},6063:(st,be,k)=>{"use strict";k.d(be,{l:()=>v});const v={now:()=>(v.delegate||Date).now(),delegate:void 0}},3410:(st,be,k)=>{"use strict";k.d(be,{z:()=>v});const v={setTimeout(q,N,...se){const{delegate:te}=v;return te?.setTimeout?te.setTimeout(q,N,...se):setTimeout(q,N,...se)},clearTimeout(q){const{delegate:N}=v;return(N?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(st,be,k)=>{"use strict";k.d(be,{h:()=>q});const q=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,be,k)=>{"use strict";k.d(be,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(st,be,k)=>{"use strict";k.d(be,{_6:()=>ie,jO:()=>se,yG:()=>te});var v=k(576);function N(fe){return fe[fe.length-1]}function se(fe){return(0,v.m)(N(fe))?fe.pop():void 0}function te(fe){return function q(fe){return fe&&(0,v.m)(fe.schedule)}(N(fe))?fe.pop():void 0}function ie(fe,ge){return"number"==typeof N(fe)?fe.pop():ge}},8737:(st,be,k)=>{"use strict";function v(q,N){if(q){const se=q.indexOf(N);0<=se&&q.splice(se,1)}}k.d(be,{P:()=>v})},3888:(st,be,k)=>{"use strict";function v(q){const se=q(te=>{Error.call(te),te.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}k.d(be,{d:()=>v})},2806:(st,be,k)=>{"use strict";k.d(be,{O:()=>se,x:()=>N});var v=k(2416);let q=null;function N(te){if(v.v.useDeprecatedSynchronousErrorHandling){const ie=!q;if(ie&&(q={errorThrown:!1,error:null}),te(),ie){const{errorThrown:fe,error:ge}=q;if(q=null,fe)throw ge}}else te()}function se(te){v.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=te)}},9672:(st,be,k)=>{"use strict";function v(q,N,se,te=0,ie=!1){const fe=N.schedule(function(){se(),ie?q.add(this.schedule(null,te)):this.unsubscribe()},te);if(q.add(fe),!ie)return fe}k.d(be,{f:()=>v})},4671:(st,be,k)=>{"use strict";function v(q){return q}k.d(be,{y:()=>v})},1144:(st,be,k)=>{"use strict";k.d(be,{z:()=>v});const v=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(st,be,k)=>{"use strict";k.d(be,{D:()=>q});var v=k(576);function q(N){return Symbol.asyncIterator&&(0,v.m)(N?.[Symbol.asyncIterator])}},576:(st,be,k)=>{"use strict";function v(q){return"function"==typeof q}k.d(be,{m:()=>v})},3670:(st,be,k)=>{"use strict";k.d(be,{c:()=>N});var v=k(8822),q=k(576);function N(se){return(0,q.m)(se[v.L])}},6495:(st,be,k)=>{"use strict";k.d(be,{T:()=>N});var v=k(2202),q=k(576);function N(se){return(0,q.m)(se?.[v.h])}},8239:(st,be,k)=>{"use strict";k.d(be,{t:()=>q});var v=k(576);function q(N){return(0,v.m)(N?.then)}},3260:(st,be,k)=>{"use strict";k.d(be,{L:()=>se,Q:()=>N});var v=k(7582),q=k(576);function N(te){return(0,v.FC)(this,arguments,function*(){const fe=te.getReader();try{for(;;){const{value:ge,done:pe}=yield(0,v.qq)(fe.read());if(pe)return yield(0,v.qq)(void 0);yield yield(0,v.qq)(ge)}}finally{fe.releaseLock()}})}function se(te){return(0,q.m)(te?.getReader)}},4482:(st,be,k)=>{"use strict";k.d(be,{e:()=>N});var v=k(576);function N(se){return te=>{if(function q(se){return(0,v.m)(se?.lift)}(te))return te.lift(function(ie){try{return se(ie,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,be,k)=>{"use strict";function v(){}k.d(be,{Z:()=>v})},7849:(st,be,k)=>{"use strict";k.d(be,{h:()=>N});var v=k(2416),q=k(3410);function N(se){q.z.setTimeout(()=>{const{onUnhandledError:te}=v.v;if(!te)throw se;te(se)})}},4532:(st,be,k)=>{"use strict";function v(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(be,{z:()=>v})},4650:(st,be,k)=>{"use strict";k.d(be,{$8M:()=>Ys,AFp:()=>s0,AaK:()=>ge,CHM:()=>To,CZH:()=>Ny,EJc:()=>K0,EpF:()=>t_,F4k:()=>yg,FYo:()=>th,FiY:()=>wr,GfV:()=>kp,JOm:()=>xr,KtG:()=>So,LFG:()=>Ft,Lbi:()=>G0,Lck:()=>kE,MR2:()=>Kt,NdJ:()=>Oh,OlP:()=>Rt,Oqu:()=>Sg,Q6J:()=>ui,QGY:()=>_g,Qsj:()=>Wy,R0b:()=>go,RDi:()=>Bf,Rgc:()=>Gc,SBq:()=>kd,TTD:()=>_l,TgZ:()=>fu,X6Q:()=>fw,Xpm:()=>Hr,Y36:()=>As,YNc:()=>Rc,Yjl:()=>Et,Yz7:()=>Je,ZZ4:()=>_I,_UZ:()=>Zr,_c5:()=>Aw,_uU:()=>D_,aQg:()=>yI,cJS:()=>Xe,cg1:()=>Pg,dDg:()=>rw,dqk:()=>kt,eFA:()=>_0,eoX:()=>p0,f3M:()=>dn,g9A:()=>a0,h0i:()=>$c,hGG:()=>Rw,hij:()=>jh,ifc:()=>he,ip1:()=>r0,kL8:()=>W_,lG2:()=>ot,lqb:()=>il,lri:()=>f0,oAB:()=>J,oxw:()=>xh,q4F:()=>nu,qLn:()=>xd,qZA:()=>tf,rWj:()=>h0,sBO:()=>hw,s_b:()=>yf,soG:()=>Oy,vHH:()=>ae,wAp:()=>Ye,xp6:()=>Up,zSh:()=>Pd,zs3:()=>iu});var v=k(7579),q=k(727),N=k(8306),se=k(266),te=k(3099);function ie(e){for(let t in e)if(e[t]===ie)return t;throw Error("Could not find renamed property on target object.")}function ge(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ge).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const s=t.indexOf("\n");return-1===s?t:t.substring(0,s)}function pe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const B=ie({__forward_ref__:ie});function F(e){return e.__forward_ref__=F,e.toString=function(){return ge(this())},e}function K(e){return function Se(e){return"function"==typeof e&&e.hasOwnProperty(B)&&e.__forward_ref__===F}(e)?e():e}function Ie(e){return e&&!!e.\u0275providers}class ae extends Error{constructor(t,s){super(Re(t,s)),this.code=t}}function Re(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function we(e){return"string"==typeof e?e:null==e?"":String(e)}function Be(e,t){throw new ae(-201,!1)}function de(e,t){null==e&&function ne(e,t,s,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${s} ${a} ${t} <=Actual]`))}(t,e,null,"!=")}function Je(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Xe(e){return{providers:e.providers||[],imports:e.imports||[]}}function bt(e){return Wt(e,cn)||Wt(e,gr)}function Wt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Cn(e){return e&&(e.hasOwnProperty(qn)||e.hasOwnProperty(Un))?e[qn]:null}const cn=ie({\u0275prov:ie}),qn=ie({\u0275inj:ie}),gr=ie({ngInjectableDef:ie}),Un=ie({ngInjectorDef:ie});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let mr;function Vn(e){const t=mr;return mr=e,t}function ir(e,t,s){const a=bt(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&it.Optional?null:void 0!==t?t:void Be(ge(e))}const kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tr={},_r="__NG_DI_FLAG__",bn="ngTempTokenPath",Qn="ngTokenPath",rn=/\n/gm,sr="\u0275",Ut="__source";let di;function Tt(e){const t=di;return di=e,t}function Xr(e,t=it.Default){if(void 0===di)throw new ae(-203,!1);return null===di?ir(e,void 0,t):di.get(e,t&it.Optional?null:void 0,t)}function Ft(e,t=it.Default){return(function hl(){return mr}()||Xr)(K(e),t)}function dn(e,t=it.Default){return Ft(e,vn(t))}function vn(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ur(e){const t=[];for(let s=0;s<e.length;s++){const a=K(e[s]);if(Array.isArray(a)){if(0===a.length)throw new ae(900,!1);let l,f=it.Default;for(let g=0;g<a.length;g++){const E=a[g],w=Vr(E);"number"==typeof w?-1===w?l=E.token:f|=w:l=E}t.push(Ft(l,f))}else t.push(Ft(a))}return t}function Jt(e,t){return e[_r]=t,e.prototype[_r]=t,e}function Vr(e){return e[_r]}function L(e){return{toString:e}.toString()}var j=(()=>((j=j||{})[j.OnPush=0]="OnPush",j[j.Default=1]="Default",j))(),he=(()=>{return(e=he||(he={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",he;var e})();const Y={},ke=[],ut=ie({\u0275cmp:ie}),Pt=ie({\u0275dir:ie}),gn=ie({\u0275pipe:ie}),en=ie({\u0275mod:ie}),Bt=ie({\u0275fac:ie}),Ct=ie({__NG_ELEMENT_ID__:ie});let Jn=0;function Hr(e){return L(()=>{const t=ua(e),s={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||he.Emulated,id:"c"+Jn++,styles:e.styles||ke,_:null,schemas:e.schemas||null,tView:null};Yc(s);const a=e.dependencies;return s.directiveDefs=Yi(a,!1),s.pipeDefs=Yi(a,!0),s})}function mo(e){return nt(e)||xt(e)}function ue(e){return null!==e}function J(e){return L(()=>({type:e.type,bootstrap:e.bootstrap||ke,declarations:e.declarations||ke,imports:e.imports||ke,exports:e.exports||ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function et(e,t){if(null==e)return Y;const s={};for(const a in e)if(e.hasOwnProperty(a)){let l=e[a],f=l;Array.isArray(l)&&(f=l[1],l=l[0]),s[l]=a,t&&(t[l]=f)}return s}function ot(e){return L(()=>{const t=ua(e);return Yc(t),t})}function Et(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function nt(e){return e[ut]||null}function xt(e){return e[Pt]||null}function Mt(e){return e[gn]||null}function ua(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||ke,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:et(e.inputs,t),outputs:et(e.outputs)}}function Yc(e){e.features?.forEach(t=>t(e))}function Yi(e,t){if(!e)return null;const s=t?Mt:mo;return()=>("function"==typeof e?e():e).map(a=>s(a)).filter(ue)}const Ar=0,Ve=1,mt=2,Xt=3,Rr=4,Vt=5,In=6,_o=7,fn=8,yo=9,fi=10,vt=11,vo=12,qi=13,hi=14,Qi=15,mn=16,Ls=17,pi=18,ti=19,Fs=20,jn=21,Gt=22,Eo=1,pl=2,Bs=7,Oi=8,Ji=9,On=10;function vr(e){return Array.isArray(e)&&"object"==typeof e[Eo]}function Er(e){return Array.isArray(e)&&!0===e[Eo]}function Io(e){return 0!=(4&e.flags)}function Us(e){return e.componentOffset>-1}function gl(e){return 1==(1&e.flags)}function Pr(e){return!!e.template}function da(e){return 0!=(256&e[mt])}function ni(e,t){return e.hasOwnProperty(Bt)?e[Bt]:null}class Xi{constructor(t,s,a){this.previousValue=t,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function _l(){return pa}function pa(e){return e.type.prototype.ngOnChanges&&(e.setInput=yl),Xc}function Xc(){const e=ed(this),t=e?.current;if(t){const s=e.previous;if(s===Y)e.previous=t;else for(let a in t)s[a]=t[a];e.current=null,this.ngOnChanges(t)}}function yl(e,t,s,a){const l=this.declaredInputs[s],f=ed(e)||function wo(e,t){return e[xi]=t}(e,{previous:Y,current:null}),g=f.current||(f.current={}),E=f.previous,w=E[l];g[l]=new Xi(w&&w.currentValue,t,E===Y),e[a]=t}_l.ngInherit=!0;const xi="__ngSimpleChanges__";function ed(e){return e[xi]||null}const ar=function(e,t,s){};function kn(e){for(;Array.isArray(e);)e=e[Ar];return e}function xn(e,t){return kn(t[e.index])}function wu(e,t){return e.data[t]}function Tn(e,t){const s=t[e];return vr(s)?s:s[Ar]}function _i(e){return 64==(64&e[mt])}function Fi(e,t){return null==t?null:e[t]}function js(e){e[pi]=0}function Co(e,t){e[Vt]+=t;let s=e,a=e[Xt];for(;null!==a&&(1===t&&1===s[Vt]||-1===t&&0===s[Vt]);)a[Vt]+=t,s=a,a=a[Xt]}const ht={lFrame:Il(null),bindingsEnabled:!0};function ya(){return ht.bindingsEnabled}function ce(){return ht.lFrame.lView}function _t(){return ht.lFrame.tView}function To(e){return ht.lFrame.contextLView=e,e[fn]}function So(e){return ht.lFrame.contextLView=null,e}function Sn(){let e=es();for(;null!==e&&64===e.type;)e=e.parent;return e}function es(){return ht.lFrame.currentTNode}function lr(e,t){const s=ht.lFrame;s.currentTNode=e,s.isParent=t}function Su(){return ht.lFrame.isParent}function ts(){return ht.lFrame.bindingIndex++}function Ia(e,t){const s=ht.lFrame;s.bindingIndex=s.bindingRootIndex=e,Dn(t)}function Dn(e){ht.lFrame.currentDirectiveIndex=e}function wa(e){ht.lFrame.currentQueryIndex=e}function Ru(e){const t=e[Ve];return 2===t.type?t.declTNode:1===t.type?e[In]:null}function Da(e,t,s){if(s&it.SkipSelf){let l=t,f=e;for(;!(l=l.parent,null!==l||s&it.Host||(l=Ru(f),null===l||(f=f[Qi],10&l.type))););if(null===l)return!1;t=l,e=f}const a=ht.lFrame=Po();return a.currentTNode=t,a.lView=e,!0}function Ca(e){const t=Po(),s=e[Ve];ht.lFrame=t,t.currentTNode=s.firstChild,t.lView=e,t.tView=s,t.contextLView=e,t.bindingIndex=s.bindingStartIndex,t.inI18n=!1}function Po(){const e=ht.lFrame,t=null===e?null:e.child;return null===t?Il(e):t}function Il(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Mo(){const e=ht.lFrame;return ht.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Pu=Mo;function ba(){const e=Mo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $n(){return ht.lFrame.selectedIndex}function vi(e){ht.lFrame.selectedIndex=e}function Aa(e,t){for(let s=t.directiveStart,a=t.directiveEnd;s<a;s++){const f=e.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:T,ngOnDestroy:R}=f;g&&(e.contentHooks??(e.contentHooks=[])).push(-s,g),E&&((e.contentHooks??(e.contentHooks=[])).push(s,E),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(s,E)),w&&(e.viewHooks??(e.viewHooks=[])).push(-s,w),T&&((e.viewHooks??(e.viewHooks=[])).push(s,T),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(s,T)),null!=R&&(e.destroyHooks??(e.destroyHooks=[])).push(s,R)}}function wl(e,t,s){Cl(e,t,3,s)}function Dl(e,t,s,a){(3&e[mt])===s&&Cl(e,t,s,a)}function Nu(e,t){let s=e[mt];(3&s)===t&&(s&=2047,s+=1,e[mt]=s)}function Cl(e,t,s,a){const f=a??-1,g=t.length-1;let E=0;for(let w=void 0!==a?65535&e[pi]:0;w<g;w++)if("number"==typeof t[w+1]){if(E=t[w],null!=a&&E>=a)break}else t[w]<0&&(e[pi]+=65536),(E<f||-1==f)&&(Ws(e,s,t,w),e[pi]=(4294901760&e[pi])+w+2),w++}function Ws(e,t,s,a){const l=s[a]<0,f=s[a+1],E=e[l?-s[a]:s[a]];if(l){if(e[mt]>>11<e[pi]>>16&&(3&e[mt])===t){e[mt]+=2048,ar(4,E,f);try{f.call(E)}finally{ar(5,E,f)}}}else{ar(4,E,f);try{f.call(E)}finally{ar(5,E,f)}}}const Gs=-1;class Ei{constructor(t,s,a){this.factory=t,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function zs(e,t,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const f=s[a++],g=s[a++],E=s[a++];e.setAttribute(t,g,E,f)}else{const f=l,g=s[++a];ss(f)?e.setProperty(t,f,g):e.setAttribute(t,f,g),a++}}return a}function bl(e){return 3===e||4===e||6===e}function ss(e){return 64===e.charCodeAt(0)}function os(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let s=-1;for(let a=0;a<t.length;a++){const l=t[a];"number"==typeof l?s=l:0===s||Ma(e,s,l,null,-1===s||2===s?t[++a]:null)}}return e}function Ma(e,t,s,a,l){let f=0,g=e.length;if(-1===t)g=-1;else for(;f<e.length;){const E=e[f++];if("number"==typeof E){if(E===t){g=-1;break}if(E>t){g=f-1;break}}}for(;f<e.length;){const E=e[f];if("number"==typeof E)break;if(E===s){if(null===a)return void(null!==l&&(e[f+1]=l));if(a===e[f+1])return void(e[f+2]=l)}f++,null!==a&&f++,null!==l&&f++}-1!==g&&(e.splice(g,0,t),f=g+1),e.splice(f++,0,s),null!==a&&e.splice(f++,0,a),null!==l&&e.splice(f++,0,l)}function as(e){return e!==Gs}function Bi(e){return 32767&e}function ls(e,t){let s=function Ou(e){return e>>16}(e),a=t;for(;s>0;)a=a[Qi],s--;return a}let Na=!0;function Oo(e){const t=Na;return Na=e,t}const Oa=255,ku=5;let us=0;const $r={};function Tl(e,t){const s=Zs(e,t);if(-1!==s)return s;const a=t[Ve];a.firstCreatePass&&(e.injectorIndex=t.length,Ks(a.data,e),Ks(t,null),Ks(a.blueprint,null));const l=xu(e,t),f=e.injectorIndex;if(as(l)){const g=Bi(l),E=ls(l,t),w=E[Ve].data;for(let T=0;T<8;T++)t[f+T]=E[g+T]|w[g+T]}return t[f+8]=l,f}function Ks(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Zs(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function xu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,a=null,l=t;for(;null!==l;){if(a=Lo(l),null===a)return Gs;if(s++,l=l[Qi],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Gs}function $t(e,t,s){!function Ii(e,t,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ct)&&(a=s[Ct]),null==a&&(a=s[Ct]=us++);const l=a&Oa;t.data[e+(l>>ku)]|=1<<l}(e,t,s)}function ka(e,t,s){if(s&it.Optional||void 0!==e)return e;Be()}function Sl(e,t,s,a){if(s&it.Optional&&void 0===a&&(a=null),!(s&(it.Self|it.Host))){const l=e[yo],f=Vn(void 0);try{return l?l.get(t,a,s&it.Optional):ir(t,a,s&it.Optional)}finally{Vn(f)}}return ka(a,0,s)}function xa(e,t,s,a=it.Default,l){if(null!==e){if(1024&t[mt]){const g=function Pl(e,t,s,a,l){let f=e,g=t;for(;null!==f&&null!==g&&1024&g[mt]&&!(256&g[mt]);){const E=La(f,g,s,a|it.Self,$r);if(E!==$r)return E;let w=f.parent;if(!w){const T=g[jn];if(T){const R=T.get(s,$r,a);if(R!==$r)return R}w=Lo(g),g=g[Qi]}f=w}return l}(e,t,s,a,$r);if(g!==$r)return g}const f=La(e,t,s,a,$r);if(f!==$r)return f}return Sl(t,s,a,l)}function La(e,t,s,a,l){const f=function Al(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ct)?e[Ct]:void 0;return"number"==typeof t?t>=0?t&Oa:od:t}(s);if("function"==typeof f){if(!Da(t,e,a))return a&it.Host?ka(l,0,a):Sl(t,s,a,l);try{const g=f(a);if(null!=g||a&it.Optional)return g;Be()}finally{Pu()}}else if("number"==typeof f){let g=null,E=Zs(e,t),w=Gs,T=a&it.Host?t[mn][In]:null;for((-1===E||a&it.SkipSelf)&&(w=-1===E?xu(e,t):t[E+8],w!==Gs&&xo(a,!1)?(g=t[Ve],E=Bi(w),t=ls(w,t)):E=-1);-1!==E;){const R=t[Ve];if(ko(f,E,R.data)){const x=An(E,t,s,g,a,T);if(x!==$r)return x}w=t[E+8],w!==Gs&&xo(a,t[Ve].data[E+8]===T)&&ko(f,E,t)?(g=R,E=Bi(w),t=ls(w,t)):E=-1}}return l}function An(e,t,s,a,l,f){const g=t[Ve],E=g.data[e+8],R=function cs(e,t,s,a,l){const f=e.providerIndexes,g=t.data,E=1048575&f,w=e.directiveStart,R=f>>20,W=l?E+R:e.directiveEnd;for(let Q=a?E:E+R;Q<W;Q++){const _e=g[Q];if(Q<w&&s===_e||Q>=w&&_e.type===s)return Q}if(l){const Q=g[w];if(Q&&Pr(Q)&&Q.type===s)return w}return null}(E,g,s,null==a?Us(E)&&Na:a!=g&&0!=(3&E.type),l&it.Host&&f===E);return null!==R?_n(t,g,R,E):$r}function _n(e,t,s,a){let l=e[s];const f=t.data;if(function Sf(e){return e instanceof Ei}(l)){const g=l;g.resolving&&function Te(e,t){const s=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ae(-200,`Circular dependency in DI detected for ${e}${s}`)}(function Pe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():we(e)}(f[s]));const E=Oo(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?Vn(g.injectImpl):null;Da(e,a,it.Default);try{l=e[s]=g.factory(void 0,f,e,a),t.firstCreatePass&&s>=a.directiveStart&&function Tf(e,t,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:f}=t.type.prototype;if(a){const g=pa(t);(s.preOrderHooks??(s.preOrderHooks=[])).push(e,g),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(e,g)}l&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-e,l),f&&((s.preOrderHooks??(s.preOrderHooks=[])).push(e,f),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(e,f))}(s,f[s],t)}finally{null!==w&&Vn(w),Oo(E),g.resolving=!1,Pu()}}return l}function ko(e,t,s){return!!(s[t+(e>>ku)]&1<<e)}function xo(e,t){return!(e&it.Self||e&it.Host&&t)}class wi{constructor(t,s){this._tNode=t,this._lView=s}get(t,s,a){return xa(this._tNode,this._lView,t,vn(a),s)}}function od(){return new wi(Sn(),ce())}function Lo(e){const t=e[Ve],s=t.type;return 2===s?t.declTNode:1===s?e[In]:null}function Ys(e){return function Lu(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const s=e.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const f=s[l];if(bl(f))break;if(0===f)l+=2;else if("number"==typeof f)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(f===t)return s[l+1];l+=2}}}return null}(Sn(),e)}const qs="__parameters__";function Qs(e,t,s){return L(()=>{const a=function fs(e){return function(...s){if(e){const a=e(...s);for(const l in a)this[l]=a[l]}}}(t);function l(...f){if(this instanceof l)return a.apply(this,f),this;const g=new l(...f);return E.annotation=g,E;function E(w,T,R){const x=w.hasOwnProperty(qs)?w[qs]:Object.defineProperty(w,qs,{value:[]})[qs];for(;x.length<=R;)x.push(null);return(x[R]=x[R]||[]).push(g),w}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}class Rt{constructor(t,s){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Je({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ii(e,t){e.forEach(s=>Array.isArray(s)?ii(s,t):t(s))}function cd(e,t,s){t>=e.length?e.push(s):e.splice(t,0,s)}function ps(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const wr=Jt(Qs("Optional"),8),Fl=Jt(Qs("SkipSelf"),4);var xr=(()=>((xr=xr||{})[xr.Important=1]="Important",xr[xr.DashCase=2]="DashCase",xr))();const ai=new Map;let Yu=0;const I="__ngContext__";function b(e,t){vr(t)?(e[I]=t[Fs],function Pf(e){ai.set(e[Fs],e)}(t)):e[I]=t}let $i;function Dr(e,t){return $i(e,t)}function Gn(e){const t=e[Xt];return Er(t)?t[Xt]:t}function qu(e){return _d(e[qi])}function Ka(e){return _d(e[Rr])}function _d(e){for(;null!==e&&!Er(e);)e=e[Rr];return e}function zo(e,t,s,a,l){if(null!=a){let f,g=!1;Er(a)?f=a:vr(a)&&(g=!0,a=a[Ar]);const E=kn(a);0===e&&null!==s?null==l?ql(t,s,E):io(t,s,E,l||null,!0):1===e&&null!==s?io(t,s,E,l||null,!0):2===e?function Cs(e,t,s){const a=Ql(e,t);a&&function Yo(e,t,s,a){e.removeChild(t,s,a)}(e,a,t,s)}(t,E,g):3===e&&t.destroyNode(E),null!=f&&function Zn(e,t,s,a,l){const f=s[Bs];f!==kn(s)&&zo(t,e,a,f,l);for(let E=On;E<s.length;E++){const w=s[E];bs(w[Ve],w,e,t,a,f)}}(t,e,f,s,l)}}function Is(e,t,s){return e.createElement(t,s)}function Qu(e,t){const s=e[Ji],a=s.indexOf(t),l=t[Xt];512&t[mt]&&(t[mt]&=-513,Co(l,-1)),s.splice(a,1)}function Za(e,t){if(e.length<=On)return;const s=On+t,a=e[s];if(a){const l=a[Ls];null!==l&&l!==e&&Qu(l,a),t>0&&(e[s-1][Rr]=a[Rr]);const f=ps(e,On+t);!function to(e,t){bs(e,t,t[vt],2,null,null),t[Ar]=null,t[In]=null}(a[Ve],a);const g=f[ti];null!==g&&g.detachView(f[Ve]),a[Xt]=null,a[Rr]=null,a[mt]&=-65}return a}function Of(e,t){if(!(128&t[mt])){const s=t[vt];s.destroyNode&&bs(e,t,s,3,null,null),function yd(e){let t=e[qi];if(!t)return Yl(e[Ve],e);for(;t;){let s=null;if(vr(t))s=t[qi];else{const a=t[On];a&&(s=a)}if(!s){for(;t&&!t[Rr]&&t!==e;)vr(t)&&Yl(t[Ve],t),t=t[Xt];null===t&&(t=e),vr(t)&&Yl(t[Ve],t),s=t&&t[Rr]}t=s}}(t)}}function Yl(e,t){if(!(128&t[mt])){t[mt]&=-65,t[mt]|=128,function Ko(e,t){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let a=0;a<s.length;a+=2){const l=t[s[a]];if(!(l instanceof Ei)){const f=s[a+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const E=l[f[g]],w=f[g+1];ar(4,E,w);try{w.call(E)}finally{ar(5,E,w)}}else{ar(4,l,f);try{f.call(l)}finally{ar(5,l,f)}}}}}(e,t),function kf(e,t){const s=e.cleanup,a=t[_o];let l=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const g=s[f+3];g>=0?a[l=g]():a[l=-g].unsubscribe(),f+=2}else{const g=a[l=s[f+1]];s[f].call(g)}if(null!==a){for(let f=l+1;f<a.length;f++)(0,a[f])();t[_o]=null}}(e,t),1===t[Ve].type&&t[vt].destroy();const s=t[Ls];if(null!==s&&Er(t[Xt])){s!==t[Xt]&&Qu(s,t);const a=t[ti];null!==a&&a.detachView(e)}!function on(e){ai.delete(e[Fs])}(t)}}function Ya(e,t,s){return function Zo(e,t,s){let a=t;for(;null!==a&&40&a.type;)a=(t=a).parent;if(null===a)return s[Ar];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:f}=e.data[a.directiveStart+l];if(f===he.None||f===he.Emulated)return null}return xn(a,s)}}(e,t.parent,s)}function io(e,t,s,a,l){e.insertBefore(t,s,a,l)}function ql(e,t,s){e.appendChild(t,s)}function qa(e,t,s,a,l){null!==a?io(e,t,s,a,l):ql(e,t,s)}function Ql(e,t){return e.parentNode(t)}let Kn,Xl,bi=function Qa(e,t,s){return 40&e.type?xn(e,s):null};function ws(e,t,s,a){const l=Ya(e,a,t),f=t[vt],E=function qo(e,t,s){return bi(e,t,s)}(a.parent||t[In],a,t);if(null!=l)if(Array.isArray(s))for(let w=0;w<s.length;w++)qa(f,l,s[w],E,!1);else qa(f,l,s,E,!1);void 0!==Kn&&Kn(f,a,t,s,l)}function Xu(e,t){if(null!==t){const s=t.type;if(3&s)return xn(t,e);if(4&s)return Fr(-1,e[t.index]);if(8&s){const a=t.child;if(null!==a)return Xu(e,a);{const l=e[t.index];return Er(l)?Fr(-1,l):kn(l)}}if(32&s)return Dr(t,e)()||kn(e[t.index]);{const a=Ds(e,t);return null!==a?Array.isArray(a)?a[0]:Xu(Gn(e[mn]),a):Xu(e,t.next)}}return null}function Ds(e,t){return null!==t?e[mn][In].projection[t.projection]:null}function Fr(e,t){const s=On+e+1;if(s<t.length){const a=t[s],l=a[Ve].firstChild;if(null!==l)return Xu(a,l)}return t[Bs]}function vd(e,t,s,a,l,f,g){for(;null!=s;){const E=a[s.index],w=s.type;if(g&&0===t&&(E&&b(kn(E),a),s.flags|=2),32!=(32&s.flags))if(8&w)vd(e,t,s.child,a,l,f,!1),zo(t,e,l,E,f);else if(32&w){const T=Dr(s,a);let R;for(;R=T();)zo(t,e,l,R,f);zo(t,e,l,E,f)}else 16&w?Ed(e,t,a,s,l,f):zo(t,e,l,E,f);s=g?s.projectionNext:s.next}}function bs(e,t,s,a,l,f){vd(s,a,e.firstChild,t,l,f,!1)}function Ed(e,t,s,a,l,f){const g=s[mn],w=g[In].projection[a.projection];if(Array.isArray(w))for(let T=0;T<w.length;T++)zo(t,e,l,w[T],f);else vd(e,t,w,g[Xt],l,f,!0)}function Ja(e,t,s){""===s?e.removeAttribute(t,"class"):e.setAttribute(t,"class",s)}function Lf(e,t,s){const{mergedAttrs:a,classes:l,styles:f}=s;null!==a&&zs(e,t,a),null!==l&&Ja(e,t,l),null!==f&&function Cp(e,t,s){e.setAttribute(t,"style",s)}(e,t,f)}function Bf(e){Xl=e}const Tp=new Rt("ENVIRONMENT_INITIALIZER"),Ad=new Rt("INJECTOR",-1),Sp=new Rt("INJECTOR_DEF_TYPES");class Ap{get(t,s=Tr){if(s===Tr){const a=new Error(`NullInjectorError: No provider for ${ge(t)}!`);throw a.name="NullInjectorError",a}return s}}function Kt(e){return{\u0275providers:e}}function Ht(...e){return{\u0275providers:St(0,e),\u0275fromNgModule:!0}}function St(e,...t){const s=[],a=new Set;let l;return ii(t,f=>{const g=f;qt(g,s,[],a)&&(l||(l=[]),l.push(g))}),void 0!==l&&Xo(l,s),s}function Xo(e,t){for(let s=0;s<e.length;s++){const{providers:l}=e[s];Rp(l,f=>{t.push(f)})}}function qt(e,t,s,a){if(!(e=K(e)))return!1;let l=null,f=Cn(e);const g=!f&&nt(e);if(f||g){if(g&&!g.standalone)return!1;l=e}else{const w=e.ngModule;if(f=Cn(w),!f)return!1;l=w}const E=a.has(l);if(g){if(E)return!1;if(a.add(l),g.dependencies){const w="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const T of w)qt(T,t,s,a)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let T;a.add(l);try{ii(f.imports,R=>{qt(R,t,s,a)&&(T||(T=[]),T.push(R))})}finally{}void 0!==T&&Xo(T,t)}if(!E){const T=ni(l)||(()=>new l);t.push({provide:l,useFactory:T,deps:ke},{provide:Sp,useValue:l,multi:!0},{provide:Tp,useValue:()=>Ft(l),multi:!0})}const w=f.providers;null==w||E||Rp(w,R=>{t.push(R)})}}return l!==e&&void 0!==e.providers}function Rp(e,t){for(let s of e)Ie(s)&&(s=s.\u0275providers),Array.isArray(s)?Rp(s,t):t(s)}const Rd=ie({provide:String,useValue:ie});function Qf(e){return null!==e&&"object"==typeof e&&Rd in e}function Ln(e){return"function"==typeof e}const Pd=new Rt("Set Injector scope."),Kr={},Uy={};let Pp;function Jf(){return void 0===Pp&&(Pp=new Ap),Pp}class il{}class sl extends il{get destroyed(){return this._destroyed}constructor(t,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ea(t,g=>this.processProvider(g)),this.records.set(Ad,fc(void 0,this)),l.has("environment")&&this.records.set(il,fc(void 0,this));const f=this.records.get(Pd);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Sp.multi,ke,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const s=Tt(this),a=Vn(void 0);try{return t()}finally{Tt(s),Vn(a)}}get(t,s=Tr,a=it.Default){this.assertNotDestroyed(),a=vn(a);const l=Tt(this),f=Vn(void 0);try{if(!(a&it.SkipSelf)){let E=this.records.get(t);if(void 0===E){const w=function fm(e){return"function"==typeof e||"object"==typeof e&&e instanceof Rt}(t)&&bt(t);E=w&&this.injectableDefInScope(w)?fc(Md(t),Kr):null,this.records.set(t,E)}if(null!=E)return this.hydrate(t,E)}return(a&it.Self?Jf():this.parent).get(t,s=a&it.Optional&&s===Tr?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[bn]=g[bn]||[]).unshift(ge(t)),l)throw g;return function or(e,t,s,a){const l=e[bn];throw t[Ut]&&l.unshift(t[Ut]),e.message=function V(e,t,s,a=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==sr?e.slice(2):e;let l=ge(t);if(Array.isArray(t))l=t.map(ge).join(" -> ");else if("object"==typeof t){let f=[];for(let g in t)if(t.hasOwnProperty(g)){let E=t[g];f.push(g+":"+("string"==typeof E?JSON.stringify(E):ge(E)))}l=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${e.replace(rn,"\n  ")}`}("\n"+e.message,l,s,a),e[Qn]=l,e[bn]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{Vn(f),Tt(l)}}resolveInjectorInitializers(){const t=Tt(this),s=Vn(void 0);try{const a=this.get(Tp.multi,ke,it.Self);for(const l of a)l()}finally{Tt(t),Vn(s)}}toString(){const t=[],s=this.records;for(const a of s.keys())t.push(ge(a));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(t){let s=Ln(t=K(t))?t:K(t&&t.provide);const a=function Vy(e){return Qf(e)?fc(void 0,e.useValue):fc(function Mp(e,t,s){let a;if(Ln(e)){const l=K(e);return ni(l)||Md(l)}if(Qf(e))a=()=>K(e.useValue);else if(function At(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Ur(e.deps||[]));else if(function hn(e){return!(!e||!e.useExisting)}(e))a=()=>Ft(K(e.useExisting));else{const l=K(e&&(e.useClass||e.provide));if(!function Hy(e){return!!e.deps}(e))return ni(l)||Md(l);a=()=>new l(...Ur(e.deps))}return a}(e),Kr)}(t);if(Ln(t)||!0!==t.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=fc(void 0,Kr,!0),l.factory=()=>Ur(l.multi),this.records.set(s,l)),s=t,l.multi.push(t)}this.records.set(s,a)}hydrate(t,s){return s.value===Kr&&(s.value=Uy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function jy(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(t){if(!t.providedIn)return!1;const s=K(t.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Md(e){const t=bt(e),s=null!==t?t.factory:ni(e);if(null!==s)return s;if(e instanceof Rt)throw new ae(204,!1);if(e instanceof Function)return function Nd(e){const t=e.length;if(t>0)throw function Ba(e,t){const s=[];for(let a=0;a<e;a++)s.push(t);return s}(t,"?"),new ae(204,!1);const s=function un(e){return e&&(e[cn]||e[gr])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new ae(204,!1)}function fc(e,t,s=!1){return{factory:e,value:t,multi:s?[]:void 0}}function ea(e,t){for(const s of e)Array.isArray(s)?ea(s,t):s&&Ie(s)?ea(s.\u0275providers,t):t(s)}class Nt{}class Od{}class eh{resolveComponentFactory(t){throw function Xf(e){const t=Error(`No component factory found for ${ge(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let li=(()=>{class e{}return e.NULL=new eh,e})();function $y(){return nr(Sn(),ce())}function nr(e,t){return new kd(xn(e,t))}let kd=(()=>{class e{constructor(s){this.nativeElement=s}}return e.__NG_ELEMENT_ID__=$y,e})();class th{}let Wy=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function hm(){const e=ce(),s=Tn(Sn().index,e);return(vr(s)?s:e)[vt]}(),e})(),pm=(()=>{class e{}return e.\u0275prov=Je({token:e,providedIn:"root",factory:()=>null}),e})();class kp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const nu=new kp("15.2.9"),nh={},rh="ngOriginalError";function xp(e){return e[rh]}class xd{constructor(){this._console=console}handleError(t){const s=this._findOriginalError(t);this._console.error("ERROR",t),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(t){let s=t&&xp(t);for(;s&&xp(s);)s=xp(s);return s||null}}function oh(e,t,s){let a=e.length;for(;;){const l=e.indexOf(t,s);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const f=t.length;if(l+f===a||e.charCodeAt(l+f)<=32)return l}s=l+1}}const Fp="ng-template";function pc(e,t,s){let a=0,l=!0;for(;a<e.length;){let f=e[a++];if("string"==typeof f&&l){const g=e[a++];if(s&&"class"===f&&-1!==oh(g.toLowerCase(),t,0))return!0}else{if(1===f){for(;a<e.length&&"string"==typeof(f=e[a++]);)if(f.toLowerCase()===t)return!0;return!1}"number"==typeof f&&(l=!1)}}return!1}function gc(e){return 4===e.type&&e.value!==Fp}function Fd(e,t,s){return t===(4!==e.type||s?e.value:Fp)}function Yy(e,t,s){let a=4;const l=e.attrs||[],f=function qy(e){for(let t=0;t<e.length;t++)if(bl(e[t]))return t;return e.length}(l);let g=!1;for(let E=0;E<t.length;E++){const w=t[E];if("number"!=typeof w){if(!g)if(4&a){if(a=2|1&a,""!==w&&!Fd(e,w,s)||""===w&&1===t.length){if(Si(a))return!1;g=!0}}else{const T=8&a?w:t[++E];if(8&a&&null!==e.attrs){if(!pc(e.attrs,T,s)){if(Si(a))return!1;g=!0}continue}const x=Bd(8&a?"class":w,l,gc(e),s);if(-1===x){if(Si(a))return!1;g=!0;continue}if(""!==T){let W;W=x>f?"":l[x+1].toLowerCase();const Q=8&a?W:null;if(Q&&-1!==oh(Q,T,0)||2&a&&T!==W){if(Si(a))return!1;g=!0}}}}else{if(!g&&!Si(a)&&!Si(w))return!1;if(g&&Si(w))continue;g=!1,a=w|1&a}}return Si(a)||g}function Si(e){return 0==(1&e)}function Bd(e,t,s,a){if(null===t)return-1;let l=0;if(a||!s){let f=!1;for(;l<t.length;){const g=t[l];if(g===e)return l;if(3===g||6===g)f=!0;else{if(1===g||2===g){let E=t[++l];for(;"string"==typeof E;)E=t[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=f?1:2}return-1}return function Qy(e,t){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const a=e[s];if("number"==typeof a)return-1;if(a===t)return s;s++}return-1}(t,e)}function gm(e,t,s=!1){for(let a=0;a<t.length;a++)if(Yy(e,t[a],s))return!0;return!1}function lh(e,t){return e?":not("+t.trim()+")":t}function Xy(e){let t=e[0],s=1,a=2,l="",f=!1;for(;s<e.length;){let g=e[s];if("string"==typeof g)if(2&a){const E=e[++s];l+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?l+="."+g:4&a&&(l+=" "+g);else""!==l&&!Si(g)&&(t+=lh(f,l),l=""),a=g,f=f||!Si(a);s++}return""!==l&&(t+=lh(f,l)),t}const yt={};function Up(e){Vp(_t(),ce(),$n()+e,!1)}function Vp(e,t,s,a){if(!a)if(3==(3&t[mt])){const f=e.preOrderCheckHooks;null!==f&&wl(t,f,s)}else{const f=e.preOrderHooks;null!==f&&Dl(t,f,0,s)}vi(s)}function mm(e,t=null,s=null,a){const l=_m(e,t,s,a);return l.resolveInjectorInitializers(),l}function _m(e,t=null,s=null,a,l=new Set){const f=[s||ke,Ht(e)];return a=a||("object"==typeof e?void 0:ge(e)),new sl(f,t||Jf(),a||null,l)}let iu=(()=>{class e{static create(s,a){if(Array.isArray(s))return mm({name:""},a,s,"");{const l=s.name??"";return mm({name:l},s.parent,s.providers,l)}}}return e.THROW_IF_NOT_FOUND=Tr,e.NULL=new Ap,e.\u0275prov=Je({token:e,providedIn:"any",factory:()=>Ft(Ad)}),e.__NG_ELEMENT_ID__=-1,e})();function As(e,t=it.Default){const s=ce();return null===s?Ft(e,t):xa(Sn(),s,K(e),t)}function Im(e,t){const s=e.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const f=s[a+1];if(-1!==f){const g=e.data[f];wa(s[a]),g.contentQueries(2,t[f],f)}}}function mh(e,t,s,a,l,f,g,E,w,T,R){const x=t.blueprint.slice();return x[Ar]=l,x[mt]=76|a,(null!==R||e&&1024&e[mt])&&(x[mt]|=1024),js(x),x[Xt]=x[Qi]=e,x[fn]=s,x[fi]=g||e&&e[fi],x[vt]=E||e&&e[vt],x[vo]=w||e&&e[vo]||null,x[yo]=T||e&&e[yo]||null,x[In]=f,x[Fs]=function vs(){return Yu++}(),x[jn]=R,x[mn]=2==t.type?e[mn]:x,x}function vc(e,t,s,a,l){let f=e.data[t];if(null===f)f=function Kp(e,t,s,a,l){const f=es(),g=Su(),w=e.data[t]=function vh(e,t,s,a,l,f){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,s,t,a,l);return null===e.firstChild&&(e.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w,w.prev=f)),w}(e,t,s,a,l),function Au(){return ht.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=s,f.value=a,f.attrs=l;const g=function va(){const e=ht.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return lr(f,!0),f}function Gd(e,t,s,a){if(0===s)return-1;const l=t.length;for(let f=0;f<s;f++)t.push(a),e.blueprint.push(a),e.data.push(null);return l}function _h(e,t,s){Ca(t);try{const a=e.viewQuery;null!==a&&Yd(1,a,s);const l=e.template;null!==l&&wm(e,t,l,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Im(e,t),e.staticViewQueries&&Yd(2,e.viewQuery,s);const f=e.components;null!==f&&function uv(e,t){for(let s=0;s<t.length;s++)xm(e,t[s])}(t,f)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[mt]&=-5,ba()}}function zd(e,t,s,a){const l=t[mt];if(128!=(128&l)){Ca(t);try{js(t),function ri(e){return ht.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&wm(e,t,s,2,a);const g=3==(3&l);if(g){const T=e.preOrderCheckHooks;null!==T&&wl(t,T,null)}else{const T=e.preOrderHooks;null!==T&&Dl(t,T,0,null),Nu(t,0)}if(function Om(e){for(let t=qu(e);null!==t;t=Ka(t)){if(!t[pl])continue;const s=t[Ji];for(let a=0;a<s.length;a++){const l=s[a];512&l[mt]||Co(l[Xt],1),l[mt]|=512}}}(t),function yv(e){for(let t=qu(e);null!==t;t=Ka(t))for(let s=On;s<t.length;s++){const a=t[s],l=a[Ve];_i(a)&&zd(l,a,l.template,a[fn])}}(t),null!==e.contentQueries&&Im(e,t),g){const T=e.contentCheckHooks;null!==T&&wl(t,T)}else{const T=e.contentHooks;null!==T&&Dl(t,T,1),Nu(t,1)}!function gh(e,t){const s=e.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)vi(~l);else{const f=l,g=s[++a],E=s[++a];Ia(g,f),E(2,t[f])}}}finally{vi(-1)}}(e,t);const E=e.components;null!==E&&function lv(e,t){for(let s=0;s<t.length;s++)km(e,t[s])}(t,E);const w=e.viewQuery;if(null!==w&&Yd(2,w,a),g){const T=e.viewCheckHooks;null!==T&&wl(t,T)}else{const T=e.viewHooks;null!==T&&Dl(t,T,2),Nu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[mt]&=-41,512&t[mt]&&(t[mt]&=-513,Co(t[Xt],-1))}finally{ba()}}}function wm(e,t,s,a,l){const f=$n(),g=2&a;try{vi(-1),g&&t.length>Gt&&Vp(e,t,Gt,!1),ar(g?2:0,l),s(a,l)}finally{vi(f),ar(g?3:1,l)}}function Zp(e,t,s){if(Io(t)){const l=t.directiveEnd;for(let f=t.directiveStart;f<l;f++){const g=e.data[f];g.contentQueries&&g.contentQueries(1,s[f],f)}}}function Yp(e,t,s){ya()&&(function Pm(e,t,s,a){const l=s.directiveStart,f=s.directiveEnd;Us(s)&&function gv(e,t,s){const a=xn(t,e),l=Dm(s),f=e[fi],g=Zd(e,mh(e,l,null,s.onPush?32:16,a,t,f,f.createRenderer(a,s),null,null,null));e[t.index]=g}(t,s,e.data[l+s.componentOffset]),e.firstCreatePass||Tl(s,t),b(a,t);const g=s.initialInputs;for(let E=l;E<f;E++){const w=e.data[E],T=_n(t,e,E,s);b(T,t),null!==g&&mv(0,E-l,T,w,0,g),Pr(w)&&(Tn(s.index,t)[fn]=_n(t,e,E,s))}}(e,t,s,xn(s,t)),64==(64&s.flags)&&Kd(e,t,s))}function qp(e,t,s=xn){const a=t.localNames;if(null!==a){let l=t.index+1;for(let f=0;f<a.length;f+=2){const g=a[f+1],E=-1===g?s(t,e):e[g];e[l++]=E}}}function Dm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Qp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Qp(e,t,s,a,l,f,g,E,w,T){const R=Gt+a,x=R+l,W=function yh(e,t){const s=[];for(let a=0;a<t;a++)s.push(a<e?null:yt);return s}(R,x),Q="function"==typeof T?T():T;return W[Ve]={type:e,blueprint:W,template:s,queries:null,viewQuery:E,declTNode:t,data:W.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:Q,incompleteFirstPass:!1}}function Cm(e,t,s,a){for(let l in e)if(e.hasOwnProperty(l)){s=null===s?{}:s;const f=e[l];null===a?Eh(s,t,l,f):a.hasOwnProperty(l)&&Eh(s,t,a[l],f)}return s}function Eh(e,t,s,a){e.hasOwnProperty(s)?e[s].push(t,a):e[s]=[t,a]}function eg(e,t,s,a){if(ya()){const l=null===a?null:{"":-1},f=function Mm(e,t){const s=e.directiveRegistry;let a=null,l=null;if(s)for(let f=0;f<s.length;f++){const g=s[f];if(gm(t,g.selectors,!1))if(a||(a=[]),Pr(g))if(null!==g.findHostDirectiveDefs){const E=[];l=l||new Map,g.findHostDirectiveDefs(g,E,l),a.unshift(...E,g),ng(e,t,E.length)}else a.unshift(g),ng(e,t,0);else l=l||new Map,g.findHostDirectiveDefs?.(g,a,l),a.push(g)}return null===a?null:[a,l]}(e,s);let g,E;null===f?g=E=null:[g,E]=f,null!==g&&Rm(e,t,s,g,l,E),l&&function Nm(e,t,s){if(t){const a=e.localNames=[];for(let l=0;l<t.length;l+=2){const f=s[t[l+1]];if(null==f)throw new ae(-301,!1);a.push(t[l],f)}}}(s,a,l)}s.mergedAttrs=os(s.mergedAttrs,s.attrs)}function Rm(e,t,s,a,l,f){for(let T=0;T<a.length;T++)$t(Tl(s,t),e,a[T].type);!function hv(e,t,s){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+s,e.providerIndexes=t}(s,e.data.length,a.length);for(let T=0;T<a.length;T++){const R=a[T];R.providersResolver&&R.providersResolver(R)}let g=!1,E=!1,w=Gd(e,t,a.length,null);for(let T=0;T<a.length;T++){const R=a[T];s.mergedAttrs=os(s.mergedAttrs,R.hostAttrs),pv(e,s,t,w,R),rg(w,R,l),null!==R.contentQueries&&(s.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(s.flags|=64);const x=R.type.prototype;!g&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(s.index),g=!0),!E&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(s.index),E=!0),w++}!function bm(e,t,s){const l=t.directiveEnd,f=e.data,g=t.attrs,E=[];let w=null,T=null;for(let R=t.directiveStart;R<l;R++){const x=f[R],W=s?s.get(x):null,_e=W?W.outputs:null;w=Cm(x.inputs,R,w,W?W.inputs:null),T=Cm(x.outputs,R,T,_e);const Le=null===w||null===g||gc(t)?null:_v(w,R,g);E.push(Le)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=E,t.inputs=w,t.outputs=T}(e,s,f)}function Kd(e,t,s){const a=s.directiveStart,l=s.directiveEnd,f=s.index,g=function bf(){return ht.lFrame.currentDirectiveIndex}();try{vi(f);for(let E=a;E<l;E++){const w=e.data[E],T=t[E];Dn(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&tg(w,T)}}finally{vi(-1),Dn(g)}}function tg(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ng(e,t,s){t.componentOffset=s,(e.components??(e.components=[])).push(t.index)}function rg(e,t,s){if(s){if(t.exportAs)for(let a=0;a<t.exportAs.length;a++)s[t.exportAs[a]]=e;Pr(t)&&(s[""]=e)}}function pv(e,t,s,a,l){e.data[a]=l;const f=l.factory||(l.factory=ni(l.type)),g=new Ei(f,Pr(l),As);e.blueprint[a]=g,s[a]=g,function dv(e,t,s,a,l){const f=l.hostBindings;if(f){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const E=~t.index;(function fv(e){let t=e.length;for(;t>0;){const s=e[--t];if("number"==typeof s&&s<0)return s}return 0})(g)!=E&&g.push(E),g.push(s,a,f)}}(e,t,a,Gd(e,s,l.hostVars,yt),l)}function mv(e,t,s,a,l,f){const g=f[t];if(null!==g){const E=a.setInput;for(let w=0;w<g.length;){const T=g[w++],R=g[w++],x=g[w++];null!==E?a.setInput(s,x,T,R):s[R]=x}}}function _v(e,t,s){let a=null,l=0;for(;l<s.length;){const f=s[l];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===a&&(a=[]);const g=e[f];for(let E=0;E<g.length;E+=2)if(g[E]===t){a.push(f,g[E+1],s[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function sg(e,t,s,a){return[e,!0,!1,t,null,0,a,s,null,null]}function km(e,t){const s=Tn(t,e);if(_i(s)){const a=s[Ve];48&s[mt]?zd(a,s,a.template,s[fn]):s[Vt]>0&&og(s)}}function og(e){for(let a=qu(e);null!==a;a=Ka(a))for(let l=On;l<a.length;l++){const f=a[l];if(_i(f))if(512&f[mt]){const g=f[Ve];zd(g,f,g.template,f[fn])}else f[Vt]>0&&og(f)}const s=e[Ve].components;if(null!==s)for(let a=0;a<s.length;a++){const l=Tn(s[a],e);_i(l)&&l[Vt]>0&&og(l)}}function xm(e,t){const s=Tn(t,e),a=s[Ve];(function Ih(e,t){for(let s=t.length;s<e.blueprint.length;s++)t.push(e.blueprint[s])})(a,s),_h(a,s,s[fn])}function Zd(e,t){return e[qi]?e[hi][Rr]=t:e[qi]=t,e[hi]=t,t}function wh(e){for(;e;){e[mt]|=32;const t=Gn(e);if(da(e)&&!t)return e;e=t}return null}function Dh(e,t,s,a=!0){const l=t[fi];l.begin&&l.begin();try{zd(e,t,e.template,s)}catch(g){throw a&&ia(t,g),g}finally{l.end&&l.end()}}function Yd(e,t,s){wa(0),t(e,s)}function Lm(e){return e[_o]||(e[_o]=[])}function Fm(e){return e.cleanup||(e.cleanup=[])}function ia(e,t){const s=e[yo],a=s?s.get(xd,null):null;a&&a.handleError(t)}function Ch(e,t,s,a,l){for(let f=0;f<s.length;){const g=s[f++],E=s[f++],w=t[g],T=e.data[g];null!==T.setInput?T.setInput(w,l,a,E):w[E]=l}}function uo(e,t,s){const a=function mi(e,t){return kn(t[e])}(t,e);!function Ip(e,t,s){e.setValue(t,s)}(e[vt],a,s)}function Rs(e,t,s){let a=s?e.styles:null,l=s?e.classes:null,f=0;if(null!==t)for(let g=0;g<t.length;g++){const E=t[g];"number"==typeof E?f=E:1==f?l=pe(l,E):2==f&&(a=pe(a,E+": "+t[++g]+";"))}s?e.styles=a:e.stylesWithoutHost=a,s?e.classes=l:e.classesWithoutHost=l}function au(e,t,s,a,l=!1){for(;null!==s;){const f=t[s.index];if(null!==f&&a.push(kn(f)),Er(f))for(let E=On;E<f.length;E++){const w=f[E],T=w[Ve].firstChild;null!==T&&au(w[Ve],w,T,a)}const g=s.type;if(8&g)au(e,t,s.child,a);else if(32&g){const E=Dr(s,t);let w;for(;w=E();)a.push(w)}else if(16&g){const E=Ds(t,s);if(Array.isArray(E))a.push(...E);else{const w=Gn(t[mn]);au(w[Ve],w,E,a,!0)}}s=l?s.projectionNext:s.next}return a}class al{get rootNodes(){const t=this._lView,s=t[Ve];return au(s,t,s.firstChild,[])}constructor(t,s){this._lView=t,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(t){this._lView[fn]=t}get destroyed(){return 128==(128&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Xt];if(Er(t)){const s=t[Oi],a=s?s.indexOf(this):-1;a>-1&&(Za(t,a),ps(s,a))}this._attachedToViewContainer=!1}Of(this._lView[Ve],this._lView)}onDestroy(t){!function Xp(e,t,s,a){const l=Lm(t);null===s?l.push(a):(l.push(s),e.firstCreatePass&&Fm(e).push(a,l.length-1))}(this._lView[Ve],this._lView,null,t)}markForCheck(){wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-65}reattach(){this._lView[mt]|=64}detectChanges(){Dh(this._lView[Ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function O(e,t){bs(e,t,t[vt],2,null,null)}(this._lView[Ve],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=t}}class Ev extends al{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Dh(t[Ve],t,t[fn],!1)}checkNoChanges(){}get context(){return null}}class Bm extends li{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const s=nt(t);return new qd(s,this.ngModule)}}function Um(e){const t=[];for(let s in e)e.hasOwnProperty(s)&&t.push({propName:e[s],templateName:s});return t}class lg{constructor(t,s){this.injector=t,this.parentInjector=s}get(t,s,a){a=vn(a);const l=this.injector.get(t,nh,a);return l!==nh||s===nh?l:this.parentInjector.get(t,s,a)}}class qd extends Od{get inputs(){return Um(this.componentDef.inputs)}get outputs(){return Um(this.componentDef.outputs)}constructor(t,s){super(),this.componentDef=t,this.ngModule=s,this.componentType=t.type,this.selector=function Bp(e){return e.map(Xy).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!s}create(t,s,a,l){let f=(l=l||this.ngModule)instanceof il?l:l?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new lg(t,f):t,E=g.get(th,null);if(null===E)throw new ae(407,!1);const w=g.get(pm,null),T=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",x=a?function Jp(e,t,s){return e.selectRootElement(t,s===he.ShadowDom)}(T,a,this.componentDef.encapsulation):Is(T,R,function Vm(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(R)),W=this.componentDef.onPush?288:272,Q=Qp(0,null,null,1,0,null,null,null,null,null),_e=mh(null,Q,null,W,null,null,E,T,w,g,null);let Le,Ge;Ca(_e);try{const tt=this.componentDef;let gt,Ne=null;tt.findHostDirectiveDefs?(gt=[],Ne=new Map,tt.findHostDirectiveDefs(tt,gt,Ne),gt.push(tt)):gt=[tt];const wt=function Iv(e,t){const s=e[Ve],a=Gt;return e[a]=t,vc(s,a,2,"#host",null)}(_e,x),Nn=function wv(e,t,s,a,l,f,g,E){const w=l[Ve];!function Dv(e,t,s,a){for(const l of e)t.mergedAttrs=os(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&(Rs(t,t.mergedAttrs,!0),null!==s&&Lf(a,s,t))}(a,e,t,g);const T=f.createRenderer(t,s),R=mh(l,Dm(s),null,s.onPush?32:16,l[e.index],e,f,T,E||null,null,null);return w.firstCreatePass&&ng(w,e,a.length-1),Zd(l,R),l[e.index]=R}(wt,x,tt,gt,_e,E,T);Ge=wu(Q,Gt),x&&function Hm(e,t,s,a){if(a)zs(e,s,["ng-version",nu.full]);else{const{attrs:l,classes:f}=function ev(e){const t=[],s=[];let a=1,l=2;for(;a<e.length;){let f=e[a];if("string"==typeof f)2===l?""!==f&&t.push(f,e[++a]):8===l&&s.push(f);else{if(!Si(l))break;l=f}a++}return{attrs:t,classes:s}}(t.selectors[0]);l&&zs(e,s,l),f&&f.length>0&&Ja(e,s,f.join(" "))}}(T,tt,x,a),void 0!==s&&function Cv(e,t,s){const a=e.projection=[];for(let l=0;l<t.length;l++){const f=s[l];a.push(null!=f?Array.from(f):null)}}(Ge,this.ngContentSelectors,s),Le=function Th(e,t,s,a,l,f){const g=Sn(),E=l[Ve],w=xn(g,l);Rm(E,l,g,s,null,a);for(let R=0;R<s.length;R++)b(_n(l,E,g.directiveStart+R,g),l);Kd(E,l,g),w&&b(w,l);const T=_n(l,E,g.directiveStart+g.componentOffset,g);if(e[fn]=l[fn]=T,null!==f)for(const R of f)R(T,t);return Zp(E,g,e),T}(Nn,tt,gt,Ne,_e,[ug]),_h(Q,_e,null)}finally{ba()}return new ll(this.componentType,Le,nr(Ge,_e),_e,Ge)}}class ll extends Nt{constructor(t,s,a,l,f){super(),this.location=a,this._rootLView=l,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new Ev(l),this.componentType=t}setInput(t,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[t])){const f=this._rootLView;Ch(f[Ve],f,l,t,s),wh(Tn(this._tNode.index,f))}}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ug(){const e=Sn();Aa(ce()[Ve],e)}function wc(e){return!!hg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function hg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function fr(e,t,s){return!Object.is(e[t],s)&&(e[t]=s,!0)}function Rc(e,t,s,a,l,f,g,E){const w=ce(),T=_t(),R=e+Gt,x=T.firstCreatePass?function gg(e,t,s,a,l,f,g,E,w){const T=t.consts,R=vc(t,e,4,g||null,Fi(T,E));eg(t,s,R,Fi(T,w)),Aa(t,R);const x=R.tView=Qp(2,R,a,l,f,t.directiveRegistry,t.pipeRegistry,null,t.schemas,T);return null!==t.queries&&(t.queries.template(t,R),x.queries=t.queries.embeddedTView(R)),R}(R,T,w,t,s,a,l,f,g):T.data[R];lr(x,!1);const W=w[vt].createComment("");ws(T,w,W,x),b(W,w),Zd(w,w[R]=sg(W,w,W,x)),gl(x)&&Yp(T,w,x),null!=g&&qp(w,x,E)}function ui(e,t,s){const a=ce();return fr(a,ts(),t)&&function Ai(e,t,s,a,l,f,g,E){const w=xn(t,s);let R,T=t.inputs;!E&&null!=T&&(R=T[a])?(Ch(e,s,R,a,l),Us(t)&&function cv(e,t){const s=Tn(t,e);16&s[mt]||(s[mt]|=32)}(s,t.index)):3&t.type&&(a=function Tm(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),l=null!=g?g(l,t.value||"",a):l,f.setProperty(w,a,l))}(_t(),function tn(){const e=ht.lFrame;return wu(e.tView,e.selectedIndex)}(),a,e,t,a[vt],s,!1),ui}function Mh(e,t,s,a,l){const g=l?"class":"style";Ch(e,s,t.inputs[g],g,a)}function fu(e,t,s,a){const l=ce(),f=_t(),g=Gt+e,E=l[vt],w=f.firstCreatePass?function Rv(e,t,s,a,l,f){const g=t.consts,w=vc(t,e,2,a,Fi(g,l));return eg(t,s,w,Fi(g,f)),null!==w.attrs&&Rs(w,w.attrs,!1),null!==w.mergedAttrs&&Rs(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(g,f,l,t,s,a):f.data[g],T=l[g]=Is(E,t,function Mu(){return ht.lFrame.currentNamespace}()),R=gl(w);return lr(w,!0),Lf(E,T,w),32!=(32&w.flags)&&ws(f,l,T,w),0===function Cu(){return ht.lFrame.elementDepthCount}()&&b(T,l),function _a(){ht.lFrame.elementDepthCount++}(),R&&(Yp(f,l,w),Zp(f,w,l)),null!==a&&qp(l,w),fu}function tf(){let e=Sn();Su()?function Ea(){ht.lFrame.isParent=!1}():(e=e.parent,lr(e,!1));const t=e;!function bu(){ht.lFrame.elementDepthCount--}();const s=_t();return s.firstCreatePass&&(Aa(s,e),Io(e)&&s.queries.elementEnd(e)),null!=t.classesWithoutHost&&function No(e){return 0!=(8&e.flags)}(t)&&Mh(s,t,ce(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function rs(e){return 0!=(16&e.flags)}(t)&&Mh(s,t,ce(),t.stylesWithoutHost,!1),tf}function Zr(e,t,s,a){return fu(e,t,s,a),tf(),Zr}function t_(){return ce()}function _g(e){return!!e&&"function"==typeof e.then}function yg(e){return!!e&&"function"==typeof e.subscribe}const nf=yg;function Oh(e,t,s,a){const l=ce(),f=_t(),g=Sn();return function kh(e,t,s,a,l,f,g){const E=gl(a),T=e.firstCreatePass&&Fm(e),R=t[fn],x=Lm(t);let W=!0;if(3&a.type||g){const Le=xn(a,t),Ge=g?g(Le):Le,tt=x.length,gt=g?wt=>g(kn(wt[a.index])):a.index;let Ne=null;if(!g&&E&&(Ne=function Pv(e,t,s,a){const l=e.cleanup;if(null!=l)for(let f=0;f<l.length-1;f+=2){const g=l[f];if(g===s&&l[f+1]===a){const E=t[_o],w=l[f+2];return E.length>w?E[w]:null}"string"==typeof g&&(f+=2)}return null}(e,t,l,a.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=f,Ne.__ngLastListenerFn__=f,W=!1;else{f=n_(a,t,R,f,!1);const wt=s.listen(Ge,l,f);x.push(f,wt),T&&T.push(l,gt,tt,tt+1)}}else f=n_(a,t,R,f,!1);const Q=a.outputs;let _e;if(W&&null!==Q&&(_e=Q[l])){const Le=_e.length;if(Le)for(let Ge=0;Ge<Le;Ge+=2){const Nn=t[_e[Ge]][_e[Ge+1]].subscribe(f),rr=x.length;x.push(f,Nn),T&&T.push(l,a.index,rr,-(rr+1))}}}(f,l,l[vt],g,e,t,a),Oh}function rf(e,t,s,a){try{return ar(6,t,s),!1!==s(a)}catch(l){return ia(e,l),!1}finally{ar(7,t,s)}}function n_(e,t,s,a,l){return function f(g){if(g===Function)return a;wh(e.componentOffset>-1?Tn(e.index,t):t);let w=rf(t,s,a,g),T=f.__ngNextListenerFn__;for(;T;)w=rf(t,s,T,g)&&w,T=T.__ngNextListenerFn__;return l&&!1===w&&(g.preventDefault(),g.returnValue=!1),w}}function xh(e=1){return function td(e){return(ht.lFrame.contextLView=function Ta(e,t){for(;e>0;)t=t[Qi],e--;return t}(e,ht.lFrame.contextLView))[fn]}(e)}function D_(e,t=""){const s=ce(),a=_t(),l=e+Gt,f=a.firstCreatePass?vc(a,l,1,t,null):a.data[l],g=s[l]=function Lr(e,t){return e.createText(t)}(s[vt],t);ws(a,s,g,f),lr(f,!1)}function Sg(e){return jh("",e,""),Sg}function jh(e,t,s){const a=ce(),l=function Dc(e,t,s,a){return fr(e,ts(),s)?t+we(s)+a:yt}(a,e,t,s);return l!==yt&&uo(a,$n(),l),jh}const Lc=void 0;var nE=["en",[["a","p"],["AM","PM"],Lc],[["AM","PM"],Lc,Lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lc,"{1} 'at' {0}",Lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tE(e){const s=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Fc={};function Pg(e){const t=function Pi(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=G_(t);if(s)return s;const a=t.split("-")[0];if(s=G_(a),s)return s;if("en"===a)return nE;throw new ae(701,!1)}function W_(e){return Pg(e)[Ye.PluralCase]}function G_(e){return e in Fc||(Fc[e]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[e]),Fc[e]}var Ye=(()=>((Ye=Ye||{})[Ye.LocaleId=0]="LocaleId",Ye[Ye.DayPeriodsFormat=1]="DayPeriodsFormat",Ye[Ye.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ye[Ye.DaysFormat=3]="DaysFormat",Ye[Ye.DaysStandalone=4]="DaysStandalone",Ye[Ye.MonthsFormat=5]="MonthsFormat",Ye[Ye.MonthsStandalone=6]="MonthsStandalone",Ye[Ye.Eras=7]="Eras",Ye[Ye.FirstDayOfWeek=8]="FirstDayOfWeek",Ye[Ye.WeekendRange=9]="WeekendRange",Ye[Ye.DateFormat=10]="DateFormat",Ye[Ye.TimeFormat=11]="TimeFormat",Ye[Ye.DateTimeFormat=12]="DateTimeFormat",Ye[Ye.NumberSymbols=13]="NumberSymbols",Ye[Ye.NumberFormats=14]="NumberFormats",Ye[Ye.CurrencyCode=15]="CurrencyCode",Ye[Ye.CurrencySymbol=16]="CurrencySymbol",Ye[Ye.CurrencyName=17]="CurrencyName",Ye[Ye.Currencies=18]="Currencies",Ye[Ye.Directionality=19]="Directionality",Ye[Ye.PluralCase=20]="PluralCase",Ye[Ye.ExtraData=21]="ExtraData",Ye))();const Bc="en-US";let z_=Bc;class $c{}class OE{}function kE(e,t){return new oy(e,t??null)}class oy extends $c{constructor(t,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bm(this);const a=function En(e,t){const s=e[en]||null;if(!s&&!0===t)throw new Error(`Type ${ge(e)} does not have '\u0275mod' property.`);return s}(t);this._bootstrapComponents=function dt(e){return e instanceof Function?e():e}(a.bootstrap),this._r3Injector=_m(t,s,[{provide:$c,useValue:this},{provide:li,useValue:this.componentFactoryResolver}],ge(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Kg extends OE{constructor(t){super(),this.moduleType=t}create(t){return new oy(this.moduleType,t)}}function up(e){return t=>{setTimeout(e,void 0,t)}}const po=class _y extends v.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,s,a){let l=t,f=s||(()=>null),g=a;if(t&&"object"==typeof t){const w=t;l=w.next?.bind(w),f=w.error?.bind(w),g=w.complete?.bind(w)}this.__isAsync&&(f=up(f),l&&(l=up(l)),g&&(g=up(g)));const E=super.subscribe({next:l,error:f,complete:g});return t instanceof q.w0&&t.add(E),E}};let Gc=(()=>{class e{}return e.__NG_ELEMENT_ID__=YE,e})();const vy=Gc,WI=class extends vy{constructor(t,s,a){super(),this._declarationLView=t,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(t,s){const a=this._declarationTContainer.tView,l=mh(this._declarationLView,a,t,16,null,a.declTNode,null,null,null,null,s||null);l[Ls]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[ti];return null!==g&&(l[ti]=g.createEmbeddedView(a)),_h(a,l,t),new al(l)}};function YE(){return function dp(e,t){return 4&e.type?new WI(t,e,nr(e,t)):null}(Sn(),ce())}let yf=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ey,e})();function Ey(){return function nm(e,t){let s;const a=t[e.index];if(Er(a))s=a;else{let l;if(8&e.type)l=kn(a);else{const f=t[vt];l=f.createComment("");const g=xn(e,t);io(f,Ql(f,g),l,function zn(e,t){return e.nextSibling(t)}(f,g),!1)}t[e.index]=s=sg(a,t,l,e),Zd(t,s)}return new em(s,e,t)}(Sn(),ce())}const Iy=yf,em=class extends Iy{constructor(t,s,a){super(),this._lContainer=t,this._hostTNode=s,this._hostLView=a}get element(){return nr(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){const t=xu(this._hostTNode,this._hostLView);if(as(t)){const s=ls(t,this._hostLView),a=Bi(t);return new wi(s[Ve].data[a+8],s)}return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const s=zc(this._lContainer);return null!==s&&s[t]||null}get length(){return this._lContainer.length-On}createEmbeddedView(t,s,a){let l,f;"number"==typeof a?l=a:null!=a&&(l=a.index,f=a.injector);const g=t.createEmbeddedView(s||{},f);return this.insert(g,l),g}createComponent(t,s,a,l,f){const g=t&&!function Fa(e){return"function"==typeof e}(t);let E;if(g)E=s;else{const x=s||{};E=x.index,a=x.injector,l=x.projectableNodes,f=x.environmentInjector||x.ngModuleRef}const w=g?t:new qd(nt(t)),T=a||this.parentInjector;if(!f&&null==w.ngModule){const W=(g?T:this.parentInjector).get(il,null);W&&(f=W)}const R=w.create(T,l,void 0,f);return this.insert(R.hostView,E),R}insert(t,s){const a=t._lView,l=a[Ve];if(function vl(e){return Er(e[Xt])}(a)){const R=this.indexOf(t);if(-1!==R)this.detach(R);else{const x=a[Xt],W=new em(x,x[In],x[Xt]);W.detach(W.indexOf(t))}}const f=this._adjustIndex(s),g=this._lContainer;!function ro(e,t,s,a){const l=On+a,f=s.length;a>0&&(s[l-1][Rr]=t),a<f-On?(t[Rr]=s[l],cd(s,On+a,t)):(s.push(t),t[Rr]=null),t[Xt]=s;const g=t[Ls];null!==g&&s!==g&&function Nf(e,t){const s=e[Ji];t[mn]!==t[Xt][Xt][mn]&&(e[pl]=!0),null===s?e[Ji]=[t]:s.push(t)}(g,t);const E=t[ti];null!==E&&E.insertView(e),t[mt]|=64}(l,a,g,f);const E=Fr(f,g),w=a[vt],T=Ql(w,g[Bs]);return null!==T&&function no(e,t,s,a,l,f){a[Ar]=l,a[In]=t,bs(e,a,s,1,l,f)}(l,g[In],w,a,T,E),t.attachToViewContainerRef(),cd(tm(g),f,t),t}move(t,s){return this.insert(t,s)}indexOf(t){const s=zc(this._lContainer);return null!==s?s.indexOf(t):-1}remove(t){const s=this._adjustIndex(t,-1),a=Za(this._lContainer,s);a&&(ps(tm(this._lContainer),s),Of(a[Ve],a))}detach(t){const s=this._adjustIndex(t,-1),a=Za(this._lContainer,s);return a&&null!=ps(tm(this._lContainer),s)?new al(a):null}_adjustIndex(t,s=0){return t??this.length+s}};function zc(e){return e[Oi]}function tm(e){return e[Oi]||(e[Oi]=[])}function My(...e){}const r0=new Rt("Application Initializer");let Ny=(()=>{class e{constructor(s){this.appInits=s,this.resolve=My,this.reject=My,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const f=this.appInits[l]();if(_g(f))s.push(f);else if(nf(f)){const g=new Promise((E,w)=>{f.subscribe({complete:E,error:w})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return e.\u0275fac=function(s){return new(s||e)(Ft(r0,8))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const s0=new Rt("AppId",{providedIn:"root",factory:function o0(){return`${sI()}${sI()}${sI()}`}});function sI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const a0=new Rt("Platform Initializer"),G0=new Rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Oy=new Rt("LocaleId",{providedIn:"root",factory:()=>dn(Oy,it.Optional|it.SkipSelf)||function z0(){return typeof $localize<"u"&&$localize.locale||Bc}()}),K0=new Rt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Q0=(()=>Promise.resolve(0))();function oI(e){typeof Zone>"u"?Q0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class go{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new po(!1),this.onMicrotaskEmpty=new po(!1),this.onStable=new po(!1),this.onError=new po(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function J0(){let e=kt.requestAnimationFrame,t=kt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function tw(e){const t=()=>{!function ew(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(kt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,lI(e),e.isCheckStableRunning=!0,aI(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),lI(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,f,g,E)=>{try{return c0(e),s.invokeTask(l,f,g,E)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),d0(e)}},onInvoke:(s,a,l,f,g,E,w)=>{try{return c0(e),s.invoke(l,f,g,E,w)}finally{e.shouldCoalesceRunChangeDetection&&t(),d0(e)}},onHasTask:(s,a,l,f)=>{s.hasTask(l,f),a===l&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,lI(e),aI(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,l,f)=>(s.handleError(l,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!go.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(go.isInAngularZone())throw new ae(909,!1)}run(t,s,a){return this._inner.run(t,s,a)}runTask(t,s,a,l){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+l,t,X0,My,My);try{return f.runTask(g,s,a)}finally{f.cancelTask(g)}}runGuarded(t,s,a){return this._inner.runGuarded(t,s,a)}runOutsideAngular(t){return this._outer.run(t)}}const X0={};function aI(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function lI(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function c0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function d0(e){e._nesting--,aI(e)}class nw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new po,this.onMicrotaskEmpty=new po,this.onStable=new po,this.onError=new po}run(t,s,a){return t.apply(s,a)}runGuarded(t,s,a){return t.apply(s,a)}runOutsideAngular(t){return t()}runTask(t,s,a,l){return t.apply(s,a)}}const f0=new Rt(""),h0=new Rt("");let uI,rw=(()=>{class e{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uI||(function iw(e){uI=e}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{go.assertNotInAngularZone(),oI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oI(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return e.\u0275fac=function(s){return new(s||e)(Ft(go),Ft(p0),Ft(h0))},e.\u0275prov=Je({token:e,factory:e.\u0275fac}),e})(),p0=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return uI?.findTestabilityInTree(this,s,a)??null}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const mu=!1;let Zc=null;const g0=new Rt("AllowMultipleToken"),cI=new Rt("PlatformDestroyListeners"),sw=new Rt("appBootstrapListener");function _0(e,t,s=[]){const a=`Platform: ${t}`,l=new Rt(a);return(f=[])=>{let g=dI();if(!g||g.injector.get(g0,!1)){const E=[...s,...f,{provide:l,useValue:!0}];e?e(E):function lw(e){if(Zc&&!Zc.get(g0,!1))throw new ae(400,!1);Zc=e;const t=e.get(v0);(function m0(e){const t=e.get(a0,null);t&&t.forEach(s=>s())})(e)}(function y0(e=[],t){return iu.create({name:t,providers:[{provide:Pd,useValue:"platform"},{provide:cI,useValue:new Set([()=>Zc=null])},...e]})}(E,a))}return function cw(e){const t=dI();if(!t)throw new ae(401,!1);return t}()}}function dI(){return Zc?.get(v0)??null}let v0=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function I0(e,t){let s;return s="noop"===e?new nw:("zone.js"===e?void 0:e)||new go(t),s}(a?.ngZone,function E0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(a)),f=[{provide:go,useValue:l}];return l.run(()=>{const g=iu.create({providers:f,parent:this.injector,name:s.moduleType.name}),E=s.create(g),w=E.injector.get(xd,null);if(!w)throw new ae(402,!1);return l.runOutsideAngular(()=>{const T=l.onError.subscribe({next:R=>{w.handleError(R)}});E.onDestroy(()=>{ky(this._modules,E),T.unsubscribe()})}),function w0(e,t,s){try{const a=s();return _g(a)?a.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):a}catch(a){throw t.runOutsideAngular(()=>e.handleError(a)),a}}(w,l,()=>{const T=E.injector.get(Ny);return T.runInitializers(),T.donePromise.then(()=>(function Mg(e){de(e,"Expected localeId to be defined"),"string"==typeof e&&(z_=e.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Oy,Bc)||Bc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(s,a=[]){const l=D0({},a);return function ow(e,t,s){const a=new Kg(s);return Promise.resolve(a)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,l))}_moduleDoBootstrap(s){const a=s.injector.get(fI);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new ae(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(cI,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(s){return new(s||e)(Ft(iu))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function D0(e,t){return Array.isArray(t)?t.reduce(D0,e):{...e,...t}}let fI=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),g=new N.y(E=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{go.assertNotInAngularZone(),oI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{go.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{w.unsubscribe(),T.unsubscribe()}});this.isStable=(0,se.T)(f,g.pipe((0,te.B)()))}bootstrap(s,a){const l=s instanceof Od;if(!this._injector.get(Ny).done){!l&&function Hn(e){const t=nt(e)||xt(e)||Mt(e);return null!==t&&t.standalone}(s);throw new ae(405,mu)}let g;g=l?s:this._injector.get(li).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const E=function aw(e){return e.isBoundToModule}(g)?void 0:this._injector.get($c),T=g.create(iu.NULL,[],a||g.selector,E),R=T.location.nativeElement,x=T.injector.get(f0,null);return x?.registerApplication(R),T.onDestroy(()=>{this.detachView(T.hostView),ky(this.components,T),x?.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;ky(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(sw,[]);a.push(...this._bootstrapListeners),a.forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ky(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ae(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(s){return new(s||e)(Ft(go),Ft(il),Ft(xd))},e.\u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ky(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}function fw(){return!1}let hw=(()=>{class e{}return e.__NG_ELEMENT_ID__=pw,e})();function pw(e){return function gw(e,t,s){if(Us(e)&&!s){const a=Tn(e.index,t);return new al(a,a)}return 47&e.type?new al(t[mn],t):null}(Sn(),ce(),16==(16&e))}class A0{constructor(){}supports(t){return wc(t)}create(t){return new Iw(t)}}const Ew=(e,t)=>t;class Iw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ew}forEachItem(t){let s;for(s=this._itHead;null!==s;s=s._next)t(s)}forEachOperation(t){let s=this._itHead,a=this._removalsHead,l=0,f=null;for(;s||a;){const g=!a||s&&s.currentIndex<P0(a,l,f)?s:a,E=P0(g,l,f),w=g.currentIndex;if(g===a)l--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)l++;else{f||(f=[]);const T=E-l,R=w-l;if(T!=R){for(let W=0;W<T;W++){const Q=W<f.length?f[W]:f[W]=0,_e=Q+W;R<=_e&&_e<T&&(f[W]=Q+1)}f[g.previousIndex]=R-T}}E!==w&&t(g,E,w)}}forEachPreviousItem(t){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachMovedItem(t){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}forEachIdentityChange(t){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)t(s)}diff(t){if(null==t&&(t=[]),!wc(t))throw new ae(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,f,g,s=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)f=t[E],g=this._trackByFn(E,f),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,f,g,E)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,g,E),a=!0),s=s._next}else l=0,function Zm(e,t){if(Array.isArray(e))for(let s=0;s<e.length;s++)t(e[s]);else{const s=e[Symbol.iterator]();let a;for(;!(a=s.next()).done;)t(a.value)}}(t,E=>{g=this._trackByFn(l,E),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,E,g,l)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,g,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,s,a,l){let f;return null===t?f=this._itTail:(f=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._reinsertAfter(t,f,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(t.item,s)||this._addIdentityChange(t,s),this._moveAfter(t,f,l)):t=this._addAfter(new ww(s,a),f,l),t}_verifyReinsertion(t,s,a,l){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?t=this._reinsertAfter(f,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const s=t._next;this._addToRemovals(this._unlink(t)),t=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,f=t._nextRemoved;return null===l?this._removalsHead=f:l._nextRemoved=f,null===f?this._removalsTail=l:f._prevRemoved=l,this._insertAfter(t,s,a),this._addToMoves(t,a),t}_moveAfter(t,s,a){return this._unlink(t),this._insertAfter(t,s,a),this._addToMoves(t,a),t}_addAfter(t,s,a){return this._insertAfter(t,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,s,a){const l=null===s?this._itHead:s._next;return t._next=l,t._prev=s,null===l?this._itTail=t:l._prev=t,null===s?this._itHead=t:s._next=t,null===this._linkedRecords&&(this._linkedRecords=new R0),this._linkedRecords.put(t),t.currentIndex=a,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const s=t._prev,a=t._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,t}_addToMoves(t,s){return t.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new R0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,s){return t.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ww{constructor(t,s){this.item=t,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,t))return a;return null}remove(t){const s=t._prevDup,a=t._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class R0{constructor(){this.map=new Map}put(t){const s=t.trackById;let a=this.map.get(s);a||(a=new Dw,this.map.set(s,a)),a.add(t)}get(t,s){const l=this.map.get(t);return l?l.get(t,s):null}remove(t){const s=t.trackById;return this.map.get(s).remove(t)&&this.map.delete(s),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function P0(e,t,s){const a=e.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+t+l}class M0{constructor(){}supports(t){return t instanceof Map||hg(t)}create(){return new Cw}}class Cw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let s;for(s=this._mapHead;null!==s;s=s._next)t(s)}forEachPreviousItem(t){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)t(s)}forEachChangedItem(t){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)t(s)}forEachAddedItem(t){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)t(s)}forEachRemovedItem(t){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)t(s)}diff(t){if(t){if(!(t instanceof Map||hg(t)))throw new ae(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(t,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,s){if(t){const a=t._prev;return s._next=t,s._prev=a,t._prev=s,a&&(a._next=s),t===this._mapHead&&(this._mapHead=s),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(t,s){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,s);const f=l._prev,g=l._next;return f&&(f._next=g),g&&(g._prev=f),l._next=null,l._prev=null,l}const a=new bw(t);return this._records.set(t,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,s){Object.is(s,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=s,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,s){t instanceof Map?t.forEach(s):Object.keys(t).forEach(a=>s(t[a],a))}}class bw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N0(){return new _I([new A0])}let _I=(()=>{class e{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||N0()),deps:[[e,new Fl,new wr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new ae(901,!1)}}return e.\u0275prov=Je({token:e,providedIn:"root",factory:N0}),e})();function O0(){return new yI([new M0])}let yI=(()=>{class e{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||O0()),deps:[[e,new Fl,new wr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new ae(901,!1)}}return e.\u0275prov=Je({token:e,providedIn:"root",factory:O0}),e})();const Aw=_0(null,"core",[]);let Rw=(()=>{class e{constructor(s){}}return e.\u0275fac=function(s){return new(s||e)(Ft(fI))},e.\u0275mod=J({type:e}),e.\u0275inj=Xe({}),e})()},3942:(st,be,k)=>{"use strict";k.d(be,{Z:()=>ct});var v=k(2090),q=k(4859),N=k(6881),se=k(1877);class te{constructor(ae,Re){this._delegate=ae,this.firebase=Re,(0,N._addComponent)(ae,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ae,Re=N._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(ae);return!Pe.isInitialized()&&"EXPLICIT"===(null===(we=Pe.getComponent())||void 0===we?void 0:we.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Re})}_removeServiceInstance(ae,Re=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(Re)}_addComponent(ae){(0,N._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,N._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new v.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function pe(){const He=function ge(He){const ae={},Re={__esModule:!0,initializeApp:function Te(Me,Ke={}){const ee=N.initializeApp(Me,Ke);if((0,v.r3)(ae,ee.name))return ae[ee.name];const lt=new He(ee,Re);return ae[ee.name]=lt,lt},app:Pe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function ve(Me){const Ke=Me.name,ee=Ke.replace("-compat","");if(N._registerComponent(Me)&&"PUBLIC"===Me.type){const lt=(ze=Pe())=>{if("function"!=typeof ze[ee])throw fe.create("invalid-app-argument",{appName:Ke});return ze[ee]()};void 0!==Me.serviceProps&&(0,v.ZB)(lt,Me.serviceProps),Re[ee]=lt,He.prototype[ee]=function(...ze){return this._getService.bind(this,Ke).apply(this,Me.multipleInstances?ze:[])}}return"PUBLIC"===Me.type?Re[ee]:null},removeApp:function we(Me){delete ae[Me]},useAsService:function Be(Me,Ke){return"serverAuth"===Ke?null:Ke},modularAPIs:N}};function Pe(Me){if(!(0,v.r3)(ae,Me=Me||N._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Me});return ae[Me]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function me(){return Object.keys(ae).map(Me=>ae[Me])}}),Pe.App=He,Re}(te);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ae(Re){(0,v.ZB)(He,Re)},createSubscribe:v.ne,ErrorFactory:v.LL,deepExtend:v.ZB}),He}(),F=new se.Yd("@firebase/app-compat");if((0,v.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=B;!function Ie(He){(0,N.registerVersion)("@firebase/app-compat","0.2.13",He)}()},6881:(st,be,k)=>{"use strict";k.r(be),k.d(be,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>di,_DEFAULT_ENTRY_NAME:()=>ir,_addComponent:()=>Ze,_addOrOverwriteComponent:()=>ft,_apps:()=>kt,_clearComponents:()=>Qn,_components:()=>Lt,_getProvider:()=>_r,_registerComponent:()=>Tr,_removeServiceInstance:()=>bn,deleteApp:()=>Sr,getApp:()=>Xr,getApps:()=>Ft,initializeApp:()=>Tt,onLog:()=>Ur,registerVersion:()=>vn,setLogLevel:()=>Jt});var v=k(5861),q=k(4859),N=k(1877),se=k(2090);const te=(ue,J)=>J.some(Ae=>ue instanceof Ae);let ie,fe;const B=new WeakMap,F=new WeakMap,K=new WeakMap,Se=new WeakMap,Ie=new WeakMap;let ae={get(ue,J,Ae){if(ue instanceof IDBTransaction){if("done"===J)return F.get(ue);if("objectStoreNames"===J)return ue.objectStoreNames||K.get(ue);if("store"===J)return Ae.objectStoreNames[1]?void 0:Ae.objectStore(Ae.objectStoreNames[0])}return Te(ue[J])},set:(ue,J,Ae)=>(ue[J]=Ae,!0),has:(ue,J)=>ue instanceof IDBTransaction&&("done"===J||"store"===J)||J in ue};function Pe(ue){return"function"==typeof ue?function we(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...J){return ue.apply(me(this),J),Te(B.get(this))}:function(...J){return Te(ue.apply(me(this),J))}:function(J,...Ae){const et=ue.call(me(this),J,...Ae);return K.set(et,J.sort?J.sort():[J]),Te(et)}}(ue):(ue instanceof IDBTransaction&&function He(ue){if(F.has(ue))return;const J=new Promise((Ae,et)=>{const ot=()=>{ue.removeEventListener("complete",Et),ue.removeEventListener("error",nt),ue.removeEventListener("abort",nt)},Et=()=>{Ae(),ot()},nt=()=>{et(ue.error||new DOMException("AbortError","AbortError")),ot()};ue.addEventListener("complete",Et),ue.addEventListener("error",nt),ue.addEventListener("abort",nt)});F.set(ue,J)}(ue),te(ue,function ge(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,ae):ue)}function Te(ue){if(ue instanceof IDBRequest)return function ct(ue){const J=new Promise((Ae,et)=>{const ot=()=>{ue.removeEventListener("success",Et),ue.removeEventListener("error",nt)},Et=()=>{Ae(Te(ue.result)),ot()},nt=()=>{et(ue.error),ot()};ue.addEventListener("success",Et),ue.addEventListener("error",nt)});return J.then(Ae=>{Ae instanceof IDBCursor&&B.set(Ae,ue)}).catch(()=>{}),Ie.set(J,ue),J}(ue);if(Se.has(ue))return Se.get(ue);const J=Pe(ue);return J!==ue&&(Se.set(ue,J),Ie.set(J,ue)),J}const me=ue=>Ie.get(ue),Me=["get","getKey","getAll","getAllKeys","count"],Ke=["put","add","delete","clear"],ee=new Map;function lt(ue,J){if(!(ue instanceof IDBDatabase)||J in ue||"string"!=typeof J)return;if(ee.get(J))return ee.get(J);const Ae=J.replace(/FromIndex$/,""),et=J!==Ae,ot=Ke.includes(Ae);if(!(Ae in(et?IDBIndex:IDBObjectStore).prototype)||!ot&&!Me.includes(Ae))return;const Et=function(){var nt=(0,v.Z)(function*(xt,...Mt){const Hn=this.transaction(xt,ot?"readwrite":"readonly");let En=Hn.store;return et&&(En=En.index(Mt.shift())),(yield Promise.all([En[Ae](...Mt),ot&&Hn.done]))[0]});return function(Mt){return nt.apply(this,arguments)}}();return ee.set(J,Et),Et}!function Re(ue){ae=ue(ae)}(ue=>({...ue,get:(J,Ae,et)=>lt(J,Ae)||ue.get(J,Ae,et),has:(J,Ae)=>!!lt(J,Ae)||ue.has(J,Ae)}));class ze{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Ae=>{if(function It(ue){return"VERSION"===ue.getComponent()?.type}(Ae)){const et=Ae.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Ae=>Ae).join(" ")}}const qe="@firebase/app",pr=new N.Yd("@firebase/app"),ir="[DEFAULT]",Jr={[qe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},kt=new Map,Lt=new Map;function Ze(ue,J){try{ue.container.addComponent(J)}catch(Ae){pr.debug(`Component ${J.name} failed to register with FirebaseApp ${ue.name}`,Ae)}}function ft(ue,J){ue.container.addOrOverwriteComponent(J)}function Tr(ue){const J=ue.name;if(Lt.has(J))return pr.debug(`There were multiple attempts to register component ${J}.`),!1;Lt.set(J,ue);for(const Ae of kt.values())Ze(Ae,ue);return!0}function _r(ue,J){const Ae=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Ae&&Ae.triggerHeartbeat(),ue.container.getProvider(J)}function bn(ue,J,Ae=ir){_r(ue,J).clearInstance(Ae)}function Qn(){Lt.clear()}const sr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ut{constructor(J,Ae,et){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Ae),this._name=Ae.name,this._automaticDataCollectionEnabled=Ae.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const di="9.23.0";function Tt(ue,J={}){let Ae=ue;"object"!=typeof J&&(J={name:J});const et=Object.assign({name:ir,automaticDataCollectionEnabled:!1},J),ot=et.name;if("string"!=typeof ot||!ot)throw sr.create("bad-app-name",{appName:String(ot)});if(Ae||(Ae=(0,se.aH)()),!Ae)throw sr.create("no-options");const Et=kt.get(ot);if(Et){if((0,se.vZ)(Ae,Et.options)&&(0,se.vZ)(et,Et.config))return Et;throw sr.create("duplicate-app",{appName:ot})}const nt=new q.H0(ot);for(const Mt of Lt.values())nt.addComponent(Mt);const xt=new Ut(Ae,et,nt);return kt.set(ot,xt),xt}function Xr(ue=ir){const J=kt.get(ue);if(!J&&ue===ir&&(0,se.aH)())return Tt();if(!J)throw sr.create("no-app",{appName:ue});return J}function Ft(){return Array.from(kt.values())}function Sr(ue){return dn.apply(this,arguments)}function dn(){return(dn=(0,v.Z)(function*(ue){const J=ue.name;kt.has(J)&&(kt.delete(J),yield Promise.all(ue.container.getProviders().map(Ae=>Ae.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function vn(ue,J,Ae){var et;let ot=null!==(et=Jr[ue])&&void 0!==et?et:ue;Ae&&(ot+=`-${Ae}`);const Et=ot.match(/\s|\//),nt=J.match(/\s|\//);if(Et||nt){const xt=[`Unable to register library "${ot}" with version "${J}":`];return Et&&xt.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),Et&&nt&&xt.push("and"),nt&&xt.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void pr.warn(xt.join(" "))}Tr(new q.wA(`${ot}-version`,()=>({library:ot,version:J}),"VERSION"))}function Ur(ue,J){if(null!==ue&&"function"!=typeof ue)throw sr.create("invalid-log-argument");(0,N.Am)(ue,J)}function Jt(ue){(0,N.Ub)(ue)}const Vr="firebase-heartbeat-database",or=1,V="firebase-heartbeat-store";let L=null;function j(){return L||(L=function ve(ue,J,{blocked:Ae,upgrade:et,blocking:ot,terminated:Et}={}){const nt=indexedDB.open(ue,J),xt=Te(nt);return et&&nt.addEventListener("upgradeneeded",Mt=>{et(Te(nt.result),Mt.oldVersion,Mt.newVersion,Te(nt.transaction),Mt)}),Ae&&nt.addEventListener("blocked",Mt=>Ae(Mt.oldVersion,Mt.newVersion,Mt)),xt.then(Mt=>{Et&&Mt.addEventListener("close",()=>Et()),ot&&Mt.addEventListener("versionchange",Hn=>ot(Hn.oldVersion,Hn.newVersion,Hn))}).catch(()=>{}),xt}(Vr,or,{upgrade:(ue,J)=>{0===J&&ue.createObjectStore(V)}}).catch(ue=>{throw sr.create("idb-open",{originalErrorMessage:ue.message})})),L}function Y(){return(Y=(0,v.Z)(function*(ue){try{return yield(yield j()).transaction(V).objectStore(V).get(Pt(ue))}catch(J){if(J instanceof se.ZR)pr.warn(J.message);else{const Ae=sr.create("idb-get",{originalErrorMessage:J?.message});pr.warn(Ae.message)}}})).apply(this,arguments)}function ke(ue,J){return ut.apply(this,arguments)}function ut(){return(ut=(0,v.Z)(function*(ue,J){try{const et=(yield j()).transaction(V,"readwrite");yield et.objectStore(V).put(J,Pt(ue)),yield et.done}catch(Ae){if(Ae instanceof se.ZR)pr.warn(Ae.message);else{const et=sr.create("idb-set",{originalErrorMessage:Ae?.message});pr.warn(et.message)}}})).apply(this,arguments)}function Pt(ue){return`${ue.name}!${ue.options.appId}`}class Bt{constructor(J){this.container=J,this._heartbeatsCache=null;const Ae=this.container.getProvider("app").getImmediate();this._storage=new Hr(Ae),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var J=this;return(0,v.Z)(function*(){const et=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=Ct();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==ot&&!J._heartbeatsCache.heartbeats.some(Et=>Et.date===ot))return J._heartbeatsCache.heartbeats.push({date:ot,agent:et}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(Et=>{const nt=new Date(Et.date).valueOf();return Date.now()-nt<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,v.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Ae=Ct(),{heartbeatsToSend:et,unsentEntries:ot}=function Jn(ue,J=1024){const Ae=[];let et=ue.slice();for(const ot of ue){const Et=Ae.find(nt=>nt.agent===ot.agent);if(Et){if(Et.dates.push(ot.date),ei(Ae)>J){Et.dates.pop();break}}else if(Ae.push({agent:ot.agent,dates:[ot.date]}),ei(Ae)>J){Ae.pop();break}et=et.slice(1)}return{heartbeatsToSend:Ae,unsentEntries:et}}(J._heartbeatsCache.heartbeats),Et=(0,se.L)(JSON.stringify({version:2,heartbeats:et}));return J._heartbeatsCache.lastSentHeartbeatDate=Ae,ot.length>0?(J._heartbeatsCache.heartbeats=ot,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),Et})()}}function Ct(){return(new Date).toISOString().substring(0,10)}class Hr{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,v.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function he(ue){return Y.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Ae=this;return(0,v.Z)(function*(){var et;if(yield Ae._canUseIndexedDBPromise){const Et=yield Ae.read();return ke(Ae.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Et.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Ae=this;return(0,v.Z)(function*(){var et;if(yield Ae._canUseIndexedDBPromise){const Et=yield Ae.read();return ke(Ae.app,{lastSentHeartbeatDate:null!==(et=J.lastSentHeartbeatDate)&&void 0!==et?et:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...J.heartbeats]})}})()}}function ei(ue){return(0,se.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function mo(ue){Tr(new q.wA("platform-logger",J=>new ze(J),"PRIVATE")),Tr(new q.wA("heartbeat",J=>new Bt(J),"PRIVATE")),vn(qe,"0.9.13",ue),vn(qe,"0.9.13","esm2017"),vn("fire-js","")}("")},4859:(st,be,k)=>{"use strict";k.d(be,{H0:()=>ge,wA:()=>N,zt:()=>te});var v=k(5861),q=k(2090);class N{constructor(B,F,K){this.name=B,this.instanceFactory=F,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const se="[DEFAULT]";class te{constructor(B,F){this.name=B,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const F=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(F)){const K=new q.BH;if(this.instancesDeferred.set(F,K),this.isInitialized(F)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:F});Se&&K.resolve(Se)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(B){var F;const K=this.normalizeInstanceIdentifier(B?.identifier),Se=null!==(F=B?.optional)&&void 0!==F&&F;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ie){if(Se)return null;throw Ie}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function fe(pe){return"EAGER"===pe.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[F,K]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(F);try{const Ie=this.getOrInitializeService({instanceIdentifier:Se});K.resolve(Ie)}catch{}}}}clearInstance(B=se){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,v.Z)(function*(){const F=Array.from(B.instances.values());yield Promise.all([...F.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...F.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=se){return this.instances.has(B)}getOptions(B=se){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:F={}}=B,K=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:K,options:F});for(const[Ie,ct]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ie)&&ct.resolve(Se);return Se}onInit(B,F){var K;const Se=this.normalizeInstanceIdentifier(F),Ie=null!==(K=this.onInitCallbacks.get(Se))&&void 0!==K?K:new Set;Ie.add(B),this.onInitCallbacks.set(Se,Ie);const ct=this.instances.get(Se);return ct&&B(ct,Se),()=>{Ie.delete(B)}}invokeOnInitCallbacks(B,F){const K=this.onInitCallbacks.get(F);if(K)for(const Se of K)try{Se(B,F)}catch{}}getOrInitializeService({instanceIdentifier:B,options:F={}}){let K=this.instances.get(B);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=B,pe===se?void 0:pe),options:F}),this.instances.set(B,K),this.instancesOptions.set(B,F),this.invokeOnInitCallbacks(K,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,K)}catch{}var pe;return K||null}normalizeInstanceIdentifier(B=se){return this.component?this.component.multipleInstances?B:se:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const F=this.getProvider(B.name);if(F.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);F.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const F=new te(B,this);return this.providers.set(B,F),F}getProviders(){return Array.from(this.providers.values())}}},1877:(st,be,k)=>{"use strict";k.d(be,{Am:()=>pe,Ub:()=>ge,Yd:()=>fe,in:()=>q});const v=[];var q=(()=>{return(B=q||(q={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",q;var B})();const N={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},se=q.INFO,te={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},ie=(B,F,...K)=>{if(F<B.logLevel)return;const Se=(new Date).toISOString(),Ie=te[F];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[Ie](`[${Se}]  ${B.name}:`,...K)};class fe{constructor(F){this.name=F,this._logLevel=se,this._logHandler=ie,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in q))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?N[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...F),this._logHandler(this,q.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...F),this._logHandler(this,q.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,q.INFO,...F),this._logHandler(this,q.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,q.WARN,...F),this._logHandler(this,q.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...F),this._logHandler(this,q.ERROR,...F)}}function ge(B){v.forEach(F=>{F.setLogLevel(B)})}function pe(B,F){for(const K of v){let Se=null;F&&F.level&&(Se=N[F.level]),K.userLogHandler=null===B?null:(Ie,ct,...He)=>{const ae=He.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");ct>=(Se??Ie.logLevel)&&B({level:q[ct].toLowerCase(),message:ae,args:He,type:Ie.name})}}}},259:(st,be,k)=>{"use strict";k.d(be,{C6:()=>v.getApps,Mq:()=>v.getApp});var v=k(6881);(0,v.registerVersion)("firebase","9.23.0","app")},9260:(st,be,k)=>{"use strict";k.d(be,{Z:()=>v.Z});var v=k(3942);v.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(st,be,k)=>{"use strict";k.r(be);var v=k(5861),q=k(3942),N=k(2090),se=k(6881),te=k(7582),ie=k(1877),fe=k(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K_EMAIL_SIGNIN="EMAIL_SIGNIN",K_PASSWORD_RESET="PASSWORD_RESET",K_RECOVER_EMAIL="RECOVER_EMAIL",K_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",K_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",K_VERIFY_EMAIL="VERIFY_EMAIL";const ct=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},He=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ae=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new ie.Yd("@firebase/auth");function Te(p,...c){we.logLevel<=ie.in.ERROR&&we.error(`Auth (${se.SDK_VERSION}): ${p}`,...c)}function me(p,...c){throw Ke(p,...c)}function ve(p,...c){return Ke(p,...c)}function Be(p,c,d){const m=Object.assign(Object.assign({},He()),{[c]:d});return new N.LL("auth","Firebase",m).create(c,{appName:p.name})}function Me(p,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&me(p,"argument-error"),Be(p,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(p,...c){if("string"!=typeof p){const d=c[0],m=[...c.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(d,...m)}return ae.create(p,...c)}function ee(p,c,...d){if(!p)throw Ke(c,...d)}function lt(p){const c="INTERNAL ASSERTION FAILED: "+p;throw Te(c),new Error(c)}function ze(p,c){p||lt(c)}function It(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function qe(){return"http:"===Mi()||"https:"===Mi()}function Mi(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class ci{constructor(c,d){this.shortDelay=c,this.longDelay=d,ze(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function pr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qe()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function re(p,c){ze(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class le{static initialize(c,d,m){this.fetchImpl=c,d&&(this.headersImpl=d),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ne=new ci(3e4,6e4);function De(p,c){return p.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:p.tenantId}):c}function Ee(p,c,d,m){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,v.Z)(function*(p,c,d,m,C={}){return Je(p,C,(0,v.Z)(function*(){let A={},U={};m&&("GET"===c?U=m:A={body:JSON.stringify(m)});const Z=(0,N.xO)(Object.assign({key:p.config.apiKey},U)).slice(1),Ce=yield p._getAdditionalHeaders();return Ce["Content-Type"]="application/json",p.languageCode&&(Ce["X-Firebase-Locale"]=p.languageCode),le.fetch()(nn(p,p.config.apiHost,d,Z),Object.assign({method:c,headers:Ce,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function Je(p,c,d){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,v.Z)(function*(p,c,d){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},de),c);try{const C=new Wt(p),A=yield Promise.race([d(),C.promise]);C.clearNetworkTimeout();const U=yield A.json();if("needConfirmation"in U)throw un(p,"account-exists-with-different-credential",U);if(A.ok&&!("errorMessage"in U))return U;{const Z=A.ok?U.errorMessage:U.error.message,[Ce,Fe]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ce)throw un(p,"credential-already-in-use",U);if("EMAIL_EXISTS"===Ce)throw un(p,"email-already-in-use",U);if("USER_DISABLED"===Ce)throw un(p,"user-disabled",U);const We=m[Ce]||Ce.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw Be(p,We,Fe);me(p,We)}}catch(C){if(C instanceof N.ZR)throw C;me(p,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function Xe(p,c,d,m){return bt.apply(this,arguments)}function bt(){return(bt=(0,v.Z)(function*(p,c,d,m,C={}){const A=yield Ee(p,c,d,m,C);return"mfaPendingCredential"in A&&me(p,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function nn(p,c,d,m){const C=`${c}${d}?${m}`;return p.config.emulator?re(p.config,C):`${p.config.apiScheme}://${C}`}class Wt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,m)=>{this.timer=setTimeout(()=>m(ve(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function un(p,c,d){const m={appName:p.name};d.email&&(m.email=d.email),d.phoneNumber&&(m.phoneNumber=d.phoneNumber);const C=ve(p,c,m);return C.customData._tokenResponse=d,C}function cn(){return(cn=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function gr(){return(gr=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function it(){return(it=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function mr(p){if(p)try{const c=new Date(Number(p));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function ir(){return(ir=(0,v.Z)(function*(p,c=!1){const d=(0,N.m9)(p),m=yield d.getIdToken(c),C=kt(m);ee(C&&C.exp&&C.auth_time&&C.iat,d.auth,"internal-error");const A="object"==typeof C.firebase?C.firebase:void 0,U=A?.sign_in_provider;return{claims:C,token:m,authTime:mr(Jr(C.auth_time)),issuedAtTime:mr(Jr(C.iat)),expirationTime:mr(Jr(C.exp)),signInProvider:U||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function Jr(p){return 1e3*Number(p)}function kt(p){const[c,d,m]=p.split(".");if(void 0===c||void 0===d||void 0===m)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,N.tV)(d);return C?JSON.parse(C):(Te("Failed to decode base64 JWT payload"),null)}catch(C){return Te("Caught error parsing JWT payload as JSON",C?.toString()),null}}function Ze(p,c){return ft.apply(this,arguments)}function ft(){return(ft=(0,v.Z)(function*(p,c,d=!1){if(d)return c;try{return yield c}catch(m){throw m instanceof N.ZR&&function Tr({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class _r{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const C=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const m=this.getInterval(c);this.timerId=setTimeout((0,v.Z)(function*(){yield d.iteration()}),m)}iteration(){var c=this;return(0,v.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class bn{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qn(p){return rn.apply(this,arguments)}function rn(){return rn=(0,v.Z)(function*(p){var c;const d=p.auth,m=yield p.getIdToken(),C=yield Ze(p,function Un(p,c){return it.apply(this,arguments)}(d,{idToken:m}));ee(C?.users.length,d,"internal-error");const A=C.users[0];p._notifyReloadListener(A);const U=null!==(c=A.providerUserInfo)&&void 0!==c&&c.length?function Tt(p){return p.map(c=>{var{providerId:d}=c,m=(0,te._T)(c,["providerId"]);return{providerId:d,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(A.providerUserInfo):[],Z=function di(p,c){return[...p.filter(m=>!c.some(C=>C.providerId===m.providerId)),...c]}(p.providerData,U),We=!!p.isAnonymous&&!(p.email&&A.passwordHash||Z?.length),$e={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:Z,metadata:new bn(A.createdAt,A.lastLoginAt),isAnonymous:We};Object.assign(p,$e)}),rn.apply(this,arguments)}function Ut(){return(Ut=(0,v.Z)(function*(p){const c=(0,N.m9)(p);yield Qn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ft(){return(Ft=(0,v.Z)(function*(p,c){const d=yield Je(p,{},(0,v.Z)(function*(){const m=(0,N.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:C,apiKey:A}=p.config,U=nn(p,C,"/v1/token",`key=${A}`),Z=yield p._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",le.fetch()(U,{method:"POST",headers:Z,body:m})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class Sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ee(c.idToken,"internal-error"),ee(typeof c.idToken<"u","internal-error"),ee(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Lt(p){const c=kt(p);return ee(c,"internal-error"),ee(typeof c.exp<"u","internal-error"),ee(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var m=this;return(0,v.Z)(function*(){return ee(!m.accessToken||m.refreshToken,c,"user-token-expired"),d||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(c,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var m=this;return(0,v.Z)(function*(){const{accessToken:C,refreshToken:A,expiresIn:U}=yield function Xr(p,c){return Ft.apply(this,arguments)}(c,d);m.updateTokensAndExpiration(C,A,Number(U))})()}updateTokensAndExpiration(c,d,m){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(c,d){const{refreshToken:m,accessToken:C,expirationTime:A}=d,U=new Sr;return m&&(ee("string"==typeof m,"internal-error",{appName:c}),U.refreshToken=m),C&&(ee("string"==typeof C,"internal-error",{appName:c}),U.accessToken=C),A&&(ee("number"==typeof A,"internal-error",{appName:c}),U.expirationTime=A),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Sr,this.toJSON())}_performRefresh(){return lt("not implemented")}}function dn(p,c){ee("string"==typeof p||typeof p>"u","internal-error",{appName:c})}class vn{constructor(c){var{uid:d,auth:m,stsTokenManager:C}=c,A=(0,te._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _r(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=m,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new bn(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,v.Z)(function*(){const m=yield Ze(d,d.stsTokenManager.getToken(d.auth,c));return ee(m,d.auth,"internal-error"),d.accessToken!==m&&(d.accessToken=m,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),m})()}getIdTokenResult(c){return function Vn(p){return ir.apply(this,arguments)}(this,c)}reload(){return function sr(p){return Ut.apply(this,arguments)}(this)}_assign(c){this!==c&&(ee(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new vn(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var m=this;return(0,v.Z)(function*(){let C=!1;c.idToken&&c.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(c),C=!0),d&&(yield Qn(m)),yield m.auth._persistUserIfCurrent(m),C&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var c=this;return(0,v.Z)(function*(){const d=yield c.getIdToken();return yield Ze(c,function Cn(p,c){return cn.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var m,C,A,U,Z,Ce,Fe,We;const $e=null!==(m=d.displayName)&&void 0!==m?m:void 0,Yt=null!==(C=d.email)&&void 0!==C?C:void 0,Ti=null!==(A=d.phoneNumber)&&void 0!==A?A:void 0,rl=null!==(U=d.photoURL)&&void 0!==U?U:void 0,Zf=null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,yn=null!==(Ce=d._redirectEventId)&&void 0!==Ce?Ce:void 0,oc=null!==(Fe=d.createdAt)&&void 0!==Fe?Fe:void 0,Td=null!==(We=d.lastLoginAt)&&void 0!==We?We:void 0,{uid:ac,emailVerified:lc,isAnonymous:Yf,providerData:uc,stsTokenManager:Sd}=d;ee(ac&&Sd,c,"internal-error");const qf=Sr.fromJSON(this.name,Sd);ee("string"==typeof ac,c,"internal-error"),dn($e,c.name),dn(Yt,c.name),ee("boolean"==typeof lc,c,"internal-error"),ee("boolean"==typeof Yf,c,"internal-error"),dn(Ti,c.name),dn(rl,c.name),dn(Zf,c.name),dn(yn,c.name),dn(oc,c.name),dn(Td,c.name);const cc=new vn({uid:ac,auth:c,email:Yt,emailVerified:lc,displayName:$e,isAnonymous:Yf,photoURL:rl,phoneNumber:Ti,tenantId:Zf,stsTokenManager:qf,createdAt:oc,lastLoginAt:Td});return uc&&Array.isArray(uc)&&(cc.providerData=uc.map(cm=>Object.assign({},cm))),yn&&(cc._redirectEventId=yn),cc}static _fromIdTokenResponse(c,d,m=!1){return(0,v.Z)(function*(){const C=new Sr;C.updateFromServerResponse(d);const A=new vn({uid:d.localId,auth:c,stsTokenManager:C,isAnonymous:m});return yield Qn(A),A})()}}const Ur=new Map;function Jt(p){ze(p instanceof Function,"Expected a class definition");let c=Ur.get(p);return c?(ze(c instanceof p,"Instance stored in cache mismatched with class"),c):(c=new p,Ur.set(p,c),c)}const or=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(d,m){var C=this;return(0,v.Z)(function*(){C.storage[d]=m})()}_get(d){var m=this;return(0,v.Z)(function*(){const C=m.storage[d];return void 0===C?null:C})()}_remove(d){var m=this;return(0,v.Z)(function*(){delete m.storage[d]})()}_addListener(d,m){}_removeListener(d,m){}}return p.type="NONE",p})();function V(p,c,d){return`firebase:${p}:${c}:${d}`}class L{constructor(c,d,m){this.persistence=c,this.auth=d,this.userKey=m;const{config:C,name:A}=this.auth;this.fullUserKey=V(this.userKey,C.apiKey,A),this.fullPersistenceKey=V("persistence",C.apiKey,A),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,v.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?vn._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,v.Z)(function*(){if(d.persistence===c)return;const m=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,m?d.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,m="authUser"){return(0,v.Z)(function*(){if(!d.length)return new L(Jt(or),c,m);const C=(yield Promise.all(d.map(function(){var Fe=(0,v.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let A=C[0]||Jt(or);const U=V(m,c.config.apiKey,c.name);let Z=null;for(const Fe of d)try{const We=yield Fe._get(U);if(We){const $e=vn._fromJSON(c,We);Fe!==A&&(Z=$e),A=Fe;break}}catch{}const Ce=C.filter(Fe=>Fe._shouldAllowMigration);return A._shouldAllowMigration&&Ce.length?(A=Ce[0],Z&&(yield A._set(U,Z.toJSON())),yield Promise.all(d.map(function(){var Fe=(0,v.Z)(function*(We){if(We!==A)try{yield We._remove(U)}catch{}});return function(We){return Fe.apply(this,arguments)}}())),new L(A,c,m)):new L(A,c,m)})()}}function j(p){const c=p.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(ut(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(he(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(gn(c))return"Blackberry";if(en(c))return"Webos";if(Y(c))return"Safari";if((c.includes("chrome/")||ke(c))&&!c.includes("edge/"))return"Chrome";if(Pt(c))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function he(p=(0,N.z$)()){return/firefox\//i.test(p)}function Y(p=(0,N.z$)()){const c=p.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function ke(p=(0,N.z$)()){return/crios\//i.test(p)}function ut(p=(0,N.z$)()){return/iemobile/i.test(p)}function Pt(p=(0,N.z$)()){return/android/i.test(p)}function gn(p=(0,N.z$)()){return/blackberry/i.test(p)}function en(p=(0,N.z$)()){return/webos/i.test(p)}function Bt(p=(0,N.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function ei(p=(0,N.z$)()){return Bt(p)||Pt(p)||en(p)||gn(p)||/windows phone/i.test(p)||ut(p)}function ue(p,c=[]){let d;switch(p){case"Browser":d=j((0,N.z$)());break;case"Worker":d=`${j((0,N.z$)())}-${p}`;break;default:d=p}const m=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${se.SDK_VERSION}/${m}`}function Ae(){return(Ae=(0,v.Z)(function*(p){return(yield Ee(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function et(p,c){return ot.apply(this,arguments)}function ot(){return(ot=(0,v.Z)(function*(p,c){return Ee(p,"GET","/v2/recaptchaConfig",De(p,c))})).apply(this,arguments)}function Et(p){return void 0!==p&&void 0!==p.getResponse}function nt(p){return void 0!==p&&void 0!==p.enterprise}class xt{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(d=>"EMAIL_PASSWORD_PROVIDER"===d.provider&&"OFF"!==d.enforcementState)}}function Hn(p){return new Promise((c,d)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=c,m.onerror=C=>{const A=ve("internal-error");A.customData=C,d(A)},m.type="text/javascript",m.charset="UTF-8",function Mt(){var p,c;return null!==(c=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==c?c:document}().appendChild(m)})}function En(p){return`__${p}${Math.floor(1e6*Math.random())}`}const Yi="NO_RECAPTCHA";class Ar{constructor(c){this.type="recaptcha-enterprise",this.auth=Vt(c)}verify(c="verify",d=!1){var m=this;return(0,v.Z)(function*(){function A(){return A=(0,v.Z)(function*(Z){if(!d){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Ce=(0,v.Z)(function*(Fe,We){et(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($e=>{if(void 0!==$e.recaptchaKey){const Yt=new xt($e);return null==Z.tenantId?Z._agentRecaptchaConfig=Yt:Z._tenantRecaptchaConfigs[Z.tenantId]=Yt,Fe(Yt.siteKey)}We(new Error("recaptcha Enterprise site key undefined"))}).catch($e=>{We($e)})});return function(Fe,We){return Ce.apply(this,arguments)}}())}),A.apply(this,arguments)}function U(Z,Ce,Fe){const We=window.grecaptcha;nt(We)?We.enterprise.ready(()=>{We.enterprise.execute(Z,{action:c}).then($e=>{Ce($e)}).catch(()=>{Ce(Yi)})}):Fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Ce)=>{(function C(Z){return A.apply(this,arguments)})(m.auth).then(Fe=>{if(!d&&nt(window.grecaptcha))U(Fe,Z,Ce);else{if(typeof window>"u")return void Ce(new Error("RecaptchaVerifier is only supported in browser"));Hn("https://www.google.com/recaptcha/enterprise.js?render="+Fe).then(()=>{U(Fe,Z,Ce)}).catch(We=>{Ce(We)})}}).catch(Fe=>{Ce(Fe)})})})()}}function Ve(p,c,d){return mt.apply(this,arguments)}function mt(){return(mt=(0,v.Z)(function*(p,c,d,m=!1){const C=new Ar(p);let A;try{A=yield C.verify(d)}catch{A=yield C.verify(d,!0)}const U=Object.assign({},c);return Object.assign(U,m?{captchaResp:A}:{captchaResponse:A}),Object.assign(U,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(U,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),U})).apply(this,arguments)}class Xt{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const m=A=>new Promise((U,Z)=>{try{U(c(A))}catch(Ce){Z(Ce)}});m.onAbort=d,this.queue.push(m);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,v.Z)(function*(){if(d.auth.currentUser===c)return;const m=[];try{for(const C of d.queue)yield C(c),C.onAbort&&m.push(C.onAbort)}catch(C){m.reverse();for(const A of m)try{A()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}class Rr{constructor(c,d,m,C){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new In(this),this.idTokenSubscription=new In(this),this.beforeStateQueue=new Xt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(c,d){var m=this;return d&&(this._popupRedirectResolver=Jt(d)),this._initializationPromise=this.queue((0,v.Z)(function*(){var C,A;if(!m._deleted&&(m.persistenceManager=yield L.create(m,c),!m._deleted)){if(null!==(C=m._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(d),m.lastNotifiedUid=(null===(A=m.currentUser)||void 0===A?void 0:A.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,v.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,v.Z)(function*(){var m;const C=yield d.assertedPersistence.getCurrentUser();let A=C,U=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Z=null===(m=d.redirectUser)||void 0===m?void 0:m._redirectEventId,Ce=A?._redirectEventId,Fe=yield d.tryRedirectSignIn(c);(!Z||Z===Ce)&&Fe?.user&&(A=Fe.user,U=!0)}if(!A)return d.directlySetCurrentUser(null);if(!A._redirectEventId){if(U)try{yield d.beforeStateQueue.runMiddleware(A)}catch(Z){A=C,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Z))}return A?d.reloadAndSetCurrentUserOrClear(A):d.directlySetCurrentUser(null)}return ee(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===A._redirectEventId?d.directlySetCurrentUser(A):d.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(c){var d=this;return(0,v.Z)(function*(){let m=null;try{m=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,v.Z)(function*(){try{yield Qn(c)}catch(m){if("auth/network-request-failed"!==m?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Ni(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var c=this;return(0,v.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,v.Z)(function*(){const m=c?(0,N.m9)(c):null;return m&&ee(m.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(m&&m._clone(d))})()}_updateCurrentUser(c,d=!1){var m=this;return(0,v.Z)(function*(){if(!m._deleted)return c&&ee(m.tenantId===c.tenantId,m,"tenant-id-mismatch"),d||(yield m.beforeStateQueue.runMiddleware(c)),m.queue((0,v.Z)(function*(){yield m.directlySetCurrentUser(c),m.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,v.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,v.Z)(function*(){yield d.assertedPersistence.setPersistence(Jt(c))}))}initializeRecaptchaConfig(){var c=this;return(0,v.Z)(function*(){const d=yield et(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),m=new xt(d);null==c.tenantId?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,m.emailPasswordEnabled&&new Ar(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new N.LL("auth","Firebase",c())}onAuthStateChanged(c,d,m){return this.registerStateListener(this.authStateSubscription,c,d,m)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,m){return this.registerStateListener(this.idTokenSubscription,c,d,m)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var m=this;return(0,v.Z)(function*(){const C=yield m.getOrInitRedirectPersistenceManager(d);return null===c?C.removeCurrentUser():C.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,v.Z)(function*(){if(!d.redirectPersistenceManager){const m=c&&Jt(c)||d._popupRedirectResolver;ee(m,d,"argument-error"),d.redirectPersistenceManager=yield L.create(d,[Jt(m._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,v.Z)(function*(){var m,C;return d._isInitialized&&(yield d.queue((0,v.Z)(function*(){}))),(null===(m=d._currentUser)||void 0===m?void 0:m._redirectEventId)===c?d._currentUser:(null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,v.Z)(function*(){if(c===d.currentUser)return d.queue((0,v.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,m,C){if(this._deleted)return()=>{};const A="function"==typeof d?d:d.next.bind(d),U=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(U,this,"internal-error"),U.then(()=>A(this.currentUser)),"function"==typeof d?c.addObserver(d,m,C):c.addObserver(d)}directlySetCurrentUser(c){var d=this;return(0,v.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,v.Z)(function*(){var d;const m={"X-Client-Version":c.clientVersion};c.app.options.appId&&(m["X-Firebase-gmpid"]=c.app.options.appId);const C=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();C&&(m["X-Firebase-Client"]=C);const A=yield c._getAppCheckToken();return A&&(m["X-Firebase-AppCheck"]=A),m})()}_getAppCheckToken(){var c=this;return(0,v.Z)(function*(){var d;const m=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return m?.error&&function Pe(p,...c){we.logLevel<=ie.in.WARN&&we.warn(`Auth (${se.SDK_VERSION}): ${p}`,...c)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function Vt(p){return(0,N.m9)(p)}class In{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,N.ne)(d=>this.observer=d)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fi(p){const c=p.indexOf(":");return c<0?"":p.substr(0,c+1)}function vo(p){if(!p)return null;const c=Number(p);return isNaN(c)?null:c}class hi{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return lt("not implemented")}_getIdTokenResponse(c){return lt("not implemented")}_linkToIdToken(c,d){return lt("not implemented")}_getReauthenticationResolver(c){return lt("not implemented")}}function Qi(p,c){return mn.apply(this,arguments)}function mn(){return(mn=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:resetPassword",De(p,c))})).apply(this,arguments)}function Ls(p,c){return pi.apply(this,arguments)}function pi(){return(pi=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Fs(){return(Fs=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:update",De(p,c))})).apply(this,arguments)}function jn(p,c){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signInWithPassword",De(p,c))})).apply(this,arguments)}function yr(p,c){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:sendOobCode",De(p,c))})).apply(this,arguments)}function Bs(){return(Bs=(0,v.Z)(function*(p,c){return yr(p,c)})).apply(this,arguments)}function Oi(p,c){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,v.Z)(function*(p,c){return yr(p,c)})).apply(this,arguments)}function On(p,c){return ca.apply(this,arguments)}function ca(){return(ca=(0,v.Z)(function*(p,c){return yr(p,c)})).apply(this,arguments)}function Er(){return(Er=(0,v.Z)(function*(p,c){return yr(p,c)})).apply(this,arguments)}function Us(){return(Us=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signInWithEmailLink",De(p,c))})).apply(this,arguments)}function Pr(){return(Pr=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signInWithEmailLink",De(p,c))})).apply(this,arguments)}class da extends hi{constructor(c,d,m,C=null){super("password",m),this._email=c,this._password=d,this._tenantId=C}static _fromEmailAndPassword(c,d){return new da(c,d,"password")}static _fromEmailAndCode(c,d,m=null){return new da(c,d,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,v.Z)(function*(){var m;switch(d.signInMethod){case"password":const C={returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=c._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const A=yield Ve(c,C,"signInWithPassword");return jn(c,A)}return jn(c,C).catch(function(){var A=(0,v.Z)(function*(U){if("auth/missing-recaptcha-token"===U.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield Ve(c,C,"signInWithPassword");return jn(c,Z)}return Promise.reject(U)});return function(U){return A.apply(this,arguments)}}());case"emailLink":return function Io(p,c){return Us.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:me(c,"internal-error")}})()}_linkToIdToken(c,d){var m=this;return(0,v.Z)(function*(){switch(m.signInMethod){case"password":return Ls(c,{idToken:d,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function gl(p,c){return Pr.apply(this,arguments)}(c,{idToken:d,email:m._email,oobCode:m._password});default:me(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function jr(p,c){return _u.apply(this,arguments)}function _u(){return(_u=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signInWithIdp",De(p,c))})).apply(this,arguments)}class gi extends hi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new gi(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):me("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:C}=d,A=(0,te._T)(d,["providerId","signInMethod"]);if(!m||!C)return null;const U=new gi(m,C);return U.idToken=A.idToken||void 0,U.accessToken=A.accessToken||void 0,U.secret=A.secret,U.nonce=A.nonce,U.pendingToken=A.pendingToken||null,U}_getIdTokenResponse(c){return jr(c,this.buildRequest())}_linkToIdToken(c,d){const m=this.buildRequest();return m.idToken=d,jr(c,m)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,jr(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,N.xO)(d)}return c}}function ml(){return(ml=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:sendVerificationCode",De(p,c))})).apply(this,arguments)}function yu(){return(yu=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signInWithPhoneNumber",De(p,c))})).apply(this,arguments)}function fa(){return(fa=(0,v.Z)(function*(p,c){const d=yield Xe(p,"POST","/v1/accounts:signInWithPhoneNumber",De(p,c));if(d.temporaryProof)throw un(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const vu={USER_NOT_FOUND:"user-not-found"};function ha(){return(ha=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signInWithPhoneNumber",De(p,Object.assign(Object.assign({},c),{operation:"REAUTH"})),vu)})).apply(this,arguments)}class Mr extends hi{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Mr({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Mr({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function If(p,c){return yu.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function wf(p,c){return fa.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function pp(p,c){return ha.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:m,verificationCode:C}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:m,code:C}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:m,phoneNumber:C,temporaryProof:A}=c;return m||d||C||A?new Mr({verificationId:d,verificationCode:m,phoneNumber:C,temporaryProof:A}):null}}class Vs{constructor(c){var d,m,C,A,U,Z;const Ce=(0,N.zd)((0,N.pd)(c)),Fe=null!==(d=Ce.apiKey)&&void 0!==d?d:null,We=null!==(m=Ce.oobCode)&&void 0!==m?m:null,$e=function Qc(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=Ce.mode)&&void 0!==C?C:null);ee(Fe&&We&&$e,"argument-error"),this.apiKey=Fe,this.operation=$e,this.code=We,this.continueUrl=null!==(A=Ce.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(U=Ce.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(Z=Ce.tenantId)&&void 0!==Z?Z:null}static parseLink(c){const d=function Eu(p){const c=(0,N.zd)((0,N.pd)(p)).link,d=c?(0,N.zd)((0,N.pd)(c)).deep_link_id:null,m=(0,N.zd)((0,N.pd)(p)).deep_link_id;return(m?(0,N.zd)((0,N.pd)(m)).link:null)||m||d||c||p}(c);try{return new Vs(d)}catch{return null}}}let Jc=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,m){return da._fromEmailAndPassword(d,m)}static credentialWithLink(d,m){const C=Vs.parseLink(m);return ee(C,"argument-error"),da._fromEmailAndCode(d,C.code,C.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class ki{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ni extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Xi extends ni{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return ee("providerId"in d&&"signInMethod"in d,"argument-error"),gi._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ee(c.idToken||c.accessToken,"argument-error"),gi._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Xi.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Xi.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:m,oauthTokenSecret:C,pendingToken:A,nonce:U,providerId:Z}=c;if(!m&&!C&&!d&&!A||!Z)return null;try{return new Xi(Z)._credential({idToken:d,accessToken:m,nonce:U,pendingToken:A})}catch{return null}}}let _l=(()=>{class p extends ni{constructor(){super("facebook.com")}static credential(d){return gi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),pa=(()=>{class p extends ni{constructor(){super("google.com"),this.addScope("profile")}static credential(d,m){return gi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:m,oauthAccessToken:C}=d;if(!m&&!C)return null;try{return p.credential(m,C)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Xc=(()=>{class p extends ni{constructor(){super("github.com")}static credential(d){return gi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class xi extends hi{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return jr(c,this.buildRequest())}_linkToIdToken(c,d){const m=this.buildRequest();return m.idToken=d,jr(c,m)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,jr(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:C,pendingToken:A}=d;return m&&C&&A&&m===C?new xi(m,A):null}static _create(c,d){return new xi(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wo extends ki{constructor(c){ee(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return wo.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return wo.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=xi.fromJSON(c);return ee(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:m}=c;if(!d||!m)return null;try{return xi._create(m,d)}catch{return null}}}let ga=(()=>{class p extends ni{constructor(){super("twitter.com")}static credential(d,m){return gi._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:m})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:m,oauthTokenSecret:C}=d;if(!m||!C)return null;try{return p.credential(m,C)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Li(p,c){return ar.apply(this,arguments)}function ar(){return(ar=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signUp",De(p,c))})).apply(this,arguments)}class Xn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,m,C=!1){return(0,v.Z)(function*(){const A=yield vn._fromIdTokenResponse(c,m,C),U=Do(m);return new Xn({user:A,providerId:U,_tokenResponse:m,operationType:d})})()}static _forOperation(c,d,m){return(0,v.Z)(function*(){yield c._updateTokensIfNecessary(m,!0);const C=Do(m);return new Xn({user:c,providerId:C,_tokenResponse:m,operationType:d})})()}}function Do(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function Hs(){return(Hs=(0,v.Z)(function*(p){var c;const d=Vt(p);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new Xn({user:d.currentUser,providerId:null,operationType:"signIn"});const m=yield Li(d,{returnSecureToken:!0}),C=yield Xn._fromIdTokenResponse(d,"signIn",m,!0);return yield d._updateCurrentUser(C.user),C})).apply(this,arguments)}class mi extends N.ZR{constructor(c,d,m,C){var A;super(d.code,d.message),this.operationType=m,this.user=C,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:c.name,tenantId:null!==(A=c.tenantId)&&void 0!==A?A:void 0,_serverResponse:d.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(c,d,m,C){return new mi(c,d,m,C)}}function xn(p,c,d,m){return("reauthenticate"===c?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?mi._fromErrorAndOperation(p,A,c,m):A})}function Iu(p){return new Set(p.map(({providerId:c})=>c).filter(c=>!!c))}function er(){return er=(0,v.Z)(function*(p,c){const d=(0,N.m9)(p);yield _i(!0,d,c);const{providerUserInfo:m}=yield function qn(p,c){return gr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),C=Iu(m||[]);return d.providerData=d.providerData.filter(A=>C.has(A.providerId)),C.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),er.apply(this,arguments)}function Tn(p,c){return ma.apply(this,arguments)}function ma(){return(ma=(0,v.Z)(function*(p,c,d=!1){const m=yield Ze(p,c._linkToIdToken(p.auth,yield p.getIdToken()),d);return Xn._forOperation(p,"link",m)})).apply(this,arguments)}function _i(p,c,d){return vl.apply(this,arguments)}function vl(){return(vl=(0,v.Z)(function*(p,c,d){yield Qn(c);const C=!1===p?"provider-already-linked":"no-such-provider";ee(Iu(c.providerData).has(d)===p,c.auth,C)})).apply(this,arguments)}function Fi(p,c){return js.apply(this,arguments)}function js(){return(js=(0,v.Z)(function*(p,c,d=!1){const{auth:m}=p,C="reauthenticate";try{const A=yield Ze(p,xn(m,C,c,p),d);ee(A.idToken,m,"internal-error");const U=kt(A.idToken);ee(U,m,"internal-error");const{sub:Z}=U;return ee(p.uid===Z,m,"user-mismatch"),Xn._forOperation(p,C,A)}catch(A){throw"auth/user-not-found"===A?.code&&me(m,"user-mismatch"),A}})).apply(this,arguments)}function Co(p,c){return ht.apply(this,arguments)}function ht(){return(ht=(0,v.Z)(function*(p,c,d=!1){const m="signIn",C=yield xn(p,m,c),A=yield Xn._fromIdTokenResponse(p,m,C);return d||(yield p._updateCurrentUser(A.user)),A})).apply(this,arguments)}function bo(p,c){return Du.apply(this,arguments)}function Du(){return(Du=(0,v.Z)(function*(p,c){return Co(Vt(p),c)})).apply(this,arguments)}function Cu(p,c){return _a.apply(this,arguments)}function _a(){return(_a=(0,v.Z)(function*(p,c){const d=(0,N.m9)(p);return yield _i(!1,d,c.providerId),Tn(d,c)})).apply(this,arguments)}function bu(p,c){return ya.apply(this,arguments)}function ya(){return(ya=(0,v.Z)(function*(p,c){return Fi((0,N.m9)(p),c)})).apply(this,arguments)}function Tu(){return(Tu=(0,v.Z)(function*(p,c){return Xe(p,"POST","/v1/accounts:signInWithCustomToken",De(p,c))})).apply(this,arguments)}function _t(){return _t=(0,v.Z)(function*(p,c){const d=Vt(p),m=yield function Df(p,c){return Tu.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),C=yield Xn._fromIdTokenResponse(d,"signIn",m);return yield d._updateCurrentUser(C.user),C}),_t.apply(this,arguments)}class To{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?So._fromServerResponse(c,d):"totpInfo"in d?Sn._fromServerResponse(c,d):me(c,"internal-error")}}class So extends To{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new So(d)}}class Sn extends To{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new Sn(d)}}function es(p,c,d){var m;ee((null===(m=d.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),ee(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(ee(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(ee(d.android.packageName.length>0,p,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function lr(){return lr=(0,v.Z)(function*(p,c,d){var m;const C=Vt(p),A={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=C._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const U=yield Ve(C,A,"getOobCode",!0);d&&es(C,U,d),yield Oi(C,U)}else d&&es(C,A,d),yield Oi(C,A).catch(function(){var U=(0,v.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ce=yield Ve(C,A,"getOobCode",!0);d&&es(C,Ce,d),yield Oi(C,Ce)}});return function(Z){return U.apply(this,arguments)}}())}),lr.apply(this,arguments)}function Ea(){return(Ea=(0,v.Z)(function*(p,c,d){yield Qi((0,N.m9)(p),{oobCode:c,newPassword:d})})).apply(this,arguments)}function yi(){return yi=(0,v.Z)(function*(p,c){yield function ti(p,c){return Fs.apply(this,arguments)}((0,N.m9)(p),{oobCode:c})}),yi.apply(this,arguments)}function Ao(p,c){return wn.apply(this,arguments)}function wn(){return(wn=(0,v.Z)(function*(p,c){const d=(0,N.m9)(p),m=yield Qi(d,{oobCode:c}),C=m.requestType;switch(ee(C,d,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(m.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(m.mfaInfo,d,"internal-error");default:ee(m.email,d,"internal-error")}let A=null;return m.mfaInfo&&(A=To._fromServerResponse(Vt(d),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:A},operation:C}})).apply(this,arguments)}function ri(){return(ri=(0,v.Z)(function*(p,c){const{data:d}=yield Ao((0,N.m9)(p),c);return d.email})).apply(this,arguments)}function Or(){return Or=(0,v.Z)(function*(p,c,d){var m;const C=Vt(p),A={returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"};let U;if(null!==(m=C._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const Fe=yield Ve(C,A,"signUpPassword");U=Li(C,Fe)}else U=Li(C,A).catch(function(){var Fe=(0,v.Z)(function*(We){if("auth/missing-recaptcha-token"===We.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $e=yield Ve(C,A,"signUpPassword");return Li(C,$e)}return Promise.reject(We)});return function(We){return Fe.apply(this,arguments)}}());const Z=yield U.catch(Fe=>Promise.reject(Fe)),Ce=yield Xn._fromIdTokenResponse(C,"signIn",Z);return yield C._updateCurrentUser(Ce.user),Ce}),Or.apply(this,arguments)}function Ia(){return Ia=(0,v.Z)(function*(p,c,d){var m;const C=Vt(p),A={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function U(Z,Ce){ee(Ce.handleCodeInApp,C,"argument-error"),Ce&&es(C,Z,Ce)}if(null!==(m=C._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const Z=yield Ve(C,A,"getOobCode",!0);U(Z,d),yield On(C,Z)}else U(A,d),yield On(C,A).catch(function(){var Z=(0,v.Z)(function*(Ce){if("auth/missing-recaptcha-token"!==Ce.code)return Promise.reject(Ce);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fe=yield Ve(C,A,"getOobCode",!0);U(Fe,d),yield On(C,Fe)}});return function(Ce){return Z.apply(this,arguments)}}())}),Ia.apply(this,arguments)}function $s(){return($s=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p),C=Jc.credentialWithLink(c,d||It());return ee(C._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),bo(m,C)})).apply(this,arguments)}function wa(){return(wa=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:createAuthUri",De(p,c))})).apply(this,arguments)}function Da(){return Da=(0,v.Z)(function*(p,c){const m={identifier:c,continueUri:qe()?It():"http://localhost"},{signinMethods:C}=yield function El(p,c){return wa.apply(this,arguments)}((0,N.m9)(p),m);return C||[]}),Da.apply(this,arguments)}function Po(){return Po=(0,v.Z)(function*(p,c){const d=(0,N.m9)(p),C={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};c&&es(d.auth,C,c);const{email:A}=yield function pl(p,c){return Bs.apply(this,arguments)}(d.auth,C);A!==p.email&&(yield p.reload())}),Po.apply(this,arguments)}function Mo(){return Mo=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:c};d&&es(m.auth,A,d);const{email:U}=yield function vr(p,c){return Er.apply(this,arguments)}(m.auth,A);U!==p.email&&(yield p.reload())}),Mo.apply(this,arguments)}function ba(){return(ba=(0,v.Z)(function*(p,c){return Ee(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Ta(){return Ta=(0,v.Z)(function*(p,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const m=(0,N.m9)(p),A={idToken:yield m.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},U=yield Ze(m,function Pu(p,c){return ba.apply(this,arguments)}(m.auth,A));m.displayName=U.displayName||null,m.photoURL=U.photoUrl||null;const Z=m.providerData.find(({providerId:Ce})=>"password"===Ce);Z&&(Z.displayName=m.displayName,Z.photoURL=m.photoURL),yield m._updateTokensIfNecessary(U)}),Ta.apply(this,arguments)}function tn(p,c,d){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,v.Z)(function*(p,c,d){const{auth:m}=p,A={idToken:yield p.getIdToken(),returnSecureToken:!0};c&&(A.email=c),d&&(A.password=d);const U=yield Ze(p,Ls(m,A));yield p._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class ns{constructor(c,d,m={}){this.isNewUser=c,this.providerId=d,this.profile=m}}class rd extends ns{constructor(c,d,m,C){super(c,d,m),this.username=C}}class Mu extends ns{constructor(c,d){super(c,"facebook.com",d)}}class Tf extends rd{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Aa extends ns{constructor(c,d){super(c,"google.com",d)}}class wl extends rd{constructor(c,d,m){super(c,"twitter.com",d,m)}}function Dl(p){const{user:c,_tokenResponse:d}=p;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function nd(p){var c,d;if(!p)return null;const{providerId:m}=p,C=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},A=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const U=null===(d=null===(c=kt(p.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(U)return new ns(A,"anonymous"!==U&&"custom"!==U?U:null)}if(!m)return null;switch(m){case"facebook.com":return new Mu(A,C);case"github.com":return new Tf(A,C);case"google.com":return new Aa(A,C);case"twitter.com":return new wl(A,C,p.screenName||null);case"custom":case"anonymous":return new ns(A,null);default:return new ns(A,m,C)}}(d)}class rs{constructor(c,d,m){this.type=c,this.credential=d,this.auth=m}static _fromIdtoken(c,d){return new rs("enroll",c,d)}static _fromMfaPendingCredential(c){return new rs("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,m;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return rs._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(m=c.multiFactorSession)&&void 0!==m&&m.idToken)return rs._fromIdtoken(c.multiFactorSession.idToken)}return null}}class is{constructor(c,d,m){this.session=c,this.hints=d,this.signInResolver=m}static _fromError(c,d){const m=Vt(c),C=d.customData._serverResponse,A=(C.mfaInfo||[]).map(Z=>To._fromServerResponse(m,Z));ee(C.mfaPendingCredential,m,"internal-error");const U=rs._fromMfaPendingCredential(C.mfaPendingCredential);return new is(U,A,function(){var Z=(0,v.Z)(function*(Ce){const Fe=yield Ce._process(m,U);delete C.mfaInfo,delete C.mfaPendingCredential;const We=Object.assign(Object.assign({},C),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(d.operationType){case"signIn":const $e=yield Xn._fromIdTokenResponse(m,d.operationType,We);return yield m._updateCurrentUser($e.user),$e;case"reauthenticate":return ee(d.user,m,"internal-error"),Xn._forOperation(d.user,d.operationType,We);default:me(m,"internal-error")}});return function(Ce){return Z.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,v.Z)(function*(){return d.signInResolver(c)})()}}class as{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(m=>To._fromServerResponse(c.auth,m)))})}static _fromUser(c){return new as(c)}getSession(){var c=this;return(0,v.Z)(function*(){return rs._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,d){var m=this;return(0,v.Z)(function*(){const C=c,A=yield m.getSession(),U=yield Ze(m.user,C._process(m.user.auth,A,d));return yield m.user._updateTokensIfNecessary(U),m.user.reload()})()}unenroll(c){var d=this;return(0,v.Z)(function*(){const m="string"==typeof c?c:c.uid,C=yield d.user.getIdToken();try{const A=yield Ze(d.user,function Ma(p,c){return Ee(p,"POST","/v2/accounts/mfaEnrollment:withdraw",De(p,c))}(d.user.auth,{idToken:C,mfaEnrollmentId:m}));d.enrolledFactors=d.enrolledFactors.filter(({uid:U})=>U!==m),yield d.user._updateTokensIfNecessary(A),yield d.user.reload()}catch(A){throw A}})()}}const Bi=new WeakMap,ls="__sak";class Na{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const us=(()=>{class p extends Na{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,m)=>this.onStorageEvent(d,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Oo(){const p=(0,N.z$)();return Y(p)||Bt(p)}()&&function mo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ei(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const m of Object.keys(this.listeners)){const C=this.storage.getItem(m),A=this.localCache[m];C!==A&&d(m,A,C)}}onStorageEvent(d,m=!1){if(!d.key)return void this.forAllChangedKeys((Z,Ce,Fe)=>{this.notifyListeners(Z,Fe)});const C=d.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(C);if(d.newValue!==Z)null!==d.newValue?this.storage.setItem(C,d.newValue):this.storage.removeItem(C);else if(this.localCache[C]===d.newValue&&!m)return}const A=()=>{const Z=this.storage.getItem(C);!m&&this.localCache[C]===Z||this.notifyListeners(C,Z)},U=this.storage.getItem(C);!function Hr(){return(0,N.w1)()&&10===document.documentMode}()||U===d.newValue||d.newValue===d.oldValue?A():setTimeout(A,10)}notifyListeners(d,m){this.localCache[d]=m;const C=this.listeners[d];if(C)for(const A of Array.from(C))A(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,m,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:m,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,m){var C=()=>super._set,A=this;return(0,v.Z)(function*(){yield C().call(A,d,m),A.localCache[d]=JSON.stringify(m)})()}_get(d){var m=()=>super._get,C=this;return(0,v.Z)(function*(){const A=yield m().call(C,d);return C.localCache[d]=JSON.stringify(A),A})()}_remove(d){var m=()=>super._remove,C=this;return(0,v.Z)(function*(){yield m().call(C,d),delete C.localCache[d]})()}}return p.type="LOCAL",p})(),Ii=(()=>{class p extends Na{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,m){}_removeListener(d,m){}}return p.type="SESSION",p})();let Ks=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const m=this.receivers.find(A=>A.isListeningto(d));if(m)return m;const C=new p(d);return this.receivers.push(C),C}isListeningto(d){return this.eventTarget===d}handleEvent(d){var m=this;return(0,v.Z)(function*(){const C=d,{eventId:A,eventType:U,data:Z}=C.data,Ce=m.handlersMap[U];if(!Ce?.size)return;C.ports[0].postMessage({status:"ack",eventId:A,eventType:U});const Fe=Array.from(Ce).map(function(){var $e=(0,v.Z)(function*(Yt){return Yt(C.origin,Z)});return function(Yt){return $e.apply(this,arguments)}}()),We=yield function Tl(p){return Promise.all(p.map(function(){var c=(0,v.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(m){return{fulfilled:!1,reason:m}}});return function(d){return c.apply(this,arguments)}}()))}(Fe);C.ports[0].postMessage({status:"done",eventId:A,eventType:U,response:We})})()}_subscribe(d,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(m)}_unsubscribe(d,m){this.handlersMap[d]&&m&&this.handlersMap[d].delete(m),(!m||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function Zs(p="",c=10){let d="";for(let m=0;m<c;m++)d+=Math.floor(10*Math.random());return p+d}class xu{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,m=50){var C=this;return(0,v.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let U,Z;return new Promise((Ce,Fe)=>{const We=Zs("",20);A.port1.start();const $e=setTimeout(()=>{Fe(new Error("unsupported_event"))},m);Z={messageChannel:A,onMessage(Yt){const Ti=Yt;if(Ti.data.eventId===We)switch(Ti.data.status){case"ack":clearTimeout($e),U=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Ce(Ti.data.response);break;default:clearTimeout($e),clearTimeout(U),Fe(new Error("invalid_response"))}}},C.handlers.add(Z),A.port1.addEventListener("message",Z.onMessage),C.target.postMessage({eventType:c,eventId:We,data:d},[A.port2])}).finally(()=>{Z&&C.removeMessageHandler(Z)})})()}}function $t(){return window}function ka(){return typeof $t().WorkerGlobalScope<"u"&&"function"==typeof $t().importScripts}function xa(){return(xa=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cs="firebaseLocalStorageDb",_n=1,Al="firebaseLocalStorage",ko="fbase_key";class xo{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function wi(p,c){return p.transaction([Al],c?"readwrite":"readonly").objectStore(Al)}function Rl(){const p=indexedDB.open(cs,_n);return new Promise((c,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(Al,{keyPath:ko})}catch(C){d(C)}}),p.addEventListener("success",(0,v.Z)(function*(){const m=p.result;m.objectStoreNames.contains(Al)?c(m):(m.close(),yield function od(){const p=indexedDB.deleteDatabase(cs);return new xo(p).toPromise()}(),c(yield Rl()))}))})}function ds(p,c,d){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,v.Z)(function*(p,c,d){const m=wi(p,!0).put({[ko]:c,value:d});return new xo(m).toPromise()})).apply(this,arguments)}function Ys(){return(Ys=(0,v.Z)(function*(p,c){const d=wi(p,!1).get(c),m=yield new xo(d).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function Ui(p,c){const d=wi(p,!0).delete(c);return new xo(d).toPromise()}const fs=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,v.Z)(function*(){return d.db||(d.db=yield Rl()),d.db})()}_withRetries(d){var m=this;return(0,v.Z)(function*(){let C=0;for(;;)try{const A=yield m._openDb();return yield d(A)}catch(A){if(C++>3)throw A;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,v.Z)(function*(){return ka()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,v.Z)(function*(){d.receiver=Ks._getInstance(function An(){return ka()?self:null}()),d.receiver._subscribe("keyChanged",function(){var m=(0,v.Z)(function*(C,A){return{keyProcessed:(yield d._poll()).includes(A.key)}});return function(C,A){return m.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var m=(0,v.Z)(function*(C,A){return["keyChanged"]});return function(C,A){return m.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,v.Z)(function*(){var m,C;if(d.activeServiceWorker=yield function Sl(){return xa.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new xu(d.activeServiceWorker);const A=yield d.sender._send("ping",{},800);A&&null!==(m=A[0])&&void 0!==m&&m.fulfilled&&null!==(C=A[0])&&void 0!==C&&C.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var m=this;return(0,v.Z)(function*(){if(m.sender&&m.activeServiceWorker&&function La(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:d},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Rl();return yield ds(d,ls,"1"),yield Ui(d,ls),!0}catch{}return!1})()}_withPendingWrite(d){var m=this;return(0,v.Z)(function*(){m.pendingWrites++;try{yield d()}finally{m.pendingWrites--}})()}_set(d,m){var C=this;return(0,v.Z)(function*(){return C._withPendingWrite((0,v.Z)(function*(){return yield C._withRetries(A=>ds(A,d,m)),C.localCache[d]=m,C.notifyServiceWorker(d)}))})()}_get(d){var m=this;return(0,v.Z)(function*(){const C=yield m._withRetries(A=>function Lo(p,c){return Ys.apply(this,arguments)}(A,d));return m.localCache[d]=C,C})()}_remove(d){var m=this;return(0,v.Z)(function*(){return m._withPendingWrite((0,v.Z)(function*(){return yield m._withRetries(C=>Ui(C,d)),delete m.localCache[d],m.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,v.Z)(function*(){const m=yield d._withRetries(U=>{const Z=wi(U,!1).getAll();return new xo(Z).toPromise()});if(!m)return[];if(0!==d.pendingWrites)return[];const C=[],A=new Set;for(const{fbase_key:U,value:Z}of m)A.add(U),JSON.stringify(d.localCache[U])!==JSON.stringify(Z)&&(d.notifyListeners(U,Z),C.push(U));for(const U of Object.keys(d.localCache))d.localCache[U]&&!A.has(U)&&(d.notifyListeners(U,null),C.push(U));return C})()}notifyListeners(d,m){this.localCache[d]=m;const C=this.listeners[d];if(C)for(const A of Array.from(C))A(m)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(m)}_removeListener(d,m){this.listeners[d]&&(this.listeners[d].delete(m),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),Bo=1e12;class Ml{constructor(c){this.auth=c,this.counter=Bo,this._widgets=new Map}render(c,d){const m=this.counter;return this._widgets.set(m,new Nl(c,this.auth.name,d||{})),this.counter++,m}reset(c){var d;const m=c||Bo;null===(d=this._widgets.get(m))||void 0===d||d.delete(),this._widgets.delete(m)}getResponse(c){var d;return(null===(d=this._widgets.get(c||Bo))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,v.Z)(function*(){var m;return null===(m=d._widgets.get(c||Bo))||void 0===m||m.execute(),""})()}}class Nl{constructor(c,d,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof c?document.getElementById(c):c;ee(C,"argument-error",{appName:d}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _p(p){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)c.push(d.charAt(Math.floor(Math.random()*d.length)));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ld=En("rcb"),yp=new ci(3e4,6e4);class vp{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=$t().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return ee(function ud(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&Et($t().grecaptcha)?Promise.resolve($t().grecaptcha):new Promise((m,C)=>{const A=$t().setTimeout(()=>{C(ve(c,"network-request-failed"))},yp.get());$t()[ld]=()=>{$t().clearTimeout(A),delete $t()[ld];const Z=$t().grecaptcha;if(!Z||!Et(Z))return void C(ve(c,"internal-error"));const Ce=Z.render;Z.render=(Fe,We)=>{const $e=Ce(Fe,We);return this.counter++,$e},this.hostLanguage=d,m(Z)},Hn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:ld,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(A),C(ve(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=$t().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rn{load(c){return(0,v.Z)(function*(){return new Ml(c)})()}clearedOneInstance(){}}const Uo="recaptcha",Fa={theme:"light",type:"image"};class Ol{constructor(c,d=Object.assign({},Fa),m){this.parameters=d,this.type=Uo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(m),this.isInvisible="invisible"===this.parameters.size,ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof c?document.getElementById(c):c;ee(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rn:new vp,this.validateStartingState()}verify(){var c=this;return(0,v.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),m=c.getAssertedRecaptcha();return m.getResponse(d)||new Promise(A=>{const U=Z=>{Z&&(c.tokenChangeListeners.delete(U),A(Z))};c.tokenChangeListeners.add(U),c.isInvisible&&m.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(m=>m(d)),"function"==typeof c)c(d);else if("string"==typeof c){const m=$t()[c];"function"==typeof m&&m(d)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,v.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const m=document.createElement("div");d.appendChild(m),d=m}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,v.Z)(function*(){ee(qe()&&!ka(),c.auth,"internal-error"),yield function Wr(){let p=null;return new Promise(c=>{"complete"!==document.readyState?(p=()=>c(),window.addEventListener("load",p)):c()}).catch(c=>{throw p&&window.removeEventListener("load",p),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function J(p){return Ae.apply(this,arguments)}(c.auth);ee(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ii{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Mr._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function ps(){return(ps=(0,v.Z)(function*(p,c,d){const m=Vt(p),C=yield Va(m,c,(0,N.m9)(d));return new ii(C,A=>bo(m,A))})).apply(this,arguments)}function Ua(){return(Ua=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p);yield _i(!1,m,"phone");const C=yield Va(m.auth,c,(0,N.m9)(d));return new ii(C,A=>Cu(m,A))})).apply(this,arguments)}function kl(){return(kl=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p),C=yield Va(m.auth,c,(0,N.m9)(d));return new ii(C,A=>bu(m,A))})).apply(this,arguments)}function Va(p,c,d){return ur.apply(this,arguments)}function ur(){return ur=(0,v.Z)(function*(p,c,d){var m;const C=yield d.verify();try{let A;if(ee("string"==typeof C,p,"argument-error"),ee(d.type===Uo,p,"argument-error"),A="string"==typeof c?{phoneNumber:c}:c,"session"in A){const U=A.session;if("phoneNumber"in A)return ee("enroll"===U.type,p,"internal-error"),(yield function zs(p,c){return Ee(p,"POST","/v2/accounts/mfaEnrollment:start",De(p,c))}(p,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{ee("signin"===U.type,p,"internal-error");const Z=(null===(m=A.multiFactorHint)||void 0===m?void 0:m.uid)||A.multiFactorUid;return ee(Z,p,"missing-multi-factor-info"),(yield function Qs(p,c){return Ee(p,"POST","/v2/accounts/mfaSignIn:start",De(p,c))}(p,{mfaPendingCredential:U.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield function Ef(p,c){return ml.apply(this,arguments)}(p,{phoneNumber:A.phoneNumber,recaptchaToken:C});return U}}finally{d._reset()}}),ur.apply(this,arguments)}function si(){return(si=(0,v.Z)(function*(p,c){yield Tn((0,N.m9)(p),c)})).apply(this,arguments)}let Gr=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=Vt(d)}verifyPhoneNumber(d,m){return Va(this.auth,d,(0,N.m9)(m))}static credential(d,m){return Mr._fromVerification(d,m)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:m,temporaryProof:C}=d;return m&&C?Mr._fromTokenResponse(m,C):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function zr(p,c){return c?Jt(c):(ee(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Ir extends hi{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return jr(c,this._buildIdpRequest())}_linkToIdToken(c,d){return jr(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return jr(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function xl(p){return Co(p.auth,new Ir(p),p.bypassAuthState)}function Bu(p){const{auth:c,user:d}=p;return ee(d,c,"internal-error"),Fi(d,new Ir(p),p.bypassAuthState)}function kr(p){return cr.apply(this,arguments)}function cr(){return(cr=(0,v.Z)(function*(p){const{auth:c,user:d}=p;return ee(d,c,"internal-error"),Tn(d,new Ir(p),p.bypassAuthState)})).apply(this,arguments)}class Vo{constructor(c,d,m,C,A=!1){this.auth=c,this.resolver=m,this.user=C,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,v.Z)(function*(m,C){c.pendingPromise={resolve:m,reject:C};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(A){c.reject(A)}});return function(m,C){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,v.Z)(function*(){const{urlResponse:m,sessionId:C,postBody:A,tenantId:U,error:Z,type:Ce}=c;if(Z)return void d.reject(Z);const Fe={auth:d.auth,requestUri:m,sessionId:C,tenantId:U||void 0,postBody:A||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ce)(Fe))}catch(We){d.reject(We)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return xl;case"linkViaPopup":case"linkViaRedirect":return kr;case"reauthViaPopup":case"reauthViaRedirect":return Bu;default:me(this.auth,"internal-error")}}resolve(c){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){ze(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zt=new ci(2e3,1e4);function Xs(){return(Xs=(0,v.Z)(function*(p,c,d){const m=Vt(p);Me(p,c,ki);const C=zr(m,d);return new Ha(m,"signInViaPopup",c,C).executeNotNull()})).apply(this,arguments)}function Ll(){return(Ll=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p);Me(m.auth,c,ki);const C=zr(m.auth,d);return new Ha(m.auth,"reauthViaPopup",c,C,m).executeNotNull()})).apply(this,arguments)}function Bl(){return(Bl=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p);Me(m.auth,c,ki);const C=zr(m.auth,d);return new Ha(m.auth,"linkViaPopup",c,C,m).executeNotNull()})).apply(this,arguments)}let Ha=(()=>{class p extends Vo{constructor(d,m,C,A,U){super(d,m,A,U),this.provider=C,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,v.Z)(function*(){const m=yield d.execute();return ee(m,d.auth,"internal-error"),m})()}onExecution(){var d=this;return(0,v.Z)(function*(){ze(1===d.filter.length,"Popup operations only handle one event");const m=Zs();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],m),d.authWindow.associatedEvent=m,d.resolver._originValidation(d.auth).catch(C=>{d.reject(C)}),d.resolver._isIframeWebStorageSupported(d.auth,C=>{C||d.reject(ve(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var m,C;this.pollId=null!==(C=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,zt.get())};d()}}return p.currentPopupAction=null,p})();const gs="pendingRedirect",Vi=new Map;class ja extends Vo{constructor(c,d,m=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,m),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,v.Z)(function*(){let m=Vi.get(d.auth._key());if(!m){try{const A=(yield function oi(p,c){return fd.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;m=()=>Promise.resolve(A)}catch(C){m=()=>Promise.reject(C)}Vi.set(d.auth._key(),m)}return d.bypassAuthState||Vi.set(d.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,m=this;return(0,v.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(m,c);if("unknown"!==c.type){if(c.eventId){const C=yield m.auth._redirectUserForId(c.eventId);if(C)return m.user=C,d().call(m,c);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function fd(){return(fd=(0,v.Z)(function*(p,c){const d=Hl(c),m=Vl(p);if(!(yield m._isAvailable()))return!1;const C="true"===(yield m._get(d));return yield m._remove(d),C})).apply(this,arguments)}function ms(p,c){return eo.apply(this,arguments)}function eo(){return(eo=(0,v.Z)(function*(p,c){return Vl(p)._set(Hl(c),"true")})).apply(this,arguments)}function Ul(p,c){Vi.set(p._key(),c)}function Vl(p){return Jt(p._redirectPersistence)}function Hl(p){return V(gs,p.config.apiKey,p.name)}function Ho(p,c,d){return function sn(p,c,d){return jo.apply(this,arguments)}(p,c,d)}function jo(){return(jo=(0,v.Z)(function*(p,c,d){const m=Vt(p);Me(p,c,ki),yield m._initializationPromise;const C=zr(m,d);return yield ms(C,m),C._openRedirect(m,c,"signInViaRedirect")})).apply(this,arguments)}function jl(p,c,d){return function _s(p,c,d){return $o.apply(this,arguments)}(p,c,d)}function $o(){return($o=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p);Me(m.auth,c,ki),yield m.auth._initializationPromise;const C=zr(m.auth,d);yield ms(C,m.auth);const A=yield Wa(m);return C._openRedirect(m.auth,c,"reauthViaRedirect",A)})).apply(this,arguments)}function $l(p,c,d){return function Wl(p,c,d){return Gl.apply(this,arguments)}(p,c,d)}function Gl(){return(Gl=(0,v.Z)(function*(p,c,d){const m=(0,N.m9)(p);Me(m.auth,c,ki),yield m.auth._initializationPromise;const C=zr(m.auth,d);yield _i(!1,m,c.providerId),yield ms(C,m.auth);const A=yield Wa(m);return C._openRedirect(m.auth,c,"linkViaRedirect",A)})).apply(this,arguments)}function Vu(){return(Vu=(0,v.Z)(function*(p,c){return yield Vt(p)._initializationPromise,$a(p,c,!1)})).apply(this,arguments)}function $a(p,c){return ys.apply(this,arguments)}function ys(){return(ys=(0,v.Z)(function*(p,c,d=!1){const m=Vt(p),C=zr(m,c),U=yield new ja(m,C,d).execute();return U&&!d&&(delete U.user._redirectEventId,yield m._persistUserIfCurrent(U.user),yield m._setRedirectUser(null,c)),U})).apply(this,arguments)}function Wa(p){return zl.apply(this,arguments)}function zl(){return(zl=(0,v.Z)(function*(p){const c=Zs(`${p.uid}:::`);return p._redirectEventId=c,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),c})).apply(this,arguments)}class Kl{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(c,m)&&(d=!0,this.sendToConsumer(c,m),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function pd(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ju(p);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var m;if(c.error&&!ju(c)){const C=(null===(m=c.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";d.onError(ve(this.auth,C))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const m=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&m}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hu(c))}saveEventToCache(c){this.cachedEventUids.add(Hu(c)),this.lastProcessedEventTime=Date.now()}}function Hu(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(c=>c).join("-")}function ju({type:p,error:c}){return"unknown"===p&&"auth/no-auth-event"===c?.code}function $u(p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,v.Z)(function*(p,c={}){return Ee(p,"GET","/v1/projects",c)})).apply(this,arguments)}const Zl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wo=/^https?/;function Gu(){return(Gu=(0,v.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:c}=yield $u(p);for(const d of c)try{if(gd(d))return}catch{}me(p,"unauthorized-domain")})).apply(this,arguments)}function gd(p){const c=It(),{protocol:d,hostname:m}=new URL(c);if(p.startsWith("chrome-extension://")){const U=new URL(p);return""===U.hostname&&""===m?"chrome-extension:"===d&&p.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&U.hostname===m}if(!Wo.test(d))return!1;if(Zl.test(p))return m===p;const C=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(m)}const zu=new ci(3e4,6e4);function xr(){const p=$t().___jsl;if(p?.H)for(const c of Object.keys(p.H))if(p.H[c].r=p.H[c].r||[],p.H[c].L=p.H[c].L||[],p.H[c].r=[...p.H[c].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let Go=null;const Zu=new ci(5e3,15e3),ai="__/auth/iframe",Yu="emulator/auth/iframe",vs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mf(p){const c=p.config;ee(c.authDomain,p,"auth-domain-config-required");const d=c.emulator?re(c,Yu):`https://${p.config.authDomain}/${ai}`,m={apiKey:c.apiKey,appName:p.name,v:se.SDK_VERSION},C=Pf.get(p.config.apiHost);C&&(m.eid=C);const A=p._getFrameworks();return A.length&&(m.fw=A.join(",")),`${d}?${(0,N.xO)(m).slice(1)}`}function ji(){return ji=(0,v.Z)(function*(p){const c=yield function Ku(p){return Go=Go||function Hi(p){return new Promise((c,d)=>{var m,C,A;function U(){xr(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{xr(),d(ve(p,"network-request-failed"))},timeout:zu.get()})}if(null!==(C=null===(m=$t().gapi)||void 0===m?void 0:m.iframes)&&void 0!==C&&C.Iframe)c(gapi.iframes.getContext());else{if(null===(A=$t().gapi)||void 0===A||!A.load){const Z=En("iframefcb");return $t()[Z]=()=>{gapi.load?U():d(ve(p,"network-request-failed"))},Hn(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Ce=>d(Ce))}U()}}).catch(c=>{throw Go=null,c})}(p),Go}(p),d=$t().gapi;return ee(d,p,"internal-error"),c.open({where:document.body,url:Mf(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vs,dontclear:!0},m=>new Promise(function(){var C=(0,v.Z)(function*(A,U){yield m.restyle({setHideOnLeave:!1});const Z=ve(p,"network-request-failed"),Ce=$t().setTimeout(()=>{U(Z)},Zu.get());function Fe(){$t().clearTimeout(Ce),A(m)}m.ping(Fe).then(Fe,()=>{U(Z)})});return function(A,U){return C.apply(this,arguments)}}()))}),ji.apply(this,arguments)}const dr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},md=500,_=600,I="_blank",b="http://localhost";class P{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oe="__/auth/handler",Ue="emulator/auth/handler",xe=encodeURIComponent("fac");function je(p,c,d,m,C,A){return rt.apply(this,arguments)}function rt(){return(rt=(0,v.Z)(function*(p,c,d,m,C,A){ee(p.config.authDomain,p,"auth-domain-config-required"),ee(p.config.apiKey,p,"invalid-api-key");const U={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:m,v:se.SDK_VERSION,eventId:C};if(c instanceof ki){c.setDefaultLanguage(p.languageCode),U.providerId=c.providerId||"",(0,N.xb)(c.getCustomParameters())||(U.customParameters=JSON.stringify(c.getCustomParameters()));for(const[We,$e]of Object.entries(A||{}))U[We]=$e}if(c instanceof ni){const We=c.getScopes().filter($e=>""!==$e);We.length>0&&(U.scopes=We.join(","))}p.tenantId&&(U.tid=p.tenantId);const Z=U;for(const We of Object.keys(Z))void 0===Z[We]&&delete Z[We];const Ce=yield p._getAppCheckToken(),Fe=Ce?`#${xe}=${encodeURIComponent(Ce)}`:"";return`${function pt({config:p}){return p.emulator?re(p,Ue):`https://${p.authDomain}/${oe}`}(p)}?${(0,N.xO)(Z).slice(1)}${Fe}`})).apply(this,arguments)}const Wn="webStorageSupport",$i=class Pn{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=$a,this._overrideRedirectResult=Ul}_openPopup(c,d,m,C){var A=this;return(0,v.Z)(function*(){var U;ze(null===(U=A.eventManagers[c._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const Z=yield je(c,d,m,It(),C);return function H(p,c,d,m=md,C=_){const A=Math.max((window.screen.availHeight-C)/2,0).toString(),U=Math.max((window.screen.availWidth-m)/2,0).toString();let Z="";const Ce=Object.assign(Object.assign({},dr),{width:m.toString(),height:C.toString(),top:A,left:U}),Fe=(0,N.z$)().toLowerCase();d&&(Z=ke(Fe)?I:d),he(Fe)&&(c=c||b,Ce.scrollbars="yes");const We=Object.entries(Ce).reduce((Yt,[Ti,rl])=>`${Yt}${Ti}=${rl},`,"");if(function Jn(p=(0,N.z$)()){var c;return Bt(p)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Fe)&&"_self"!==Z)return function z(p,c){const d=document.createElement("a");d.href=p,d.target=c;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(m)}(c||"",Z),new P(null);const $e=window.open(c||"",Z,We);ee($e,p,"popup-blocked");try{$e.focus()}catch{}return new P($e)}(c,Z,Zs())})()}_openRedirect(c,d,m,C){var A=this;return(0,v.Z)(function*(){return yield A._originValidation(c),function Lu(p){$t().location.href=p}(yield je(c,d,m,It(),C)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:C,promise:A}=this.eventManagers[d];return C?Promise.resolve(C):(ze(A,"If manager is not set, promise should be"),A)}const m=this.initAndGetManager(c);return this.eventManagers[d]={promise:m},m.catch(()=>{delete this.eventManagers[d]}),m}initAndGetManager(c){var d=this;return(0,v.Z)(function*(){const m=yield function on(p){return ji.apply(this,arguments)}(c),C=new Kl(c);return m.register("authEvent",A=>(ee(A?.authEvent,c,"invalid-auth-event"),{status:C.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:C},d.iframes[c._key()]=m,C})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Wn,{type:Wn},C=>{var A;const U=null===(A=C?.[0])||void 0===A?void 0:A[Wn];void 0!==U&&d(!!U),me(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Wu(p){return Gu.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return ei()||Y()||Bt()}};class Dr{constructor(c){this.factorId=c}_process(c,d,m){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,m);case"signin":return this._finalizeSignIn(c,d.credential);default:return lt("unexpected MultiFactorSessionType")}}}class Es extends Dr{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Es(c)}_finalizeEnroll(c,d,m){return function bl(p,c){return Ee(p,"POST","/v2/accounts/mfaEnrollment:finalize",De(p,c))}(c,{idToken:d,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Af(p,c){return Ee(p,"POST","/v2/accounts/mfaSignIn:finalize",De(p,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gn=(()=>{class p{constructor(){}static assertion(d){return Es._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var _d="@firebase/auth";class Lr{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,v.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(m=>{c(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ro(){return window}(0,N.Pz)("authIdTokenMaxAge"),function wp(p){(0,se._registerComponent)(new fe.wA("auth",(c,{options:d})=>{const m=c.getProvider("app").getImmediate(),C=c.getProvider("heartbeat"),A=c.getProvider("app-check-internal"),{apiKey:U,authDomain:Z}=m.options;ee(U&&!U.includes(":"),"invalid-api-key",{appName:m.name});const Ce={apiKey:U,authDomain:Z,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(p)},Fe=new Rr(m,C,A,Ce);return function fn(p,c){const d=c?.persistence||[],m=(Array.isArray(d)?d:[d]).map(Jt);c?.errorMap&&p._updateErrorMap(c.errorMap),p._initializeWithPersistence(m,c?.popupRedirectResolver)}(Fe,d),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,m)=>{c.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new fe.wA("auth-internal",c=>{const d=Vt(c.getProvider("auth").getImmediate());return new Lr(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(_d,"0.23.2",function Ip(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,se.registerVersion)(_d,"0.23.2","esm2017")}("Browser");const Nf=2e3;function Za(){return Za=(0,v.Z)(function*(p,c,d){var m;const{BuildInfo:C}=ro();ze(c.sessionId,"AuthEvent did not contain a session ID");const A=yield function io(p){return ql.apply(this,arguments)}(c.sessionId),U={};return Bt()?U.ibi=C.packageName:Pt()?U.apn=C.packageName:me(p,"operation-not-supported-in-this-environment"),C.displayName&&(U.appDisplayName=C.displayName),U.sessionId=A,je(p,d,c.type,void 0,null!==(m=c.eventId)&&void 0!==m?m:void 0,U)}),Za.apply(this,arguments)}function Yl(){return(Yl=(0,v.Z)(function*(p){const{BuildInfo:c}=ro(),d={};Bt()?d.iosBundleId=c.packageName:Pt()?d.androidPackageName=c.packageName:me(p,"operation-not-supported-in-this-environment"),yield $u(p,d)})).apply(this,arguments)}function Ya(){return(Ya=(0,v.Z)(function*(p,c,d){const{cordova:m}=ro();let C=()=>{};try{yield new Promise((A,U)=>{let Z=null;function Ce(){var $e;A();const Yt=null===($e=m.plugins.browsertab)||void 0===$e?void 0:$e.close;"function"==typeof Yt&&Yt(),"function"==typeof d?.close&&d.close()}function Fe(){Z||(Z=window.setTimeout(()=>{U(ve(p,"redirect-cancelled-by-user"))},Nf))}function We(){"visible"===document?.visibilityState&&Fe()}c.addPassiveListener(Ce),document.addEventListener("resume",Fe,!1),Pt()&&document.addEventListener("visibilitychange",We,!1),C=()=>{c.removePassiveListener(Ce),document.removeEventListener("resume",Fe,!1),document.removeEventListener("visibilitychange",We,!1),Z&&window.clearTimeout(Z)}})}finally{C()}})).apply(this,arguments)}function ql(){return(ql=(0,v.Z)(function*(p){const c=function qa(p){if(ze(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const c=new ArrayBuffer(p.length),d=new Uint8Array(c);for(let m=0;m<p.length;m++)d[m]=p.charCodeAt(m);return d}(p),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Yo=20;class Dp extends Kl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,v.Z)(function*(){yield c.initPromise})()}}function qo(p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,v.Z)(function*(p){const c=yield Ju()._get(ws(p));return c&&(yield Ju()._remove(ws(p))),c})).apply(this,arguments)}function Kn(){const p=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<Yo;d++){const m=Math.floor(Math.random()*c.length);p.push(c.charAt(m))}return p.join("")}function Ju(){return Jt(us)}function ws(p){return V("authEvent",p.config.apiKey,p.name)}function Fr(p){if(!p?.includes("?"))return{};const[c,...d]=p.split("?");return(0,N.zd)(d.join("?"))}const bs=class vd{constructor(){this._redirectPersistence=Ii,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$a,this._overrideRedirectResult=Ul}_initialize(c){var d=this;return(0,v.Z)(function*(){const m=c._key();let C=d.eventManagers.get(m);return C||(C=new Dp(c),d.eventManagers.set(m,C),d.attachCallbackListeners(c,C)),C})()}_openPopup(c){me(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,m,C){var A=this;return(0,v.Z)(function*(){!function Zo(p){var c,d,m,C,A,U,Z,Ce,Fe,We;const $e=ro();ee("function"==typeof(null===(c=$e?.universalLinks)||void 0===c?void 0:c.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(typeof(null===(d=$e?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(A=null===(C=null===(m=$e?.cordova)||void 0===m?void 0:m.plugins)||void 0===C?void 0:C.browsertab)||void 0===A?void 0:A.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Ce=null===(Z=null===(U=$e?.cordova)||void 0===U?void 0:U.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ce?void 0:Ce.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(We=null===(Fe=$e?.cordova)||void 0===Fe?void 0:Fe.InAppBrowser)||void 0===We?void 0:We.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const U=yield A._initialize(c);yield U.initialized(),U.resetRedirect(),function hd(){Vi.clear()}(),yield A._originValidation(c);const Z=function Ql(p,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:Kn(),postBody:null,tenantId:p.tenantId,error:ve(p,"no-auth-event")}}(c,m,C);yield function zn(p,c){return Ju()._set(ws(p),c)}(c,Z);const Ce=yield function Qu(p,c,d){return Za.apply(this,arguments)}(c,Z,d),Fe=yield function kf(p){const{cordova:c}=ro();return new Promise(d=>{c.plugins.browsertab.isAvailable(m=>{let C=null;m?c.plugins.browsertab.openUrl(p):C=c.InAppBrowser.open(p,function Ct(p=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(C)})})}(Ce);return function Ko(p,c,d){return Ya.apply(this,arguments)}(c,U,Fe)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Of(p){return Yl.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:m,handleOpenURL:C,BuildInfo:A}=ro(),U=setTimeout((0,v.Z)(function*(){yield qo(c),d.onEvent(ec())}),500),Z=function(){var We=(0,v.Z)(function*($e){clearTimeout(U);const Yt=yield qo(c);let Ti=null;Yt&&$e?.url&&(Ti=function bi(p,c){var d,m;const C=function Ds(p){const c=Fr(p),d=c.link?decodeURIComponent(c.link):void 0,m=Fr(d).link,C=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Fr(C).link||C||m||d||p}(c);if(C.includes("/__/auth/callback")){const A=Fr(C),U=A.firebaseError?function Xu(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,Z=null===(m=null===(d=U?.code)||void 0===d?void 0:d.split("auth/"))||void 0===m?void 0:m[1],Ce=Z?ve(Z):null;return Ce?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:C,postBody:null}}return null}(Yt,$e.url)),d.onEvent(Ti||ec())});return function(Yt){return We.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,Z);const Ce=C,Fe=`${A.packageName.toLowerCase()}://`;ro().handleOpenURL=function(){var We=(0,v.Z)(function*($e){if($e.toLowerCase().startsWith(Fe)&&Z({url:$e}),"function"==typeof Ce)try{Ce($e)}catch(Yt){console.error(Yt)}});return function($e){return We.apply(this,arguments)}}()}};function ec(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}const Cp=1e3;function Ja(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Jl(p=(0,N.z$)()){return!("file:"!==Ja()&&"ionic:"!==Ja()&&"capacitor:"!==Ja()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function bp(){try{const p=self.localStorage,c=Zs();if(p)return p.setItem(c,"1"),p.removeItem(c),!function el(p=(0,N.z$)()){return function Xa(){return(0,N.w1)()&&11===document?.documentMode}()||function Ff(p=(0,N.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,N.hl)()}catch{return Qo()&&(0,N.hl)()}return!1}function Qo(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xl(){return(function Lf(){return"http:"===Ja()||"https:"===Ja()}()||(0,N.ru)()||Jl())&&!function Id(){return(0,N.b$)()||(0,N.UG)()}()&&bp()&&!Qo()}function Bf(){return Jl()&&typeof document<"u"}function Ts(){return(Ts=(0,v.Z)(function*(){return!!Bf()&&new Promise(p=>{const c=setTimeout(()=>{p(!1)},Cp);document.addEventListener("deviceready",()=>{clearTimeout(c),p(!0)})})})).apply(this,arguments)}const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},Jo=ee,nc="persistence";function rc(p){return ic.apply(this,arguments)}function ic(){return(ic=(0,v.Z)(function*(p){yield p._initializationPromise;const c=Cd(),d=V(nc,p.config.apiKey,p.name);c&&c.setItem(d,p._getPersistence())})).apply(this,arguments)}function Cd(){var p;try{return(null===(p=function tc(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const Uf=ee;class tr{constructor(){this.browserResolver=Jt($i),this.cordovaResolver=Jt(bs),this.underlyingResolver=null,this._redirectPersistence=Ii,this._completeRedirectFn=$a,this._overrideRedirectResult=Ul}_initialize(c){var d=this;return(0,v.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,m,C){var A=this;return(0,v.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(c,d,m,C)})()}_openRedirect(c,d,m,C){var A=this;return(0,v.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(c,d,m,C)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Bf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Uf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,v.Z)(function*(){if(c.underlyingResolver)return;const d=yield function tl(){return Ts.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function nl(p){return p.unwrap()}function lm(p){return bd(p)}function bd(p){const{_tokenResponse:c}=p instanceof N.ZR?p.customData:p;if(!c)return null;if(!(p instanceof N.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Gr.credentialFromResult(p);const d=c.providerId;if(!d||d===pe.PASSWORD)return null;let m;switch(d){case pe.GOOGLE:m=pa;break;case pe.FACEBOOK:m=_l;break;case pe.GITHUB:m=Xc;break;case pe.TWITTER:m=ga;break;default:const{oauthIdToken:C,oauthAccessToken:A,oauthTokenSecret:U,pendingToken:Z,nonce:Ce}=c;return A||U||C||Z?Z?d.startsWith("saml.")?xi._create(d,Z):gi._fromParams({providerId:d,signInMethod:d,pendingToken:Z,idToken:C,accessToken:A}):new Xi(d).credential({idToken:C,accessToken:A,rawNonce:Ce}):null}return p instanceof N.ZR?m.credentialFromError(p):m.credentialFromResult(p)}function br(p,c){return c.catch(d=>{throw d instanceof N.ZR&&function Hf(p,c){var d;const m=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new $f(p,function Pa(p,c){var d;const m=(0,N.m9)(p),C=c;return ee(c.customData.operationType,m,"argument-error"),ee(null===(d=C.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,m,"argument-error"),is._fromError(m,C)}(p,c));else if(m){const C=bd(c),A=c;C&&(A.credential=C,A.tenantId=m.tenantId||void 0,A.email=m.email||void 0,A.phoneNumber=m.phoneNumber||void 0)}}(p,d),d}).then(d=>{const C=d.user;return{operationType:d.operationType,credential:lm(d),additionalUserInfo:Dl(d),user:Ss.getOrCreate(C)}})}function jf(p,c){return sc.apply(this,arguments)}function sc(){return(sc=(0,v.Z)(function*(p,c){const d=yield c;return{verificationId:d.verificationId,confirm:m=>br(p,d.confirm(m))}})).apply(this,arguments)}class $f{constructor(c,d){this.resolver=d,this.auth=function Vf(p){return p.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return br(nl(this.auth),this.resolver.resolveSignIn(c))}}class Ss{constructor(c){this._delegate=c,this.multiFactor=function Ou(p){const c=(0,N.m9)(p);return Bi.has(c)||Bi.set(c,as._fromUser(c)),Bi.get(c)}(c)}static getOrCreate(c){return Ss.USER_MAP.has(c)||Ss.USER_MAP.set(c,new Ss(c)),Ss.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,v.Z)(function*(){return br(d.auth,Cu(d._delegate,c))})()}linkWithPhoneNumber(c,d){var m=this;return(0,v.Z)(function*(){return jf(m.auth,function Ba(p,c,d){return Ua.apply(this,arguments)}(m._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,v.Z)(function*(){return br(d.auth,function Fl(p,c,d){return Bl.apply(this,arguments)}(d._delegate,c,tr))})()}linkWithRedirect(c){var d=this;return(0,v.Z)(function*(){return yield rc(Vt(d.auth)),$l(d._delegate,c,tr)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,v.Z)(function*(){return br(d.auth,bu(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return jf(this.auth,function dd(p,c,d){return kl.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return br(this.auth,function wr(p,c,d){return Ll.apply(this,arguments)}(this._delegate,c,tr))}reauthenticateWithRedirect(c){var d=this;return(0,v.Z)(function*(){return yield rc(Vt(d.auth)),jl(d._delegate,c,tr)})()}sendEmailVerification(c){return function Ca(p,c){return Po.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,v.Z)(function*(){return yield function wu(p,c){return er.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function $n(p,c){return tn((0,N.m9)(p),c,null)}(this._delegate,c)}updatePassword(c){return function vi(p,c){return tn((0,N.m9)(p),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Js(p,c){return si.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function td(p,c){return Ta.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function Il(p,c,d){return Mo.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ss.USER_MAP=new WeakMap;const eu=ee;let Wf=(()=>{class p{constructor(d,m){if(this.app=d,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=d.options;eu(C,"invalid-api-key",{appName:d.name}),eu(C,"invalid-api-key",{appName:d.name});const A=typeof window<"u"?tr:void 0;this._delegate=m.initialize({options:{persistence:Wi(C,d.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(ct),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ss.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,m){!function yo(p,c,d){const m=Vt(p);ee(m._canInitEmulator,m,"emulator-config-failed"),ee(/^https?:\/\//.test(c),m,"invalid-emulator-scheme");const C=!!d?.disableWarnings,A=fi(c),{host:U,port:Z}=function vt(p){const c=fi(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(c.length));if(!d)return{host:"",port:null};const m=d[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(m);if(C){const A=C[1];return{host:A,port:vo(m.substr(A.length+1))}}{const[A,U]=m.split(":");return{host:A,port:vo(U)}}}(c);m.config.emulator={url:`${A}//${U}${null===Z?"":`:${Z}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:U,port:Z,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function qi(){function p(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,m)}applyActionCode(d){return function Cf(p,c){return yi.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Ao(this._delegate,d)}confirmPasswordReset(d,m){return function Su(p,c,d){return Ea.apply(this,arguments)}(this._delegate,d,m)}createUserWithEmailAndPassword(d,m){var C=this;return(0,v.Z)(function*(){return br(C._delegate,function ts(p,c,d){return Or.apply(this,arguments)}(C._delegate,d,m))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Ru(p,c){return Da.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function bf(p,c){return"EMAIL_SIGNIN"===Vs.parseLink(c)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,v.Z)(function*(){eu(Xl(),d._delegate,"operation-not-supported-in-this-environment");const m=yield function Uu(p,c){return Vu.apply(this,arguments)}(d._delegate,tr);return m?br(d._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Ed(p,c){Vt(p)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,m,C){const{next:A,error:U,complete:Z}=tu(d,m,C);return this._delegate.onAuthStateChanged(A,U,Z)}onIdTokenChanged(d,m,C){const{next:A,error:U,complete:Z}=tu(d,m,C);return this._delegate.onIdTokenChanged(A,U,Z)}sendSignInLinkToEmail(d,m){return function Ro(p,c,d){return Ia.apply(this,arguments)}(this._delegate,d,m)}sendPasswordResetEmail(d,m){return function va(p,c,d){return lr.apply(this,arguments)}(this._delegate,d,m||void 0)}setPersistence(d){var m=this;return(0,v.Z)(function*(){let C;switch(function wd(p,c){Jo(Object.values(Cr).includes(c),p,"invalid-persistence-type"),(0,N.b$)()?Jo(c!==Cr.SESSION,p,"unsupported-persistence-type"):(0,N.UG)()?Jo(c===Cr.NONE,p,"unsupported-persistence-type"):Qo()?Jo(c===Cr.NONE||c===Cr.LOCAL&&(0,N.hl)(),p,"unsupported-persistence-type"):Jo(c===Cr.NONE||bp(),p,"unsupported-persistence-type")}(m._delegate,d),d){case Cr.SESSION:C=Ii;break;case Cr.LOCAL:C=(yield Jt(fs)._isAvailable())?fs:us;break;case Cr.NONE:C=or;break;default:return me("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return br(this._delegate,function kn(p){return Hs.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return br(this._delegate,bo(this._delegate,d))}signInWithCustomToken(d){return br(this._delegate,function ce(p,c){return _t.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,m){return br(this._delegate,function Au(p,c,d){return bo((0,N.m9)(p),Jc.credential(c,d))}(this._delegate,d,m))}signInWithEmailLink(d,m){return br(this._delegate,function Dn(p,c,d){return $s.apply(this,arguments)}(this._delegate,d,m))}signInWithPhoneNumber(d,m){return jf(this._delegate,function cd(p,c,d){return ps.apply(this,arguments)}(this._delegate,d,m))}signInWithPopup(d){var m=this;return(0,v.Z)(function*(){return eu(Xl(),m._delegate,"operation-not-supported-in-this-environment"),br(m._delegate,function Di(p,c,d){return Xs.apply(this,arguments)}(m._delegate,d,tr))})()}signInWithRedirect(d){var m=this;return(0,v.Z)(function*(){return eu(Xl(),m._delegate,"operation-not-supported-in-this-environment"),yield rc(m._delegate),Ho(m._delegate,d,tr)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Nr(p,c){return ri.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Cr,p})();function tu(p,c,d){let m=p;"function"!=typeof p&&({next:m,error:c,complete:d}=p);const C=m;return{next:U=>C(U&&Ss.getOrCreate(U)),error:c,complete:d}}function Wi(p,c){const d=function Dd(p,c){const d=Cd();if(!d)return[];const m=V(nc,p,c);switch(d.getItem(m)){case Cr.NONE:return[or];case Cr.LOCAL:return[fs,Ii];case Cr.SESSION:return[Ii];default:return[]}}(p,c);if(typeof self<"u"&&!d.includes(fs)&&d.push(fs),typeof window<"u")for(const m of[us,Ii])d.includes(m)||d.push(m);return d.includes(or)||d.push(or),d}class so{constructor(){this.providerId="phone",this._delegate=new Gr(nl(q.Z.auth()))}static credential(c,d){return Gr.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}so.PHONE_SIGN_IN_METHOD=Gr.PHONE_SIGN_IN_METHOD,so.PROVIDER_ID=Gr.PROVIDER_ID;const Gf=ee;class zf{constructor(c,d,m=q.Z.app()){var C;Gf(null===(C=m.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new Ol(c,d,m.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function um(p){p.INTERNAL.registerComponent(new fe.wA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),m=c.getProvider("auth");return new Wf(d,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K_EMAIL_SIGNIN,PASSWORD_RESET:K_PASSWORD_RESET,RECOVER_EMAIL:K_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K_VERIFY_EMAIL}},EmailAuthProvider:Jc,FacebookAuthProvider:_l,GithubAuthProvider:Xc,GoogleAuthProvider:pa,OAuthProvider:Xi,SAMLAuthProvider:wo,PhoneAuthProvider:so,PhoneMultiFactorGenerator:Gn,RecaptchaVerifier:zf,TwitterAuthProvider:ga,Auth:Wf,AuthCredential:hi,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.2")}(q.Z)},5861:(st,be,k)=>{"use strict";function v(N,se,te,ie,fe,ge,pe){try{var B=N[ge](pe),F=B.value}catch(K){return void te(K)}B.done?se(F):Promise.resolve(F).then(ie,fe)}function q(N){return function(){var se=this,te=arguments;return new Promise(function(ie,fe){var ge=N.apply(se,te);function pe(F){v(ge,ie,fe,pe,B,"next",F)}function B(F){v(ge,ie,fe,pe,B,"throw",F)}pe(void 0)})}}k.d(be,{Z:()=>q})},7582:(st,be,k)=>{"use strict";function se(re,le){var de={};for(var ne in re)Object.prototype.hasOwnProperty.call(re,ne)&&le.indexOf(ne)<0&&(de[ne]=re[ne]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(ne=Object.getOwnPropertySymbols(re);De<ne.length;De++)le.indexOf(ne[De])<0&&Object.prototype.propertyIsEnumerable.call(re,ne[De])&&(de[ne[De]]=re[ne[De]])}return de}function K(re,le,de,ne){return new(de||(de=Promise))(function(Ee,Qe){function Je(bt){try{Xe(ne.next(bt))}catch(nn){Qe(nn)}}function Zt(bt){try{Xe(ne.throw(bt))}catch(nn){Qe(nn)}}function Xe(bt){bt.done?Ee(bt.value):function De(Ee){return Ee instanceof de?Ee:new de(function(Qe){Qe(Ee)})}(bt.value).then(Je,Zt)}Xe((ne=ne.apply(re,le||[])).next())})}function Te(re){return this instanceof Te?(this.v=re,this):new Te(re)}function me(re,le,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ne=de.apply(re,le||[]),Ee=[];return De={},Qe("next"),Qe("throw"),Qe("return"),De[Symbol.asyncIterator]=function(){return this},De;function Qe(Wt){ne[Wt]&&(De[Wt]=function(un){return new Promise(function(Cn,cn){Ee.push([Wt,un,Cn,cn])>1||Je(Wt,un)})})}function Je(Wt,un){try{!function Zt(Wt){Wt.value instanceof Te?Promise.resolve(Wt.value.v).then(Xe,bt):nn(Ee[0][2],Wt)}(ne[Wt](un))}catch(Cn){nn(Ee[0][3],Cn)}}function Xe(Wt){Je("next",Wt)}function bt(Wt){Je("throw",Wt)}function nn(Wt,un){Wt(un),Ee.shift(),Ee.length&&Je(Ee[0][0],Ee[0][1])}}function Be(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,le=re[Symbol.asyncIterator];return le?le.call(re):(re=function He(re){var le="function"==typeof Symbol&&Symbol.iterator,de=le&&re[le],ne=0;if(de)return de.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ne>=re.length&&(re=void 0),{value:re&&re[ne++],done:!re}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),de={},ne("next"),ne("throw"),ne("return"),de[Symbol.asyncIterator]=function(){return this},de);function ne(Ee){de[Ee]=re[Ee]&&function(Qe){return new Promise(function(Je,Zt){!function De(Ee,Qe,Je,Zt){Promise.resolve(Zt).then(function(Xe){Ee({value:Xe,done:Je})},Qe)}(Je,Zt,(Qe=re[Ee](Qe)).done,Qe.value)})}}}k.d(be,{FC:()=>me,KL:()=>Be,_T:()=>se,mG:()=>K,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},st=>{st(st.s=3810)}]);